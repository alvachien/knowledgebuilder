(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{V7M2:function(e,t,o){"use strict";o.r(t),o.d(t,"ExerciseItemsModule",function(){return bt});var i=o("ofXK"),a=o("3Pt+"),c=o("0LvA"),n=o("lR5k"),l=o("QPBi"),r=o("jIBr"),s=o("dcRk"),b=o("tyNb"),d=o("fXoL"),m=o("M9IT"),u=o("Dh3D"),p=o("VRyK"),h=o("LRne"),f=o("JX91"),g=o("eIep"),E=o("nYR2"),v=o("lJxs"),V=o("JIr8"),x=o("VHTt"),C=o("NUjs"),w=o("0IaG"),W=o("kmnG"),k=o("qFsG"),F=o("MutI"),I=o("bTqV");const y=["colls"];function M(e,t){if(1&e&&(d.Wb(0,"mat-list-option",9),d.Fc(1),d.Vb()),2&e){const e=t.$implicit,o=d.ic();d.oc("disabled",o.isItemExistedInColl(e))("value",e.ID),d.Eb(1),d.Hc(" ",e.Name," ")}}let j=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngAfterViewInit(){this.colls.selectionChange.subscribe({next:e=>{this.data.collids=[],this.colls.selectedOptions.selected.forEach(e=>{this.data.collids.push(+e.value)})},error:e=>{}})}onNoClick(){this.dialogRef.close()}isItemExistedInColl(e){return-1!==e.Items.findIndex(e=>e.RefID===this.data.excitemid&&e.RefType===x.D.ExerciseItem)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(w.g),d.Qb(w.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-exercise-item-addcoll-dlg"]],viewQuery:function(e,t){if(1&e&&d.Kc(y,1),2&e){let e;d.uc(e=d.fc())&&(t.colls=e.first)}},decls:21,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","excitemid",3,"ngModel","ngModelChange"],["colls",""],[3,"disabled","value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"disabled","mat-dialog-close"],[3,"disabled","value"]],template:function(e,t){1&e&&(d.Wb(0,"h1",0),d.Fc(1),d.jc(2,"transloco"),d.Vb(),d.Wb(3,"div",1),d.Wb(4,"div"),d.Wb(5,"mat-form-field",2),d.Wb(6,"mat-label"),d.Fc(7,"ID"),d.Vb(),d.Wb(8,"input",3),d.ec("ngModelChange",function(e){return t.data.excitemid=e}),d.Vb(),d.Vb(),d.Wb(9,"mat-label"),d.Fc(10),d.jc(11,"transloco"),d.Vb(),d.Wb(12,"mat-selection-list",null,4),d.Ec(14,M,2,3,"mat-list-option",5),d.Vb(),d.Vb(),d.Vb(),d.Wb(15,"div",6),d.Wb(16,"button",7),d.ec("click",function(){return t.onNoClick()}),d.Fc(17),d.jc(18,"transloco"),d.Vb(),d.Wb(19,"button",8),d.Fc(20,"OK"),d.Vb(),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,7,"AddToCollection")),d.Eb(7),d.oc("ngModel",t.data.excitemid),d.Eb(2),d.Gc(d.kc(11,9,"UserCollection")),d.Eb(4),d.oc("ngForOf",t.data.availableColls),d.Eb(3),d.Gc(d.kc(18,11,"Common.NoThanks")),d.Eb(2),d.oc("disabled",t.data.collids.length<=0)("mat-dialog-close",t.data))},directives:[w.h,w.e,W.c,W.g,k.b,a.c,a.n,a.q,F.f,i.l,w.c,I.b,w.d,F.d],pipes:[l.d],encapsulation:2}),e})(),S=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}onNoClick(){this.dialogRef.close()}get isOKDisabled(){return null==this.data.score||isNaN(+this.data.score)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(w.g),d.Qb(w.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-exercise-item-newscore-dlg"]],decls:24,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","excitemid",3,"ngModel","ngModelChange"],["matInput","","disabled","","name","date",3,"ngModel","ngModelChange"],["matInput","","type","number","name","score",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(e,t){1&e&&(d.Wb(0,"h1",0),d.Fc(1),d.jc(2,"transloco"),d.Vb(),d.Wb(3,"div",1),d.Wb(4,"form"),d.Wb(5,"mat-form-field",2),d.Wb(6,"mat-label"),d.Fc(7,"ID"),d.Vb(),d.Wb(8,"input",3),d.ec("ngModelChange",function(e){return t.data.excitemid=e}),d.Vb(),d.Vb(),d.Wb(9,"mat-form-field",2),d.Wb(10,"mat-label"),d.Fc(11,"Date"),d.Vb(),d.Wb(12,"input",4),d.ec("ngModelChange",function(e){return t.data.pracDate=e}),d.Vb(),d.Vb(),d.Wb(13,"mat-form-field",2),d.Wb(14,"mat-label"),d.Fc(15),d.jc(16,"transloco"),d.Vb(),d.Wb(17,"input",5),d.ec("ngModelChange",function(e){return t.data.score=e}),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(18,"div",6),d.Wb(19,"button",7),d.ec("click",function(){return t.onNoClick()}),d.Fc(20),d.jc(21,"transloco"),d.Vb(),d.Wb(22,"button",8),d.Fc(23,"OK"),d.Vb(),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,8,"NewPractice")),d.Eb(7),d.oc("ngModel",t.data.excitemid),d.Eb(4),d.oc("ngModel",t.data.pracDate),d.Eb(3),d.Gc(d.kc(16,10,"Quiz.Score")),d.Eb(2),d.oc("ngModel",t.data.score),d.Eb(3),d.Gc(d.kc(21,12,"Common.NoThanks")),d.Eb(2),d.oc("disabled",t.isOKDisabled)("mat-dialog-close",t.data))},directives:[w.h,w.e,a.v,a.o,a.p,W.c,W.g,k.b,a.c,a.n,a.q,a.r,w.c,I.b,w.d],pipes:[l.d],encapsulation:2}),e})();var $=o("o0su"),D=o("/t3+"),O=o("Qu3c"),T=o("NFeN"),N=o("+0xr");function R(e,t){1&e&&(d.Wb(0,"th",19),d.Fc(1,"#"),d.Vb())}function G(e,t){if(1&e){const e=d.Xb();d.Wb(0,"td",20),d.Wb(1,"div"),d.Fc(2),d.Wb(3,"button",21),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onDisplayItem(o.ID)}),d.jc(4,"transloco"),d.Wb(5,"mat-icon"),d.Fc(6,"launch"),d.Vb(),d.Vb(),d.Wb(7,"button",4),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onChangeItem(o.ID)}),d.jc(8,"transloco"),d.Wb(9,"mat-icon"),d.Fc(10,"edit"),d.Vb(),d.Vb(),d.Wb(11,"button",4),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onAddToCollection(o.ID)}),d.jc(12,"transloco"),d.Wb(13,"mat-icon"),d.Fc(14,"add_to_queue"),d.Vb(),d.Vb(),d.Wb(15,"button",4),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onNewPractice(o.ID)}),d.jc(16,"transloco"),d.Wb(17,"mat-icon"),d.Fc(18,"ballot"),d.Vb(),d.Vb(),d.Wb(19,"button",22),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onDeleteItem(o.ID)}),d.jc(20,"transloco"),d.Wb(21,"mat-icon"),d.Fc(22,"remove_circle"),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,o=d.ic();d.Eb(2),d.Hc(" ",e.ID," "),d.Eb(1),d.pc("matTooltip",d.kc(4,11,"Common.Display")),d.oc("disabled",!o.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(8,13,"Common.Change")),d.oc("disabled",!o.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(12,15,"AddToCollection")),d.oc("disabled",!o.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(16,17,"NewPractice")),d.oc("disabled",!o.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(20,19,"Common.Delete")),d.oc("disabled",!o.isExpertMode)}}function P(e,t){1&e&&(d.Wb(0,"th",19),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"Type")))}function U(e,t){if(1&e&&(d.Wb(0,"td",20),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit,o=d.ic();d.Eb(1),d.Gc(d.kc(2,1,o.getExerciseItemTypeName(e.ItemType)))}}function L(e,t){1&e&&(d.Wb(0,"th",19),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"Tag")))}function _(e,t){if(1&e&&(d.Wb(0,"td",20),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e.Tags.toString())}}function A(e,t){1&e&&(d.Wb(0,"th",19),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"KnowledgeItem")))}function H(e,t){if(1&e&&(d.Wb(0,"td",20),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e.KnowledgeItemID)}}function q(e,t){1&e&&(d.Wb(0,"th",23),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"CreatedAt")))}function K(e,t){if(1&e&&(d.Wb(0,"td",20),d.Fc(1),d.jc(2,"date"),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(d.lc(2,1,e.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function z(e,t){1&e&&d.Rb(0,"tr",24)}function Q(e,t){1&e&&d.Rb(0,"tr",25)}let X=(()=>{class e{constructor(e,t,o){this.odataService=e,this.dialog=t,this.uiUtilSrv=o,this.displayedColumns=["id","itemtype","tags","knowledgeitem","createdat"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new d.o}getExerciseItemTypeName(e){return Object(C.e)(e)}get isExpertMode(){return this.odataService.expertMode}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(p.a)(this.sort.sortChange,this.paginator.page,this.refreshEvent).pipe(Object(f.a)({}),Object(g.a)(()=>{this.isLoadingResults=!0;const e=this.paginator.pageSize;return this.odataService.getExerciseItems(e,e*this.paginator.pageIndex,this.sort.active,this.sort.direction)}),Object(E.a)(()=>this.isLoadingResults=!1),Object(v.a)(e=>(this.resultsLength=e.totalCount,e.items)),Object(V.a)(()=>Object(h.a)([]))).subscribe({next:e=>this.dataSource=e,error:e=>this.uiUtilSrv.showSnackInfo(e)})}onGoToPreview(){const e=[];this.dataSource.forEach(t=>{e.push({refType:x.D.ExerciseItem,refId:t.ID})}),this.uiUtilSrv.navigatePreviewPage(e)}onGoToSearch(){this.uiUtilSrv.navigateExerciseItemSearchPage()}onDeleteItem(e){this.odataService.deleteExerciseItem(e).subscribe({next:e=>{this.onRefreshList()},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}onDisplayItem(e){this.uiUtilSrv.navigateExerciseItemDisplayPage(e)}onChangeItem(e){this.uiUtilSrv.navigateExerciseItemChangePage(e)}onAddToCollection(e){this.odataService.getUserCollections().subscribe({next:t=>{const o=t.items;this.dialog.open(j,{width:"600px",closeOnNavigation:!1,data:{excitemid:e,availableColls:o,collids:[]}}).afterClosed().subscribe(t=>{const i=[];t.collids.forEach(t=>{const a=o.findIndex(e=>e.ID===+t);if(-1!==a){const t=new x.G;t.ID=o[a].ID,t.RefID=e,t.RefType=x.D.ExerciseItem,i.push(t)}}),i.length>0&&this.odataService.addExerciseItemToCollection(i).subscribe({next:e=>{this.uiUtilSrv.showSnackInfo("DONE")},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})})},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})}onNewPractice(e){this.dialog.open(S,{width:"600px",closeOnNavigation:!1,data:{excitemid:e,pracDate:(new Date).toDateString(),score:void 0}}).afterClosed().subscribe(e=>{const t=new C.d;t.RefID=e.excitemid,t.Score=e.score,t.TakenDate=new Date,t.User=this.odataService.currentUser,this.odataService.createExerciseItemUserScore(t).subscribe({next:e=>{this.uiUtilSrv.showSnackInfo("DONE")},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb($.b),d.Qb(w.b),d.Qb($.d))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-exercise-items"]],viewQuery:function(e,t){if(1&e&&(d.Kc(m.a,1),d.Kc(u.a,1)),2&e){let e;d.uc(e=d.fc())&&(t.paginator=e.first),d.uc(e=d.fc())&&(t.sort=e.first)}},decls:47,vars:28,consts:[[1,"toolbar-spacer"],["mat-icon-button","","color","primary","routerLink","create",3,"disabled","matTooltip"],["mat-icon-button","","color","accent",2,"margin-left","12px",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent","routerLink","score",2,"margin-left","12px",3,"disabled","matTooltip"],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemtype"],["matColumnDef","tags"],["matColumnDef","knowledgeitem"],["matColumnDef","createdat"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"disabled","matTooltip","click"],["mat-icon-button","","color","warn",3,"disabled","matTooltip","click"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(d.Wb(0,"mat-toolbar-row"),d.Wb(1,"span"),d.Fc(2),d.jc(3,"transloco"),d.Vb(),d.Rb(4,"span",0),d.Wb(5,"section"),d.Wb(6,"button",1),d.jc(7,"transloco"),d.Wb(8,"mat-icon"),d.Fc(9,"add_circle"),d.Vb(),d.Vb(),d.Wb(10,"button",2),d.ec("click",function(){return t.onGoToSearch()}),d.jc(11,"transloco"),d.Wb(12,"mat-icon"),d.Fc(13,"search"),d.Vb(),d.Vb(),d.Wb(14,"button",3),d.jc(15,"transloco"),d.Wb(16,"mat-icon"),d.Fc(17,"recent_actors"),d.Vb(),d.Vb(),d.Wb(18,"button",4),d.ec("click",function(){return t.onGoToPreview()}),d.jc(19,"transloco"),d.Wb(20,"mat-icon"),d.Fc(21,"slideshow"),d.Vb(),d.Vb(),d.Wb(22,"button",2),d.ec("click",function(){return t.onRefreshList()}),d.jc(23,"transloco"),d.Wb(24,"mat-icon"),d.Fc(25,"refresh"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(26,"div",5),d.Wb(27,"div",6),d.Wb(28,"table",7),d.ec("matSortChange",function(){return t.resetPaging()}),d.Ub(29,8),d.Ec(30,R,2,0,"th",9),d.Ec(31,G,23,21,"td",10),d.Tb(),d.Ub(32,11),d.Ec(33,P,3,3,"th",9),d.Ec(34,U,3,3,"td",10),d.Tb(),d.Ub(35,12),d.Ec(36,L,3,3,"th",9),d.Ec(37,_,2,1,"td",10),d.Tb(),d.Ub(38,13),d.Ec(39,A,3,3,"th",9),d.Ec(40,H,2,1,"td",10),d.Tb(),d.Ub(41,14),d.Ec(42,q,3,3,"th",15),d.Ec(43,K,3,4,"td",10),d.Tb(),d.Ec(44,z,1,0,"tr",16),d.Ec(45,Q,1,0,"tr",17),d.Vb(),d.Vb(),d.Rb(46,"mat-paginator",18),d.Vb()),2&e&&(d.Eb(2),d.Gc(d.kc(3,16,"ExerciseItem")),d.Eb(4),d.pc("matTooltip",d.kc(7,18,"Common.Create")),d.oc("disabled",!t.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(11,20,"Common.Search")),d.oc("disabled",!t.isExpertMode||t.dataSource.length<=0),d.Eb(4),d.pc("matTooltip",d.kc(15,22,"PracticeHistories")),d.oc("disabled",!t.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(19,24,"Common.Preview")),d.oc("disabled",!t.isExpertMode||t.dataSource.length<=0),d.Eb(4),d.pc("matTooltip",d.kc(23,26,"Common.Refresh")),d.oc("disabled",!t.isExpertMode),d.Eb(6),d.oc("dataSource",t.dataSource),d.Eb(16),d.oc("matHeaderRowDef",t.displayedColumns),d.Eb(1),d.oc("matRowDefColumns",t.displayedColumns),d.Eb(1),d.oc("length",t.resultsLength)("pageSize",20))},directives:[D.c,I.b,b.c,O.a,T.a,N.j,u.a,N.c,N.e,N.b,N.g,N.i,m.a,N.d,N.a,u.b,N.f,N.h],pipes:[l.d,i.e],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:300px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]}),e})();var B=o("jtHE"),Y=o("FtGj"),J=o("rCpU"),Z=o("HKRH"),ee=o("Wp6s"),te=o("7EHt"),oe=o("d3UM"),ie=o("A5z7"),ae=o("XiUz"),ce=o("FKr1");function ne(e,t){if(1&e&&(d.Wb(0,"mat-option",19),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit;d.oc("value",e.value),d.Eb(1),d.Gc(d.kc(2,2,e.i18nterm))}}function le(e,t){1&e&&(d.Wb(0,"mat-icon",22),d.Fc(1,"cancel"),d.Vb())}function re(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-chip",20),d.ec("removed",function(){d.xc(e);const o=t.$implicit;return d.ic().removeTag(o)}),d.Fc(1),d.Ec(2,le,2,0,"mat-icon",21),d.Vb()}if(2&e){const e=t.$implicit,o=d.ic();d.oc("selectable",o.selectable)("removable",o.isEditable),d.Eb(1),d.Hc(" ",e," "),d.Eb(1),d.oc("ngIf",o.isEditable)}}function se(e,t){if(1&e&&(d.Wb(0,"mat-expansion-panel"),d.Wb(1,"mat-expansion-panel-header"),d.Wb(2,"mat-panel-title"),d.Fc(3),d.jc(4,"transloco"),d.Vb(),d.Wb(5,"mat-panel-description"),d.Fc(6),d.jc(7,"transloco"),d.Wb(8,"mat-icon"),d.Fc(9,"info"),d.Vb(),d.Vb(),d.Vb(),d.Wb(10,"div",23),d.Wb(11,"div",24),d.Wb(12,"mat-form-field",3),d.Wb(13,"mat-label"),d.Fc(14),d.jc(15,"transloco"),d.Vb(),d.Rb(16,"input",25),d.jc(17,"transloco"),d.jc(18,"date"),d.Vb(),d.Vb(),d.Wb(19,"div",24),d.Wb(20,"mat-form-field",3),d.Wb(21,"mat-label"),d.Fc(22),d.jc(23,"transloco"),d.Vb(),d.Rb(24,"input",25),d.jc(25,"transloco"),d.jc(26,"date"),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=d.ic();d.Eb(3),d.Gc(d.kc(4,8,"Administrative")),d.Eb(3),d.Gc(d.kc(7,10,"AdministrativeInfo")),d.Eb(8),d.Gc(d.kc(15,12,"CreatedAt")),d.Eb(2),d.pc("placeholder",d.kc(17,14,"CreatedAt")),d.oc("ngModel",d.lc(18,16,e.itemObject.CreatedAt,"yyyy-M-d HH:mm:ss")),d.Eb(6),d.Gc(d.kc(23,19,"ModifiedAt")),d.Eb(2),d.pc("placeholder",d.kc(25,21,"ModifiedAt")),d.oc("ngModel",d.lc(26,23,e.itemObject.ModifiedAt,"yyyy-M-d HH:mm:ss"))}}function be(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-toolbar"),d.Wb(1,"h3"),d.Fc(2),d.jc(3,"transloco"),d.Vb(),d.Rb(4,"div",26),d.Wb(5,"button",27),d.ec("click",function(){return d.xc(e),d.ic().openUploadDialog()}),d.Fc(6,"Upload"),d.Vb(),d.Vb()}2&e&&(d.Eb(2),d.Gc(d.kc(3,1,"Content")))}function de(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",24),d.Wb(1,"ngx-monaco-editor",28),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().content=t}),d.Vb(),d.Vb()}if(2&e){const e=d.ic();d.Eb(1),d.oc("options",e.editorOptions)("ngModel",e.content)}}function me(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-toolbar"),d.Wb(1,"h3"),d.Fc(2),d.jc(3,"transloco"),d.Vb(),d.Rb(4,"div",26),d.Wb(5,"button",27),d.ec("click",function(){return d.xc(e),d.ic().openAnswerUploadDialog()}),d.Wb(6,"mat-icon"),d.Fc(7,"file_upload"),d.Vb(),d.Vb(),d.Vb()}2&e&&(d.Eb(2),d.Gc(d.kc(3,1,"Answer")))}function ue(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",24),d.Wb(1,"ngx-monaco-editor",28),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().answerContent=t}),d.Vb(),d.Vb()}if(2&e){const e=d.ic();d.Eb(1),d.oc("options",e.editorOptions)("ngModel",e.answerContent)}}let pe=(()=>{class e{constructor(e,t,o,i){this.dialog=e,this.activateRoute=t,this.uiUtilSrv=o,this.odataService=i,this.routerID=-1,this.uiMode=J.b.Create,this.currentMode="",this.editorOptions={theme:"vs-dark",wordWrap:"on",roundedSelection:!0},this.content="New Exercise Item",this.answerContent="",this.mathOptions={displayMode:!0,throwOnError:!1,errorColor:"#cc0000"},this.selectable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[Y.g,Y.c],this.tags=[],this.arExerciseTypes=[],this.arExerciseTypes=Object(C.f)(),this.itemFormGroup=new a.g({idControl:new a.e({value:null,disabled:!0}),typeControl:new a.e({value:C.c.Question}),knowledgeControl:new a.e,tagControl:new a.e})}get isDisplayMode(){return this.uiMode===J.b.Display}get isCreateMode(){return this.uiMode===J.b.Create}get isUpdateMode(){return this.uiMode===J.b.Update}get isEditable(){return this.uiMode===J.b.Create||this.uiMode===J.b.Update}ngOnInit(){this.destroyed$=new B.a(1),this.activateRoute.url.subscribe({next:e=>{e instanceof Array&&e.length>0&&("create"===e[0].path?(this.routerID=-1,this.uiMode=J.b.Create,this.currentMode="Common.Create"):"edit"===e[0].path?(this.routerID=+e[1].path,this.uiMode=J.b.Update,this.currentMode="Common.Change"):"display"===e[0].path&&(this.routerID=+e[1].path,this.uiMode=J.b.Display,this.currentMode="Common.Display")),-1!==this.routerID&&this.odataService.readExerciseItem(this.routerID,this.uiMode===J.b.Update).subscribe({next:e=>{this.onSetItemData(e),this.itemObject=e},error:e=>{console.error(e)}})},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})}ngOnDestroy(){this.destroyed$&&(this.destroyed$.complete(),this.destroyed$=void 0)}onOK(){var e,t;if(this.isCreateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.error(this.itemFormGroup.errors));this.itemObject=new C.a,this.itemObject.ItemType=null===(e=this.itemFormGroup.get("typeControl"))||void 0===e?void 0:e.value,this.itemObject.Content=this.content,this.itemObject.Tags=this.tags,this.itemObject.Answer=this.answerContent,this.odataService.createExerciseItem(this.itemObject).subscribe({next:e=>{this.uiUtilSrv.navigateExerciseItemDisplayPage(e.ID)},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})}else if(this.isUpdateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.log(this.itemFormGroup.errors));this.itemObject&&(this.itemObject.ItemType=null===(t=this.itemFormGroup.get("typeControl"))||void 0===t?void 0:t.value,this.itemObject.Content=this.content,this.itemObject.Tags=this.tags,this.itemObject.Answer=this.answerContent,this.odataService.changeExerciseItem(this.itemObject).subscribe({next:e=>{this.uiUtilSrv.navigateExerciseItemDisplayPage(e.ID)},error:e=>{this.uiUtilSrv.showSnackInfo(e)}}))}}openUploadDialog(){this.dialog.open(Z.a,{width:"50%",height:"50%"}).afterClosed().subscribe({next:e=>{console.log(e),e.forEach(e=>{this.content+=`\n![Img](${e.url})\n          `})}})}openAnswerUploadDialog(){this.dialog.open(Z.a,{width:"50%",height:"50%"}).afterClosed().subscribe({next:e=>{console.log(e),e.forEach(e=>{this.answerContent+=`\n  ![Img](${e.url})\n            `})}})}addTag(e){const t=e.input,o=e.value;(o||"").trim()&&this.tags.push(o.trim()),t&&(t.value="")}removeTag(e){const t=this.tags.indexOf(e);t>=0&&this.tags.splice(t,1)}onSetItemData(e){var t,o,i;null===(t=this.itemFormGroup.get("idControl"))||void 0===t||t.setValue(e.ID),null===(o=this.itemFormGroup.get("idControl"))||void 0===o||o.disable(),null===(i=this.itemFormGroup.get("typeControl"))||void 0===i||i.setValue(+e.ItemType),this.content=e.Content,this.tags=e.Tags,this.isDisplayMode?this.itemFormGroup.disable():this.itemFormGroup.markAsPristine()}onReturnToList(){this.uiUtilSrv.navigateExerciseItemListPage()}onCreateNewOne(){this.uiUtilSrv.navigateExerciseItemCreatePage()}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(w.b),d.Qb(b.a),d.Qb($.d),d.Qb($.b))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-exercise-item-detail"]],decls:65,vars:47,consts:[["multi","",1,"example-headers-align"],["expanded",""],[3,"formGroup"],["appearance","fill",1,"control-full-width"],["matInput","","type","text","placeholder","ID","formControlName","idControl"],["required","","formControlName","typeControl"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagControl"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","New tag...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["matInput","","type","text","placeholder","Knowledge ID","formControlName","knowledgeControl"],[4,"ngIf"],["fxLayout","row",1,"control-full-width",2,"height","500px"],["fxFlex","50",4,"ngIf"],["fxFlex","",2,"height","100%","overflow-y","scroll"],["katex","",3,"data","katexOptions"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["fxLayout","row",1,"control-full-width"],["fxFlex","50"],["matInput","","type","text","disabled","",3,"placeholder","ngModel"],[1,"toolbar-spacer"],["mat-raised-button","",3,"click"],[2,"height","100%",3,"options","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(d.Wb(0,"mat-card"),d.Wb(1,"mat-card-header"),d.Wb(2,"mat-card-title"),d.Fc(3),d.jc(4,"transloco"),d.Vb(),d.Wb(5,"mat-card-subtitle"),d.Fc(6),d.jc(7,"transloco"),d.Vb(),d.Vb(),d.Wb(8,"mat-card-content"),d.Wb(9,"mat-accordion",0),d.Wb(10,"mat-expansion-panel",1),d.Wb(11,"mat-expansion-panel-header"),d.Wb(12,"mat-panel-title"),d.Fc(13),d.jc(14,"transloco"),d.Vb(),d.Wb(15,"mat-panel-description"),d.Fc(16),d.jc(17,"transloco"),d.Wb(18,"mat-icon"),d.Fc(19,"public"),d.Vb(),d.Vb(),d.Vb(),d.Wb(20,"form",2),d.Wb(21,"mat-form-field",3),d.Wb(22,"mat-label"),d.Fc(23,"#"),d.Vb(),d.Rb(24,"input",4),d.Vb(),d.Wb(25,"mat-form-field",3),d.Wb(26,"mat-label"),d.Fc(27),d.jc(28,"transloco"),d.Vb(),d.Wb(29,"mat-select",5),d.Ec(30,ne,3,4,"mat-option",6),d.Vb(),d.Vb(),d.Wb(31,"mat-form-field",3),d.Wb(32,"mat-label"),d.Fc(33),d.jc(34,"transloco"),d.Vb(),d.Wb(35,"mat-chip-list",7,8),d.Ec(37,re,3,4,"mat-chip",9),d.Wb(38,"input",10),d.ec("matChipInputTokenEnd",function(e){return t.addTag(e)}),d.Vb(),d.Vb(),d.Vb(),d.Wb(39,"mat-form-field",3),d.Wb(40,"mat-label"),d.Fc(41),d.jc(42,"transloco"),d.Vb(),d.Rb(43,"input",11),d.Vb(),d.Vb(),d.Vb(),d.Ec(44,se,27,26,"mat-expansion-panel",12),d.Vb(),d.Ec(45,be,7,3,"mat-toolbar",12),d.Wb(46,"div",13),d.Ec(47,de,2,2,"div",14),d.Wb(48,"div",15),d.Rb(49,"markdown",16),d.Vb(),d.Vb(),d.Ec(50,me,8,3,"mat-toolbar",12),d.Wb(51,"div",13),d.Ec(52,ue,2,2,"div",14),d.Wb(53,"div",15),d.Rb(54,"markdown",16),d.Vb(),d.Vb(),d.Vb(),d.Wb(55,"mat-card-actions"),d.Wb(56,"button",17),d.ec("click",function(){return t.onOK()}),d.Fc(57),d.jc(58,"transloco"),d.Vb(),d.Wb(59,"button",18),d.ec("click",function(){return t.onReturnToList()}),d.Fc(60),d.jc(61,"transloco"),d.Vb(),d.Wb(62,"button",17),d.ec("click",function(){return t.onCreateNewOne()}),d.Fc(63),d.jc(64,"transloco"),d.Vb(),d.Vb(),d.Vb()),2&e){const e=d.vc(36);d.Eb(3),d.Gc(d.kc(4,27,"ExerciseItem")),d.Eb(3),d.Gc(d.kc(7,29,t.currentMode)),d.Eb(7),d.Gc(d.kc(14,31,"Header")),d.Eb(3),d.Gc(d.kc(17,33,"HeaderInfo")),d.Eb(4),d.oc("formGroup",t.itemFormGroup),d.Eb(7),d.Gc(d.kc(28,35,"Type")),d.Eb(3),d.oc("ngForOf",t.arExerciseTypes),d.Eb(3),d.Gc(d.kc(34,37,"Tags")),d.Eb(4),d.oc("ngForOf",t.tags),d.Eb(1),d.oc("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),d.Eb(3),d.Gc(d.kc(42,39,"KnowledgeItem")),d.Eb(3),d.oc("ngIf",!t.isCreateMode&&t.itemObject),d.Eb(1),d.oc("ngIf",t.isCreateMode),d.Eb(2),d.oc("ngIf",!t.isDisplayMode),d.Eb(2),d.oc("data",t.content)("katexOptions",t.mathOptions),d.Eb(1),d.oc("ngIf",t.isCreateMode),d.Eb(2),d.oc("ngIf",t.isCreateMode),d.Eb(2),d.oc("data",t.answerContent)("katexOptions",t.mathOptions),d.Eb(2),d.oc("disabled",!(t.isEditable&&t.itemFormGroup.valid)),d.Eb(1),d.Gc(d.kc(58,41,"Save")),d.Eb(3),d.Gc(d.kc(61,43,"Common.ReturnToList")),d.Eb(2),d.oc("disabled",!t.isDisplayMode),d.Eb(1),d.Gc(d.kc(64,45,"Common.CreateAnotherOne"))}},directives:[ee.a,ee.d,ee.g,ee.f,ee.c,te.a,te.c,te.e,te.f,te.d,T.a,a.v,a.o,a.h,W.c,W.g,k.b,a.c,a.n,a.f,oe.a,a.t,i.l,ie.c,ie.b,i.m,ae.c,ae.a,n.a,ee.b,I.b,ce.n,ie.a,ie.d,a.q,D.a,c.a],pipes:[l.d,i.e],styles:[".example-form[_ngcontent-%COMP%]{margin:8px;min-width:150px;max-width:500px;width:100%}.mat-card-actions[_ngcontent-%COMP%]{margin-top:10px}.example-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.example-headers-align[_ngcontent-%COMP%]{margin:8px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),e})();var he=o("2Vo4"),fe=o("f0Cb"),ge=o("iadO"),Ee=o("bSwM"),ve=o("pFkP");function Ve(e,t){if(1&e&&(d.Wb(0,"mat-option",25),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit;d.oc("value",e.value),d.Eb(1),d.Hc(" ",d.kc(2,2,e.displayas)," ")}}function xe(e,t){if(1&e&&(d.Wb(0,"mat-option",25),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit;d.oc("value",e.value),d.Eb(1),d.Hc(" ",d.kc(2,2,e.i18nterm)," ")}}function Ce(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-form-field"),d.Wb(1,"input",26),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.jc(2,"transloco"),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(1),d.pc("placeholder",d.kc(2,2,"Value")),d.oc("ngModel",e.value[0])}}function we(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-form-field"),d.Wb(1,"input",27),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[1]=t}),d.jc(2,"transloco"),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(1),d.pc("placeholder",d.kc(2,2,"Value")),d.oc("ngModel",e.value[1])}}function We(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-form-field"),d.Wb(1,"input",28),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.jc(2,"transloco"),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(1),d.pc("placeholder",d.kc(2,2,"Value")),d.oc("ngModel",e.value[0])}}function ke(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-form-field"),d.Wb(1,"input",29),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.jc(2,"transloco"),d.Vb(),d.Rb(3,"mat-datepicker-toggle",30),d.Rb(4,"mat-datepicker",null,31),d.Vb()}if(2&e){const e=d.vc(5),t=d.ic().$implicit;d.Eb(1),d.pc("placeholder",d.kc(2,4,"Value")),d.oc("ngModel",t.value[0])("matDatepicker",e),d.Eb(2),d.oc("for",e)}}function Fe(e,t){if(1&e){const e=d.Xb();d.Wb(0,"mat-form-field"),d.Wb(1,"input",29),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[1]=t}),d.jc(2,"transloco"),d.Vb(),d.Rb(3,"mat-datepicker-toggle",30),d.Rb(4,"mat-datepicker",null,32),d.Vb()}if(2&e){const e=d.vc(5),t=d.ic().$implicit;d.Eb(1),d.pc("placeholder",d.kc(2,4,"Value")),d.oc("ngModel",t.value[1])("matDatepicker",e),d.Eb(2),d.oc("for",e)}}function Ie(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",33),d.Wb(1,"mat-checkbox",34),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(1),d.oc("ngModel",e.value[0])}}function ye(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",1),d.Wb(1,"mat-form-field"),d.Wb(2,"mat-select",18),d.ec("ngModelChange",function(e){return t.$implicit.fieldName=e})("selectionChange",function(){d.xc(e);const o=t.$implicit;return d.ic().onFieldSelectionChanged(o)}),d.jc(3,"transloco"),d.Ec(4,Ve,3,4,"mat-option",19),d.Vb(),d.Vb(),d.Wb(5,"mat-form-field"),d.Wb(6,"mat-select",20),d.ec("ngModelChange",function(e){return t.$implicit.operator=e}),d.jc(7,"transloco"),d.Ec(8,xe,3,4,"mat-option",19),d.jc(9,"operatorFilter"),d.Vb(),d.Vb(),d.Ec(10,Ce,3,4,"mat-form-field",21),d.Ec(11,we,3,4,"mat-form-field",21),d.Ec(12,We,3,4,"mat-form-field",21),d.Ec(13,ke,6,6,"mat-form-field",21),d.Ec(14,Fe,6,6,"mat-form-field",21),d.Ec(15,Ie,2,1,"div",22),d.Wb(16,"button",23),d.ec("click",function(){return d.xc(e),d.ic().onAddFilter()}),d.Wb(17,"mat-icon"),d.Fc(18,"add"),d.Vb(),d.Vb(),d.Wb(19,"button",24),d.ec("click",function(){d.xc(e);const o=t.index;return d.ic().onRemoveFilter(o)}),d.Wb(20,"mat-icon"),d.Fc(21,"close"),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,o=d.ic();d.Eb(2),d.pc("placeholder",d.kc(3,12,"Field")),d.oc("ngModel",e.fieldName),d.Eb(2),d.oc("ngForOf",o.allFields),d.Eb(2),d.pc("placeholder",d.kc(7,14,"Operator")),d.oc("ngModel",e.operator),d.Eb(2),d.oc("ngForOf",d.lc(9,16,o.allOperators,e.valueType)),d.Eb(2),d.oc("ngIf",1===e.valueType),d.Eb(1),d.oc("ngIf",1===e.valueType),d.Eb(1),d.oc("ngIf",2===e.valueType),d.Eb(1),d.oc("ngIf",3===e.valueType),d.Eb(1),d.oc("ngIf",3===e.valueType),d.Eb(1),d.oc("ngIf",4===e.valueType)}}function Me(e,t){1&e&&(d.Wb(0,"th",35),d.Fc(1,"#"),d.Vb())}function je(e,t){if(1&e){const e=d.Xb();d.Wb(0,"td",36),d.Wb(1,"div"),d.Fc(2),d.Wb(3,"a",37),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onDisplayItem(o.ID)}),d.Fc(4),d.jc(5,"transloco"),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit;d.Eb(2),d.Hc(" ",e.ID," "),d.Eb(2),d.Gc(d.kc(5,2,"Common.Display"))}}function Se(e,t){1&e&&(d.Wb(0,"th",35),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"Type")))}function $e(e,t){if(1&e&&(d.Wb(0,"td",36),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit,o=d.ic();d.Eb(1),d.Gc(d.kc(2,1,o.getExerciseItemTypeName(e.ItemType)))}}function De(e,t){1&e&&(d.Wb(0,"th",35),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"Tag")))}function Oe(e,t){if(1&e&&(d.Wb(0,"td",36),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e.Tags.toString())}}function Te(e,t){1&e&&(d.Wb(0,"th",35),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"KnowledgeItem")))}function Ne(e,t){if(1&e&&(d.Wb(0,"td",36),d.Fc(1),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(e.KnowledgeItemID)}}function Re(e,t){1&e&&(d.Wb(0,"th",35),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"CreatedAt")))}function Ge(e,t){if(1&e&&(d.Wb(0,"td",36),d.Fc(1),d.jc(2,"date"),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(d.lc(2,1,e.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function Pe(e,t){1&e&&d.Rb(0,"tr",38)}function Ue(e,t){1&e&&d.Rb(0,"tr",39)}let Le=(()=>{class e{constructor(e,t){this.odataService=e,this.uiUtilSrv=t,this.filters=[],this.allOperators=[],this.allFields=[],this.filterEditable=!0,this.pageSize=20,this.pageSizeOptions=[20,40,60,100],this.isLoadingResults=!1,this.subjFilters=new he.a([]),this.displayedColumns=["id","itemtype","tags","knowledgeitem","createdat"],this.dataSource=[],this.resultsLength=0,this.allOperators=x.E.getGeneralFilterOperatorDisplayStrings(),this.allFields=[{displayas:"Content",value:"Content",valueType:2},{displayas:"Tag",value:"Tags",valueType:2},{displayas:"Type",value:"ExerciseType",valueType:2}]}ngOnInit(){this.onAddFilter()}ngAfterViewInit(){this.subjFilters.subscribe(()=>this.paginator.pageIndex=0),Object(p.a)(this.subjFilters,this.paginator.page).pipe(Object(f.a)({}),Object(g.a)(()=>{if(this.subjFilters.value.length<=0)return Object(h.a)([]);this.isLoadingResults=!0;const e=this.prepareFilters(this.subjFilters.value),t=this.paginator.pageSize;return this.odataService.searchExerciseItems(t,t*this.paginator.pageIndex,e)}),Object(E.a)(()=>this.isLoadingResults=!1),Object(v.a)(e=>(this.resultsLength=e.totalCount?e.totalCount:0,e.items)),Object(V.a)(()=>Object(h.a)(void 0))).subscribe({next:e=>this.dataSource=e||[],error:e=>this.uiUtilSrv.showSnackInfo(e)})}getExerciseItemTypeName(e){return Object(x.J)(e)}onAddFilter(){this.filters.push(new x.o)}onRemoveFilter(e){this.filters.splice(e,1),0===this.filters.length&&this.onAddFilter()}onFieldSelectionChanged(e){this.allFields.forEach(t=>{t.value===e.fieldName&&(e.valueType=t.valueType)})}prepareFilters(e){let t="";e.sort((e,t)=>e.fieldName.localeCompare(t.fieldName));let o=e.map(e=>e.fieldName);return o=Array.from(new Set(o)),o.forEach(o=>{let i="";e.forEach(e=>{e.fieldName===o&&("Content"!==e.fieldName&&"Tags"!==e.fieldName||(e.operator===x.p.Equal?i=i?`${i} or ${e.fieldName} eq '${e.lowValue}'`:`${e.fieldName} eq '${e.lowValue}'`:e.operator===x.p.Like&&(i=i?`${i} or contains(${e.fieldName},'${e.lowValue}')`:`contains(${e.fieldName},'${e.lowValue}')`)))}),t=t?`${t} and ${i}`:""+i}),t}onSearch(){const e=[];this.filters.forEach(t=>{const o={};switch(o.valueType=+t.valueType,t.valueType){case x.q.boolean:case x.q.date:case x.q.number:break;case x.q.string:o.fieldName=t.fieldName,o.operator=+t.operator,o.lowValue=t.value[0],o.highValue=t.operator===x.p.Between?t.value[1]:""}e.push(o)}),this.subjFilters.next(e)}onDisplayItem(e){this.uiUtilSrv.navigateExerciseItemDisplayPage(e)}onGoToPreview(){const e=[];this.dataSource.forEach(t=>{e.push({refType:x.D.ExerciseItem,refId:t.ID})}),this.uiUtilSrv.navigatePreviewPage(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Qb($.b),d.Qb($.d))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-exercise-item-search"]],viewQuery:function(e,t){if(1&e&&d.Kc(m.a,3),2&e){let e;d.uc(e=d.fc())&&(t.paginator=e.first)}},decls:44,vars:18,consts:[["class","control-full-width",4,"ngFor","ngForOf"],[1,"control-full-width"],["mat-button","","aria-label","Search",3,"click"],[1,"table-container","mat-elevation-z8"],["color","primary"],["mat-flat-button","","color","primary",3,"click"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemtype"],["matColumnDef","tags"],["matColumnDef","knowledgeitem"],["matColumnDef","createdat"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"placeholder","ngModel","ngModelChange"],[4,"ngIf"],["class","typechkbox",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Add",3,"click"],["mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","number","name","lvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","number","name","hvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","text","name","lvalue_2",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"ngModel","matDatepicker","placeholder","ngModelChange"],["matSuffix","",3,"for"],["lvpicker",""],["hvpicker",""],[1,"typechkbox"],[3,"ngModel","ngModelChange"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(d.Wb(0,"mat-card"),d.Wb(1,"mat-card-header"),d.Wb(2,"mat-card-title"),d.Fc(3),d.jc(4,"transloco"),d.Vb(),d.Wb(5,"mat-card-subtitle"),d.Fc(6),d.jc(7,"transloco"),d.Vb(),d.Vb(),d.Wb(8,"mat-card-content"),d.Wb(9,"div"),d.Ec(10,ye,22,19,"div",0),d.Wb(11,"div",1),d.Wb(12,"button",2),d.ec("click",function(){return t.onSearch()}),d.Wb(13,"mat-icon"),d.Fc(14,"search"),d.Vb(),d.Fc(15),d.jc(16,"transloco"),d.Vb(),d.Vb(),d.Vb(),d.Rb(17,"mat-divider"),d.Wb(18,"div",3),d.Wb(19,"mat-toolbar",4),d.Wb(20,"mat-toolbar-row"),d.Wb(21,"button",5),d.ec("click",function(){return t.onGoToPreview()}),d.Fc(22),d.jc(23,"transloco"),d.Vb(),d.Vb(),d.Vb(),d.Wb(24,"div",6),d.Wb(25,"table",7),d.Ub(26,8),d.Ec(27,Me,2,0,"th",9),d.Ec(28,je,6,4,"td",10),d.Tb(),d.Ub(29,11),d.Ec(30,Se,3,3,"th",9),d.Ec(31,$e,3,3,"td",10),d.Tb(),d.Ub(32,12),d.Ec(33,De,3,3,"th",9),d.Ec(34,Oe,2,1,"td",10),d.Tb(),d.Ub(35,13),d.Ec(36,Te,3,3,"th",9),d.Ec(37,Ne,2,1,"td",10),d.Tb(),d.Ub(38,14),d.Ec(39,Re,3,3,"th",9),d.Ec(40,Ge,3,4,"td",10),d.Tb(),d.Ec(41,Pe,1,0,"tr",15),d.Ec(42,Ue,1,0,"tr",16),d.Vb(),d.Vb(),d.Rb(43,"mat-paginator",17),d.Vb(),d.Vb(),d.Vb()),2&e&&(d.Eb(3),d.Gc(d.kc(4,10,"ExerciseItem")),d.Eb(3),d.Gc(d.kc(7,12,"Common.Search")),d.Eb(4),d.oc("ngForOf",t.filters),d.Eb(5),d.Hc(" ",d.kc(16,14,"Common.Search")," "),d.Eb(7),d.Gc(d.kc(23,16,"Common.Preview")),d.Eb(3),d.oc("dataSource",t.dataSource),d.Eb(16),d.oc("matHeaderRowDef",t.displayedColumns),d.Eb(1),d.oc("matRowDefColumns",t.displayedColumns),d.Eb(1),d.oc("length",t.resultsLength)("pageSize",10))},directives:[ee.a,ee.d,ee.g,ee.f,ee.c,i.l,I.b,T.a,fe.a,D.a,D.c,N.j,N.c,N.e,N.b,N.g,N.i,m.a,W.c,oe.a,a.n,a.q,i.m,ce.n,k.b,a.r,a.c,ge.d,ge.f,W.i,ge.c,Ee.a,N.d,N.a,I.a,N.f,N.h],pipes:[l.d,ve.a,i.e],styles:[".table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;margin-top:16px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.data-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]}),e})();var _e=o("wd/R"),Ae=o.n(_e);function He(e,t){if(1&e&&(d.Wb(0,"mat-option",31),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit;d.oc("value",e.value),d.Eb(1),d.Gc(d.kc(2,2,e.displayas))}}function qe(e,t){if(1&e&&(d.Wb(0,"mat-option",31),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e){const e=t.$implicit;d.oc("value",e.value),d.Eb(1),d.Gc(d.kc(2,2,e.i18nterm))}}function Ke(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",32),d.Wb(1,"mat-form-field"),d.Wb(2,"input",33),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.jc(3,"transloco"),d.Vb(),d.Vb(),d.Wb(4,"mat-form-field"),d.Wb(5,"input",34),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[1]=t}),d.jc(6,"transloco"),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(2),d.pc("placeholder",d.kc(3,4,"Value")),d.oc("ngModel",e.value[0]),d.Eb(3),d.pc("placeholder",d.kc(6,6,"Value")),d.oc("ngModel",e.value[1])}}function ze(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",32),d.Wb(1,"mat-form-field"),d.Wb(2,"input",35),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.jc(3,"transloco"),d.Vb(),d.Rb(4,"mat-datepicker-toggle",36),d.Rb(5,"mat-datepicker",null,37),d.Vb(),d.Wb(7,"mat-form-field"),d.Wb(8,"input",35),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[1]=t}),d.jc(9,"transloco"),d.Vb(),d.Rb(10,"mat-datepicker-toggle",36),d.Rb(11,"mat-datepicker",null,38),d.Vb(),d.Vb()}if(2&e){const e=d.vc(6),t=d.vc(12),o=d.ic().$implicit;d.Eb(2),d.pc("placeholder",d.kc(3,8,"Value")),d.oc("ngModel",o.value[0])("matDatepicker",e),d.Eb(2),d.oc("for",e),d.Eb(4),d.pc("placeholder",d.kc(9,10,"Value")),d.oc("ngModel",o.value[1])("matDatepicker",t),d.Eb(2),d.oc("for",t)}}function Qe(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",39),d.Wb(1,"mat-checkbox",40),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(1),d.oc("ngModel",e.value[0])}}function Xe(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",39),d.Wb(1,"input",41),d.ec("ngModelChange",function(t){return d.xc(e),d.ic().$implicit.value[0]=t}),d.jc(2,"transloco"),d.Vb(),d.Vb()}if(2&e){const e=d.ic().$implicit;d.Eb(1),d.pc("placeholder",d.kc(2,2,"Value")),d.oc("ngModel",e.value[0])}}function Be(e,t){if(1&e){const e=d.Xb();d.Wb(0,"div",19),d.Wb(1,"mat-form-field",20),d.Wb(2,"mat-select",21),d.ec("ngModelChange",function(e){return t.$implicit.fieldName=e})("selectionChange",function(){d.xc(e);const o=t.$implicit;return d.ic().onFieldSelectionChanged(o)}),d.jc(3,"transloco"),d.Ec(4,He,3,4,"mat-option",22),d.Vb(),d.Vb(),d.Wb(5,"mat-form-field",23),d.Wb(6,"mat-select",24),d.ec("ngModelChange",function(e){return t.$implicit.operator=e}),d.jc(7,"transloco"),d.Ec(8,qe,3,4,"mat-option",22),d.jc(9,"operatorFilter"),d.Vb(),d.Vb(),d.Wb(10,"div",25),d.Ec(11,Ke,7,8,"div",26),d.Ec(12,ze,13,12,"div",26),d.Ec(13,Qe,2,1,"div",27),d.Ec(14,Xe,3,4,"div",28),d.Vb(),d.Wb(15,"button",29),d.ec("click",function(){return d.xc(e),d.ic().onAddFilter()}),d.Wb(16,"mat-icon"),d.Fc(17,"add"),d.Vb(),d.Vb(),d.Wb(18,"button",30),d.ec("click",function(){d.xc(e);const o=t.index;return d.ic().onRemoveFilter(o)}),d.Wb(19,"mat-icon"),d.Fc(20,"close"),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,o=d.ic();d.Eb(2),d.pc("placeholder",d.kc(3,10,"Field")),d.oc("ngModel",e.fieldName),d.Eb(2),d.oc("ngForOf",o.allFields),d.Eb(2),d.pc("placeholder",d.kc(7,12,"Operator")),d.oc("ngModel",e.operator),d.Eb(2),d.oc("ngForOf",d.lc(9,14,o.allOperators,e.valueType)),d.Eb(2),d.oc("ngSwitch",e.valueType),d.Eb(1),d.oc("ngSwitchCase",1),d.Eb(1),d.oc("ngSwitchCase",3),d.Eb(1),d.oc("ngSwitchCase",4)}}function Ye(e,t){1&e&&(d.Wb(0,"th",42),d.Fc(1,"#"),d.Vb())}function Je(e,t){if(1&e){const e=d.Xb();d.Wb(0,"td",43),d.Fc(1),d.Wb(2,"button",44),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onDeleteItem(o.ID)}),d.jc(3,"transloco"),d.Wb(4,"mat-icon"),d.Fc(5,"remove_circle"),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,o=d.ic();d.Eb(1),d.Hc(" ",e.ID," "),d.Eb(1),d.pc("matTooltip",d.kc(3,3,"Common.Delete")),d.oc("disabled",!o.isExpertMode)}}function Ze(e,t){1&e&&(d.Wb(0,"th",42),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"ExerciseItem")))}function et(e,t){if(1&e){const e=d.Xb();d.Wb(0,"td",43),d.Fc(1),d.Wb(2,"button",45),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onDisplayExerciseItem(o.RefID)}),d.jc(3,"transloco"),d.Wb(4,"mat-icon"),d.Fc(5,"launch"),d.Vb(),d.Vb(),d.Wb(6,"button",2),d.ec("click",function(){d.xc(e);const o=t.$implicit;return d.ic().onChangeExerciseItem(o.RefID)}),d.jc(7,"transloco"),d.Wb(8,"mat-icon"),d.Fc(9,"edit"),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=t.$implicit,o=d.ic();d.Eb(1),d.Hc(" ",e.RefID," "),d.Eb(1),d.pc("matTooltip",d.kc(3,5,"Common.Display")),d.oc("disabled",!o.isExpertMode),d.Eb(4),d.pc("matTooltip",d.kc(7,7,"Common.Change")),d.oc("disabled",!o.isExpertMode)}}function tt(e,t){1&e&&(d.Wb(0,"th",42),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"Quiz.Date")))}function ot(e,t){if(1&e&&(d.Wb(0,"td",43),d.Fc(1),d.jc(2,"date"),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gc(d.lc(2,1,e.TakenDate,"yyyy-M-d"))}}function it(e,t){1&e&&(d.Wb(0,"th",42),d.Fc(1),d.jc(2,"transloco"),d.Vb()),2&e&&(d.Eb(1),d.Gc(d.kc(2,1,"Quiz.Score")))}function at(e,t){if(1&e&&(d.Wb(0,"td",43),d.Wb(1,"span"),d.Fc(2),d.Vb(),d.Vb()),2&e){const e=t.$implicit;d.Eb(1),d.Gb(e.Score>=60?"success-score":"fail-score"),d.Eb(1),d.Gc(e.Score)}}function ct(e,t){1&e&&d.Rb(0,"tr",46)}function nt(e,t){1&e&&d.Rb(0,"tr",47)}const lt=[{path:"",component:X},{path:"create",component:pe},{path:"display/:id",component:pe},{path:"edit/:id",component:pe},{path:"search",component:Le},{path:"score",component:(()=>{class e{constructor(e,t){this.odataService=e,this.uiUtilSrv=t,this.filters=[],this.allOperators=[],this.allFields=[],this.filterEditable=!0,this.displayedColumns=["id","refid","takendate","score"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new d.o,this.subjFilters=new he.a([]),this.allOperators=x.E.getGeneralFilterOperatorDisplayStrings(),this.allFields=[{displayas:"Content",value:"Content",valueType:2},{displayas:"Quiz.Date",value:"TakenDate",valueType:3},{displayas:"Quiz.Score",value:"Score",valueType:1},{displayas:"ExerciseItem",value:"RefID",valueType:1}]}get isExpertMode(){return this.odataService.expertMode}ngOnInit(){this.onAddFilter()}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(p.a)(this.sort.sortChange,this.paginator.page,this.refreshEvent,this.subjFilters).pipe(Object(f.a)({}),Object(g.a)(()=>{if(this.subjFilters.value.length<=0)return Object(h.a)([]);this.isLoadingResults=!0;const e=this.prepareFilters(this.subjFilters.value),t=this.paginator.pageSize;return this.odataService.getExerciseItemUserScores(t,t*this.paginator.pageIndex,e)}),Object(v.a)(e=>(this.isLoadingResults=!1,this.resultsLength=e.totalCount?e.totalCount:0,e.items)),Object(V.a)(()=>(this.isLoadingResults=!1,Object(h.a)([])))).subscribe(e=>this.dataSource=e||[])}onAddFilter(){this.filters.push(new x.o)}onRemoveFilter(e){this.filters.splice(e,1),0===this.filters.length&&this.onAddFilter()}onFieldSelectionChanged(e){this.allFields.forEach(t=>{t.value===e.fieldName&&(e.valueType=t.valueType)})}prepareFilters(e){let t="";e.sort((e,t)=>e.fieldName.localeCompare(t.fieldName));let o=e.map(e=>e.fieldName);return o=Array.from(new Set(o)),o.forEach(o=>{let i="";e.forEach(e=>{e.fieldName===o&&("Content"===e.fieldName?e.operator===x.p.Equal?i=i?`${i} or ${e.fieldName} eq '${e.lowValue}'`:`${e.fieldName} eq '${e.lowValue}'`:e.operator===x.p.Like&&(i=i?`${i} or contains(${e.fieldName},'${e.lowValue}')`:`contains(${e.fieldName},'${e.lowValue}')`):"Score"===e.fieldName||"RefID"===e.fieldName?e.operator===x.p.Equal?i=i?`${i} or ${e.fieldName} eq ${e.lowValue}`:`${e.fieldName} eq ${e.lowValue}`:e.operator===x.p.LargerEqual?i=i?`${i} or ${e.fieldName} ge ${e.lowValue}`:`${e.fieldName} ge ${e.lowValue}`:e.operator===x.p.LargerThan?i=i?`${i} or ${e.fieldName} gt ${e.lowValue}`:`${e.fieldName} gt ${e.lowValue}`:e.operator===x.p.LessEqual?i=i?`${i} or ${e.fieldName} le ${e.lowValue}`:`${e.fieldName} le ${e.lowValue}`:e.operator===x.p.LessThan?i=i?`${i} or ${e.fieldName} lt ${e.lowValue}`:`${e.fieldName} lt ${e.lowValue}`:e.operator===x.p.NotEqual&&(i=i?`${i} or ${e.fieldName} ne ${e.lowValue}`:`${e.fieldName} ne ${e.lowValue}`):"TakenDate"===e.fieldName&&(e.operator===x.p.Equal?i=i?`${i} or date(${e.fieldName}) eq ${e.lowValue}`:`date(${e.fieldName}) eq ${e.lowValue}`:e.operator===x.p.LargerEqual?i=i?`${i} or date(${e.fieldName}) ge ${e.lowValue}`:`date(${e.fieldName}) ge ${e.lowValue}`:e.operator===x.p.LargerThan?i=i?`${i} or date(${e.fieldName}) gt ${e.lowValue}`:`date(${e.fieldName}) gt ${e.lowValue}`:e.operator===x.p.LessEqual?i=i?`${i} or date(${e.fieldName}) le ${e.lowValue}`:`date(${e.fieldName}) le ${e.lowValue}`:e.operator===x.p.LessThan?i=i?`${i} or date(${e.fieldName}) lt ${e.lowValue}`:`date(${e.fieldName}) lt ${e.lowValue}`:e.operator===x.p.NotEqual&&(i=i?`${i} or date(${e.fieldName}) ne ${e.lowValue}`:`date(${e.fieldName}) ne ${e.lowValue}`)))}),t=t?`${t} and ${i}`:""+i}),t}onSearch(){const e=[];this.filters.forEach(t=>{const o={};switch(o.valueType=+t.valueType,t.valueType){case x.q.boolean:break;case x.q.date:o.fieldName=t.fieldName,o.operator=+t.operator,o.lowValue=Ae()(t.value[0]).format("YYYY-MM-DD"),o.highValue=t.operator===x.p.Between?Ae()(t.value[1]).format("YYYY-MM-DD"):"";break;case x.q.number:o.fieldName=t.fieldName,o.operator=+t.operator,o.lowValue=+t.value[0],o.highValue=t.operator===x.p.Between?+t.value[1]:"";break;case x.q.string:o.fieldName=t.fieldName,o.operator=+t.operator,o.lowValue=t.value[0],o.highValue=t.operator===x.p.Between?t.value[1]:""}e.push(o)}),this.subjFilters.next(e)}onGoToExerciseItems(){this.uiUtilSrv.navigateExerciseItemListPage()}onDisplayExerciseItem(e){this.uiUtilSrv.navigateExerciseItemDisplayPage(e)}onChangeExerciseItem(e){this.uiUtilSrv.navigateKnowledgeItemChangePage(e)}onDeleteItem(e){this.odataService.deleteExerciseItemUserScore(e).subscribe({next:e=>{this.uiUtilSrv.showSnackInfo("DONE"),this.onRefreshList()},error:e=>{this.uiUtilSrv.showSnackInfo(e)}})}onGoToPreview(){const e=[];this.dataSource.forEach(t=>{e.push({refType:x.D.ExerciseItem,refId:t.RefID})}),this.uiUtilSrv.navigatePreviewPage(e)}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}}return e.\u0275fac=function(t){return new(t||e)(d.Qb($.b),d.Qb($.d))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-exercise-item-score"]],viewQuery:function(e,t){if(1&e&&(d.Kc(m.a,1),d.Kc(u.a,1)),2&e){let e;d.uc(e=d.fc())&&(t.paginator=e.first),d.uc(e=d.fc())&&(t.sort=e.first)}},decls:50,vars:31,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],[2,"margin","8px"],["fxLayout","row","fxLayoutGap","10px","class","control-full-width",4,"ngFor","ngForOf"],[1,"control-full-width"],["mat-button","","aria-label","Search","color","primary",3,"click"],[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","refid"],["matColumnDef","takendate"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["fxLayout","row","fxLayoutGap","10px",1,"control-full-width"],["fxFlex","30"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","15"],[3,"placeholder","ngModel","ngModelChange"],["fxFlex","50","fxLayout","row",3,"ngSwitch"],["fxLayout","row","fxLayoutGap","5px",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchDefault"],["mat-button","","mat-icon-button","","aria-label","Add",3,"click"],["mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["fxLayout","row","fxLayoutGap","5px"],["matInput","","type","number","name","lvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","number","name","hvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"ngModel","matDatepicker","placeholder","ngModelChange"],["matSuffix","",3,"for"],["lvpicker",""],["hvpicker",""],["fxLayout","row"],[3,"ngModel","ngModelChange"],["matInput","","type","text","name","lvalue_2",3,"placeholder","ngModel","ngModelChange"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"disabled","matTooltip","click"],["mat-icon-button","","color","primary",3,"disabled","matTooltip","click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(d.Wb(0,"mat-toolbar-row"),d.Wb(1,"span"),d.Fc(2),d.jc(3,"transloco"),d.Vb(),d.Rb(4,"span",0),d.Wb(5,"section"),d.Wb(6,"button",1),d.ec("click",function(){return t.onGoToExerciseItems()}),d.jc(7,"transloco"),d.Fc(8),d.jc(9,"transloco"),d.Vb(),d.Wb(10,"button",2),d.ec("click",function(){return t.onRefreshList()}),d.jc(11,"transloco"),d.Wb(12,"mat-icon"),d.Fc(13,"refresh"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(14,"div",3),d.Ec(15,Be,21,17,"div",4),d.Wb(16,"div",5),d.Wb(17,"button",6),d.ec("click",function(){return t.onSearch()}),d.Wb(18,"mat-icon"),d.Fc(19,"search"),d.Vb(),d.Fc(20),d.jc(21,"transloco"),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"mat-toolbar-row"),d.Wb(23,"section"),d.Wb(24,"button",2),d.ec("click",function(){return t.onGoToPreview()}),d.jc(25,"transloco"),d.Wb(26,"mat-icon"),d.Fc(27,"slideshow"),d.Vb(),d.Vb(),d.Wb(28,"button",2),d.ec("click",function(){return t.onRefreshList()}),d.jc(29,"transloco"),d.Wb(30,"mat-icon"),d.Fc(31,"refresh"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(32,"div",7),d.Wb(33,"div",8),d.Wb(34,"table",9),d.ec("matSortChange",function(){return t.resetPaging()}),d.Ub(35,10),d.Ec(36,Ye,2,0,"th",11),d.Ec(37,Je,6,5,"td",12),d.Tb(),d.Ub(38,13),d.Ec(39,Ze,3,3,"th",11),d.Ec(40,et,10,9,"td",12),d.Tb(),d.Ub(41,14),d.Ec(42,tt,3,3,"th",11),d.Ec(43,ot,3,4,"td",12),d.Tb(),d.Ub(44,15),d.Ec(45,it,3,3,"th",11),d.Ec(46,at,3,3,"td",12),d.Tb(),d.Ec(47,ct,1,0,"tr",16),d.Ec(48,nt,1,0,"tr",17),d.Vb(),d.Vb(),d.Rb(49,"mat-paginator",18),d.Vb()),2&e&&(d.Eb(2),d.Gc(d.kc(3,17,"PracticeHistories")),d.Eb(4),d.pc("matTooltip",d.kc(7,19,"ExerciseItem")),d.oc("disabled",!t.isExpertMode),d.Eb(2),d.Gc(d.kc(9,21,"ExerciseItem")),d.Eb(2),d.pc("matTooltip",d.kc(11,23,"Common.Refresh")),d.oc("disabled",!t.isExpertMode),d.Eb(5),d.oc("ngForOf",t.filters),d.Eb(5),d.Hc(" ",d.kc(21,25,"Common.Search")," "),d.Eb(4),d.pc("matTooltip",d.kc(25,27,"Common.Preview")),d.oc("disabled",!t.isExpertMode||t.dataSource.length<=0),d.Eb(4),d.pc("matTooltip",d.kc(29,29,"Common.Refresh")),d.oc("disabled",!t.isExpertMode),d.Eb(6),d.oc("dataSource",t.dataSource),d.Eb(13),d.oc("matHeaderRowDef",t.displayedColumns),d.Eb(1),d.oc("matRowDefColumns",t.displayedColumns),d.Eb(1),d.oc("length",t.resultsLength)("pageSize",20))},directives:[D.c,I.b,O.a,T.a,i.l,N.j,u.a,N.c,N.e,N.b,N.g,N.i,m.a,ae.c,ae.d,W.c,ae.a,oe.a,a.n,a.q,i.o,i.p,i.q,ce.n,k.b,a.r,a.c,ge.d,ge.f,W.i,ge.c,Ee.a,N.d,N.a,N.f,N.h],pipes:[l.d,ve.a,i.e],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}.success-score[_ngcontent-%COMP%]{color:green;font-size:16px}.fail-score[_ngcontent-%COMP%]{color:red;font-size:16px}"]}),e})()}];let rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({imports:[[b.e.forChild(lt)],b.e]}),e})();var st=o("iasb");let bt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({providers:[],imports:[[i.c,a.i,a.s,r.a,s.a,c.b,n.b.forChild(),rt,l.c,st.a]]}),e})()}}]);