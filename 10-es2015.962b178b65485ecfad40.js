(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"82/d":function(t,c,n){"use strict";n.r(c),n.d(c,"AwardModule",function(){return Io});var o=n("ofXK"),e=n("3Pt+"),i=n("QPBi"),a=n("jIBr"),b=n("iasb"),d=n("tyNb"),r=n("0IaG"),l=n("wd/R"),s=n.n(l),u=n("VHTt"),m=n("fXoL"),f=n("o0su"),h=n("dNgK"),E=n("/t3+"),g=n("bTqV"),p=n("+0xr"),U=n("M9IT"),D=n("f0Cb"),V=n("kmnG"),C=n("qFsG"),w=n("iadO");function F(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function S(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function v(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Quiz.Date")))}function y(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.getRecordDateDisplayString())}}function T(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function R(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",16),m.Vb(1,"button",17),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onGetPoints(n.targetUser,n.recordDate)}),m.Ec(2),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit;m.Eb(2),m.Fc(t.point)}}function M(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.AggregatedPoints")))}function k(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.aggPoint)}}function j(t,c){1&t&&m.Qb(0,"tr",18)}function $(t,c){1&t&&m.Qb(0,"tr",19)}function A(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1,"#"),m.Ub())}function P(t,c){if(1&t){const t=m.Wb();m.Vb(0,"button",17),m.dc("click",function(){m.wc(t);const c=m.hc().$implicit;return m.hc(2).onDeletePoint(c.id)}),m.Ec(1),m.ic(2,"transloco"),m.Ub()}2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Common.Delete")))}function x(t,c){if(1&t&&(m.Vb(0,"td",16),m.Dc(1,P,3,3,"button",24),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.nc("ngIf",!t.matchedRuleID)}}function O(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function H(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function B(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Quiz.Date")))}function I(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.getRecordDateDisplayString())}}function W(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1,"Rule ID"),m.Ub())}function Q(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.matchedRuleID)}}function L(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function N(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDay)}}function G(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function z(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function K(t,c){1&t&&(m.Vb(0,"th",15),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Common.Comment")))}function q(t,c){if(1&t&&(m.Vb(0,"td",16),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.comment)}}function J(t,c){1&t&&m.Qb(0,"tr",18)}function _(t,c){1&t&&m.Qb(0,"tr",19)}function X(t,c){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"mat-toolbar"),m.Vb(2,"h3"),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Qb(5,"div",0),m.Vb(6,"button",17),m.dc("click",function(){return m.wc(t),m.hc().onHidePoints()}),m.Ec(7),m.ic(8,"transloco"),m.Ub(),m.Ub(),m.Vb(9,"div",2),m.Vb(10,"div",3),m.Vb(11,"table",4),m.Tb(12,20),m.Dc(13,A,2,0,"th",6),m.Dc(14,x,2,1,"td",7),m.Sb(),m.Tb(15,5),m.Dc(16,O,3,3,"th",6),m.Dc(17,H,2,1,"td",7),m.Sb(),m.Tb(18,8),m.Dc(19,B,3,3,"th",6),m.Dc(20,I,2,1,"td",7),m.Sb(),m.Tb(21,21),m.Dc(22,W,2,0,"th",6),m.Dc(23,Q,2,1,"td",7),m.Sb(),m.Tb(24,22),m.Dc(25,L,3,3,"th",6),m.Dc(26,N,2,1,"td",7),m.Sb(),m.Tb(27,9),m.Dc(28,G,3,3,"th",6),m.Dc(29,z,2,1,"td",7),m.Sb(),m.Tb(30,23),m.Dc(31,K,3,3,"th",6),m.Dc(32,q,2,1,"td",7),m.Sb(),m.Dc(33,J,1,0,"tr",11),m.Dc(34,_,1,0,"tr",12),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Eb(3),m.Ic("",m.jc(4,7,"Award.Point"),", ",t.selectedUser,", ",t.selectedDate,""),m.Eb(4),m.Fc(m.jc(8,9,"Common.Hide")),m.Eb(4),m.nc("dataSource",t.dataSourcePoints),m.Eb(22),m.nc("matHeaderRowDef",t.displayedPointColumns),m.Eb(1),m.nc("matRowDefColumns",t.displayedPointColumns)}}const Y="table[_ngcontent-%COMP%]{width:100%}.example-form[_ngcontent-%COMP%]{min-width:250px;max-width:500px;width:100%}.example-margin[_ngcontent-%COMP%]{margin:0 10px}";let Z=(()=>{class t{constructor(t,c,n){this.oDataSrv=t,this.dialog=c,this.snackBar=n,this.dataSource=[],this.dataSourcePoints=[],this.recordCount=0,this.displayedColumns=["targetUser","recordDate","point","aggpoint"],this.displayedPointColumns=["action","targetUser","recordDate","matchedRuleID","countOfDay","point","comment"],this.selectedUser="",this.selectedDate="",this.isPointShow=!1}ngOnInit(){this.refreshList()}get isExpertMode(){return this.oDataSrv.expertMode}onCreateAward(){this.dialog.open(tt,{width:"600px",closeOnNavigation:!1,data:new u.c}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.oDataSrv.createAwardPoint(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}refreshList(){this.oDataSrv.getAwardPointReports(100,0).subscribe({next:t=>{this.dataSource=t.items.slice(),this.recordCount=t.totalCount},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onGetPoints(t,c){this.oDataSrv.getAwardPoints(100,0,void 0,`TargetUser eq '${t}' AND RecordDate eq ${c.format(u.F)}`).subscribe({next:n=>{this.selectedUser=t,this.selectedDate=c.format(u.F),this.dataSourcePoints=[],this.dataSourcePoints=n.items.slice(),this.isPointShow=!0},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onHidePoints(){this.selectedDate="",this.selectedUser="",this.dataSourcePoints=[],this.isPointShow=!1}onDeletePoint(t){this.oDataSrv.deleteAwardPoint(t).subscribe({next:t=>{this.onGetPoints(this.selectedUser,s()(this.selectedDate))},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(f.b),m.Pb(r.b),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-overview"]],decls:28,vars:13,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","targetUser"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","recordDate"],["matColumnDef","point"],["matColumnDef","aggpoint"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],["matColumnDef","action"],["matColumnDef","matchedRuleID"],["matColumnDef","countOfDay"],["matColumnDef","comment"],["mat-raised-button","",3,"click",4,"ngIf"]],template:function(t,c){1&t&&(m.Vb(0,"mat-toolbar"),m.Vb(1,"h3"),m.Ec(2),m.ic(3,"transloco"),m.Ub(),m.Qb(4,"div",0),m.Vb(5,"button",1),m.dc("click",function(){return c.onCreateAward()}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub(),m.Vb(8,"div",2),m.Vb(9,"div",3),m.Vb(10,"table",4),m.Tb(11,5),m.Dc(12,F,3,3,"th",6),m.Dc(13,S,2,1,"td",7),m.Sb(),m.Tb(14,8),m.Dc(15,v,3,3,"th",6),m.Dc(16,y,2,1,"td",7),m.Sb(),m.Tb(17,9),m.Dc(18,T,3,3,"th",6),m.Dc(19,R,3,1,"td",7),m.Sb(),m.Tb(20,10),m.Dc(21,M,3,3,"th",6),m.Dc(22,k,2,1,"td",7),m.Sb(),m.Dc(23,j,1,0,"tr",11),m.Dc(24,$,1,0,"tr",12),m.Ub(),m.Ub(),m.Qb(25,"mat-paginator",13),m.Ub(),m.Qb(26,"mat-divider"),m.Dc(27,X,35,11,"div",14)),2&t&&(m.Eb(2),m.Fc(m.jc(3,9,"Award.Overview")),m.Eb(3),m.nc("disabled",!c.isExpertMode),m.Eb(1),m.Fc(m.jc(7,11,"Common.Create")),m.Eb(4),m.nc("dataSource",c.dataSource),m.Eb(13),m.nc("matHeaderRowDef",c.displayedColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedColumns),m.Eb(1),m.nc("length",c.recordCount)("pageSize",20),m.Eb(2),m.nc("ngIf",c.isPointShow))},directives:[E.a,g.b,p.j,p.c,p.e,p.b,p.g,p.i,U.a,D.a,o.m,p.d,p.a,p.f,p.h],pipes:[i.d],styles:[Y]}),t})(),tt=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(r.g),m.Pb(r.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-overview-award-point-crtdlg"]],decls:32,vars:20,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"example-form"],["appearance","fill",1,"control-full-width"],["matInput","","name","targetuser",3,"ngModel","ngModelChange"],["appearance","fill"],["matInput","","name","recorddate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","name","point",3,"ngModel","ngModelChange"],["matInput","","name","comment",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,c){if(1&t&&(m.Vb(0,"h1",0),m.Ec(1,"CREATE AWARD POINT"),m.Ub(),m.Vb(2,"div",1),m.Vb(3,"form",2),m.Vb(4,"mat-form-field",3),m.Vb(5,"mat-label"),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Vb(8,"input",4),m.dc("ngModelChange",function(t){return c.data.targetUser=t}),m.Ub(),m.Ub(),m.Vb(9,"mat-form-field",5),m.Vb(10,"mat-label"),m.Ec(11),m.ic(12,"transloco"),m.Ub(),m.Vb(13,"input",6),m.dc("ngModelChange",function(t){return c.data.recordDate=t}),m.Ub(),m.Qb(14,"mat-datepicker-toggle",7),m.Qb(15,"mat-datepicker",null,8),m.Ub(),m.Vb(17,"mat-form-field",3),m.Vb(18,"mat-label"),m.Ec(19),m.ic(20,"transloco"),m.Ub(),m.Vb(21,"input",9),m.dc("ngModelChange",function(t){return c.data.point=t}),m.Ub(),m.Ub(),m.Vb(22,"mat-form-field",3),m.Vb(23,"mat-label"),m.Ec(24),m.ic(25,"transloco"),m.Ub(),m.Vb(26,"input",10),m.dc("ngModelChange",function(t){return c.data.comment=t}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(27,"div",11),m.Vb(28,"button",12),m.dc("click",function(){return c.onNoClick()}),m.Ec(29,"No Thanks"),m.Ub(),m.Vb(30,"button",13),m.Ec(31,"OK"),m.Ub(),m.Ub()),2&t){const t=m.uc(16);m.Eb(6),m.Fc(m.jc(7,12,"Award.TargetUser")),m.Eb(2),m.nc("ngModel",c.data.targetUser),m.Eb(3),m.Fc(m.jc(12,14,"Quiz.Date")),m.Eb(2),m.nc("matDatepicker",t)("ngModel",c.data.recordDate),m.Eb(1),m.nc("for",t),m.Eb(5),m.Fc(m.jc(20,16,"Award.Point")),m.Eb(2),m.nc("ngModel",c.data.point),m.Eb(3),m.Fc(m.jc(25,18,"Common.Comment")),m.Eb(2),m.nc("ngModel",c.data.comment),m.Eb(4),m.nc("disabled",!c.data.isValid())("mat-dialog-close",c.data)}},directives:[r.h,r.e,e.u,e.n,e.o,V.c,V.g,C.b,e.c,e.m,e.p,w.d,w.f,V.i,w.c,e.q,r.c,g.b,r.d],pipes:[i.d],styles:[Y]}),t})();var ct=n("tPNy"),nt=n("wZkO"),ot=n("d3UM"),et=n("FKr1"),it=n("bSwM");function at(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function bt(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function dt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function rt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function lt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function st(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function ut(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function mt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function ft(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TimeRange")))}function ht(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.timeRange)}}function Et(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function gt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function pt(t,c){1&t&&m.Qb(0,"tr",22)}function Ut(t,c){1&t&&m.Qb(0,"tr",23)}function Dt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function Vt(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function Ct(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function wt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function Ft(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function St(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function vt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function yt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function Tt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TimeRange")))}function Rt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.timeRange)}}function Mt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function kt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function jt(t,c){1&t&&m.Qb(0,"tr",22)}function $t(t,c){1&t&&m.Qb(0,"tr",23)}function At(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function Pt(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function xt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Ot(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function Ht(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function Bt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function It(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function Wt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function Qt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.CountRange")))}function Lt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countRange)}}function Nt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function Gt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function zt(t,c){1&t&&m.Qb(0,"tr",22)}function Kt(t,c){1&t&&m.Qb(0,"tr",23)}function qt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function Jt(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function _t(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Xt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function Yt(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function Zt(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function tc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function cc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function nc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.CountRange")))}function oc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countRange)}}function ec(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function ic(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function ac(t,c){1&t&&m.Qb(0,"tr",22)}function bc(t,c){1&t&&m.Qb(0,"tr",23)}function dc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function rc(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function lc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function sc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function uc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function mc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function fc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function hc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function Ec(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.CountRange")))}function gc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countRange)}}function pc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function Uc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function Dc(t,c){1&t&&m.Qb(0,"tr",22)}function Vc(t,c){1&t&&m.Qb(0,"tr",23)}function Cc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function wc(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function Fc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Sc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function vc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function yc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function Tc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function Rc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function Mc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Value")))}function kc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.value)}}function jc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function $c(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function Ac(t,c){1&t&&m.Qb(0,"tr",22)}function Pc(t,c){1&t&&m.Qb(0,"tr",23)}function xc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function Oc(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function Hc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Bc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function Ic(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function Wc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function Qc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function Lc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function Nc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Value")))}function Gc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.value)}}function zc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function Kc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function qc(t,c){1&t&&m.Qb(0,"tr",22)}function Jc(t,c){1&t&&m.Qb(0,"tr",23)}function _c(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function Xc(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function Yc(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Zc(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function tn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function cn(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function nn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function on(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function en(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Value")))}function an(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.value)}}function bn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function dn(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function rn(t,c){1&t&&m.Qb(0,"tr",22)}function ln(t,c){1&t&&m.Qb(0,"tr",23)}function sn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1,"#"),m.Ub())}function un(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",21),m.Ec(1),m.Vb(2,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onCopyRule(n.id)}),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Vb(5,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteRule(n.id)}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=c.$implicit,n=m.hc();m.Eb(1),m.Gc("",t.id," | "),m.Eb(1),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(4,5,"Common.Copy")),m.Eb(2),m.nc("disabled",!n.isExpertMode),m.Eb(1),m.Fc(m.jc(7,7,"Common.Delete"))}}function mn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function fn(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function hn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function En(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function gn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Validity")))}function pn(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.validity)}}function Un(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.CountRange")))}function Dn(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countRange)}}function Vn(t,c){1&t&&(m.Vb(0,"th",20),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function Cn(t,c){if(1&t&&(m.Vb(0,"td",21),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDays)}}function wn(t,c){1&t&&m.Qb(0,"tr",22)}function Fn(t,c){1&t&&m.Qb(0,"tr",23)}function Sn(t,c){if(1&t&&(m.Vb(0,"mat-option",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t){const t=c.$implicit;m.nc("value",t.value),m.Eb(1),m.Fc(m.jc(2,2,t.i18nterm))}}function vn(t,c){if(1&t){const t=m.Wb();m.Vb(0,"table",14),m.Vb(1,"tr"),m.Vb(2,"td"),m.Vb(3,"mat-form-field",15),m.Vb(4,"mat-label"),m.Ec(5),m.ic(6,"transloco"),m.Ub(),m.Vb(7,"input",24),m.dc("ngModelChange",function(c){return m.wc(t),m.hc().data.timeStart=c}),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"td"),m.Vb(9,"mat-form-field",15),m.Vb(10,"mat-label"),m.Ec(11),m.ic(12,"transloco"),m.Ub(),m.Vb(13,"input",25),m.dc("ngModelChange",function(c){return m.wc(t),m.hc().data.timeEnd=c}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Eb(5),m.Fc(m.jc(6,4,"Award.TimeStart")),m.Eb(2),m.nc("ngModel",t.data.timeStart),m.Eb(4),m.Fc(m.jc(12,6,"Award.TimeEnd")),m.Eb(2),m.nc("ngModel",t.data.timeEnd)}}function yn(t,c){if(1&t){const t=m.Wb();m.Vb(0,"table",14),m.Vb(1,"tr"),m.Vb(2,"td"),m.Vb(3,"mat-form-field",15),m.Vb(4,"mat-label"),m.Ec(5,"Count from"),m.Ub(),m.Vb(6,"input",26),m.dc("ngModelChange",function(c){return m.wc(t),m.hc().data.countOfFactLow=c}),m.Ub(),m.Ub(),m.Ub(),m.Vb(7,"td"),m.Vb(8,"mat-form-field",15),m.Vb(9,"mat-label"),m.Ec(10,"Count to"),m.Ub(),m.Vb(11,"input",27),m.dc("ngModelChange",function(c){return m.wc(t),m.hc().data.countOfFactHigh=c}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Eb(6),m.nc("ngModel",t.data.countOfFactLow),m.Eb(5),m.nc("ngModel",t.data.countOfFactHigh)}}function Tn(t,c){if(1&t){const t=m.Wb();m.Vb(0,"mat-form-field",15),m.Vb(1,"mat-checkbox",28),m.dc("ngModelChange",function(c){return m.wc(t),m.hc().data.doneOfFact=c}),m.Ec(2,"Done criteria"),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Eb(1),m.nc("ngModel",t.data.doneOfFact)}}function Rn(t,c){if(1&t&&(m.Vb(0,"span"),m.Ec(1),m.Ub()),2&t){const t=m.hc(2).$implicit;m.Eb(1),m.Gc(" ",t," ")}}function Mn(t,c){if(1&t&&(m.Vb(0,"th",12),m.Dc(1,Rn,2,1,"span",13),m.Ub()),2&t){const t=m.hc().$implicit;m.Eb(1),m.nc("ngIf","edit"!==t)}}function kn(t,c){if(1&t){const t=m.Wb();m.Vb(0,"div",18),m.Vb(1,"button",19),m.dc("click",function(){m.wc(t);const c=m.hc(2).$implicit;return c.isEdit=!c.isEdit}),m.Ec(2,"Edit"),m.Ub(),m.Ub()}}function jn(t,c){if(1&t&&(m.Vb(0,"div"),m.Dc(1,kn,3,0,"div",16),m.Vb(2,"span",null,17),m.Ec(4),m.Ub(),m.Ub()),2&t){const t=m.hc().$implicit,c=m.hc().$implicit;m.Eb(1),m.nc("ngIf","edit"===c),m.Eb(3),m.Gc(" ",t[c]," ")}}function $n(t,c){if(1&t){const t=m.Wb();m.Vb(0,"div",18),m.Vb(1,"button",19),m.dc("click",function(){m.wc(t);const c=m.hc(2).$implicit;return c.isEdit=!c.isEdit}),m.Ec(2,"Done"),m.Ub(),m.Ub()}}function An(t,c){if(1&t){const t=m.Wb();m.Vb(0,"mat-form-field",24),m.Vb(1,"mat-label"),m.Ec(2,"Choose a date"),m.Ub(),m.Vb(3,"input",25),m.dc("ngModelChange",function(c){return m.wc(t),m.hc(2).$implicit[m.hc().$implicit]=c}),m.Ub(),m.Qb(4,"mat-datepicker-toggle",26),m.Qb(5,"mat-datepicker",null,27),m.Ub()}if(2&t){const t=m.uc(6),c=m.hc(2).$implicit,n=m.hc().$implicit;m.Eb(3),m.nc("matDatepicker",t)("ngModel",c[n]),m.Eb(1),m.nc("for",t)}}function Pn(t,c){if(1&t){const t=m.Wb();m.Vb(0,"mat-form-field"),m.Vb(1,"mat-label"),m.Ec(2),m.Ub(),m.Vb(3,"input",28),m.dc("ngModelChange",function(c){return m.wc(t),m.hc(2).$implicit[m.hc().$implicit]=c}),m.Ub(),m.Ub()}if(2&t){const t=m.hc(2).$implicit,c=m.hc().$implicit,n=m.hc();m.Eb(2),m.Fc(c),m.Eb(1),m.nc("type",n.dataSchema[c])("ngModel",t[c])}}function xn(t,c){if(1&t&&(m.Vb(0,"div",20),m.Dc(1,$n,3,0,"div",21),m.Dc(2,An,7,3,"mat-form-field",22),m.Dc(3,Pn,4,3,"mat-form-field",23),m.Ub()),2&t){const t=m.hc(2).$implicit,c=m.hc();m.nc("ngSwitch",c.dataSchema[t]),m.Eb(1),m.nc("ngSwitchCase","edit"),m.Eb(1),m.nc("ngSwitchCase","date")}}function On(t,c){if(1&t&&(m.Vb(0,"td",14),m.Dc(1,jn,5,2,"div",13),m.Dc(2,xn,4,3,"div",15),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.nc("ngIf",!t.isEdit),m.Eb(1),m.nc("ngIf",t.isEdit)}}function Hn(t,c){1&t&&(m.Tb(0,9),m.Dc(1,Mn,2,1,"th",10),m.Dc(2,On,3,2,"td",11),m.Sb()),2&t&&m.nc("matColumnDef",c.$implicit)}function Bn(t,c){1&t&&m.Qb(0,"tr",29)}function In(t,c){1&t&&m.Qb(0,"tr",30)}let Wn=(()=>{class t{constructor(t,c,n){this.odataSrv=t,this.dialog=c,this.snackBar=n,this.dataSourceGoToBedRule=[],this.displayedTimeRuleColumns=["id","targetUser","point","validity","timeRange","countOfDays"],this.goToBedRulesLength=0,this.dataSourceSchoolWorkRule=[],this.schoolWorkRulesLength=0,this.displayedCountRuleColumns=["id","targetUser","point","validity","countRange","countOfDays"],this.dataSourceHomeworkRule=[],this.homeWorkRulesLength=0,this.dataSourceBodyExerciseRule=[],this.bodyExerciseRuleLength=0,this.dataSourceHouseKeepingRule=[],this.houseKeepingRuleLength=0,this.displayedBitRuleColumns=["id","targetUser","point","validity","value","countOfDays"],this.dataSourceErrorCollectionRule=[],this.errorCollectionRuleLength=0,this.dataSourceHandwritingRule=[],this.handwritingRuleLength=0,this.dataSourceCleanDeskRule=[],this.cleanDeskRuleLength=0,this.dataSourcePoliteBehaviorRule=[],this.politeBehaviorRuleLength=0,this.originRules=[]}ngOnInit(){this.refreshList()}get isExpertMode(){return this.odataSrv.expertMode}onCreateRule(){this.dialog.open(Qn,{width:"600px",closeOnNavigation:!1,data:new ct.c}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.odataSrv.createAwardRule(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}onCreateRuleEx(){this.dialog.open(Ln,{width:"600px",closeOnNavigation:!1,data:[]}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t)})}refreshList(){this.odataSrv.getAwardRules(100,0,void 0).subscribe({next:t=>{this.originRules=t.items.slice(),this.dataSourceGoToBedRule=[],this.dataSourceSchoolWorkRule=[],this.dataSourceBodyExerciseRule=[],this.dataSourceCleanDeskRule=[],this.dataSourceErrorCollectionRule=[],this.dataSourceHandwritingRule=[],this.dataSourceHomeworkRule=[],this.dataSourceHouseKeepingRule=[],this.dataSourcePoliteBehaviorRule=[],this.originRules.forEach(t=>{var c,n,o,e,i,a,b,d,r,l,s,m,f,h,E,g,p,U,D,V,C,w,F,S,v,y,T,R,M,k;if(t.ruleType===ct.d.GoToBedTime){const i={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),timeRange:(null===(c=t.timeStart)||void 0===c?void 0:c.toString())+" - "+(null===(n=t.timeEnd)||void 0===n?void 0:n.toString()),countOfDays:(null===(o=t.daysFrom)||void 0===o?void 0:o.toString())+" - "+(null===(e=t.daysTo)||void 0===e?void 0:e.toString())};this.dataSourceGoToBedRule.push(i)}else if(t.ruleType===ct.d.SchoolWorkTime){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),timeRange:(null===(i=t.timeStart)||void 0===i?void 0:i.toString())+" - "+(null===(a=t.timeEnd)||void 0===a?void 0:a.toString()),countOfDays:(null===(b=t.daysFrom)||void 0===b?void 0:b.toString())+" - "+(null===(d=t.daysTo)||void 0===d?void 0:d.toString())};this.dataSourceSchoolWorkRule.push(c)}else if(t.ruleType===ct.d.HomeWorkCount){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),countRange:(null===(r=t.countOfFactLow)||void 0===r?void 0:r.toString())+" - "+(null===(l=t.countOfFactHigh)||void 0===l?void 0:l.toString()),countOfDays:(null===(s=t.daysFrom)||void 0===s?void 0:s.toString())+" - "+(null===(m=t.daysTo)||void 0===m?void 0:m.toString())};this.dataSourceHomeworkRule.push(c)}else if(t.ruleType===ct.d.BodyExerciseCount){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),countRange:(null===(f=t.countOfFactLow)||void 0===f?void 0:f.toString())+" - "+(null===(h=t.countOfFactHigh)||void 0===h?void 0:h.toString()),countOfDays:(null===(E=t.daysFrom)||void 0===E?void 0:E.toString())+" - "+(null===(g=t.daysTo)||void 0===g?void 0:g.toString())};this.dataSourceBodyExerciseRule.push(c)}else if(t.ruleType===ct.d.HouseKeepingCount){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),countRange:(null===(p=t.countOfFactLow)||void 0===p?void 0:p.toString())+" - "+(null===(U=t.countOfFactHigh)||void 0===U?void 0:U.toString()),countOfDays:(null===(D=t.daysFrom)||void 0===D?void 0:D.toString())+" - "+(null===(V=t.daysTo)||void 0===V?void 0:V.toString())};this.dataSourceHouseKeepingRule.push(c)}else if(t.ruleType===ct.d.PoliteBehavior){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),countRange:(null===(C=t.countOfFactLow)||void 0===C?void 0:C.toString())+" - "+(null===(w=t.countOfFactHigh)||void 0===w?void 0:w.toString()),countOfDays:(null===(F=t.daysFrom)||void 0===F?void 0:F.toString())+" - "+(null===(S=t.daysTo)||void 0===S?void 0:S.toString())};this.dataSourcePoliteBehaviorRule.push(c)}else if(t.ruleType===ct.d.ErrorCollectionHabit){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),value:t.doneOfFact?t.doneOfFact.toString():"",countOfDays:(null===(v=t.daysFrom)||void 0===v?void 0:v.toString())+" - "+(null===(y=t.daysTo)||void 0===y?void 0:y.toString())};this.dataSourceErrorCollectionRule.push(c)}else if(t.ruleType===ct.d.HandWritingHabit){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),value:t.doneOfFact?t.doneOfFact.toString():"",countOfDays:(null===(T=t.daysFrom)||void 0===T?void 0:T.toString())+" - "+(null===(R=t.daysTo)||void 0===R?void 0:R.toString())};this.dataSourceHandwritingRule.push(c)}else if(t.ruleType===ct.d.CleanDeakHabit){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.F)+" - "+t.validTo.format(u.F),value:t.doneOfFact?t.doneOfFact.toString():"",countOfDays:(null===(M=t.daysFrom)||void 0===M?void 0:M.toString())+" - "+(null===(k=t.daysTo)||void 0===k?void 0:k.toString())};this.dataSourceCleanDeskRule.push(c)}this.goToBedRulesLength=this.dataSourceGoToBedRule.length,this.schoolWorkRulesLength=this.dataSourceSchoolWorkRule.length,this.homeWorkRulesLength=this.dataSourceHomeworkRule.length,this.bodyExerciseRuleLength=this.dataSourceBodyExerciseRule.length,this.houseKeepingRuleLength=this.dataSourceHouseKeepingRule.length,this.errorCollectionRuleLength=this.dataSourceErrorCollectionRule.length,this.handwritingRuleLength=this.dataSourceHandwritingRule.length,this.cleanDeskRuleLength=this.dataSourceCleanDeskRule.length,this.politeBehaviorRuleLength=this.dataSourcePoliteBehaviorRule.length})},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onCopyRule(t){const c=this.originRules.find(c=>c.id===t);if(void 0!==c){const t=new ct.c;t.copyFrom(c),this.dialog.open(Qn,{width:"600px",closeOnNavigation:!1,data:t}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.odataSrv.createAwardRule(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}}onDeleteRule(t){this.odataSrv.deleteAwardRule(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(f.b),m.Pb(r.b),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-award-rule"]],decls:245,vars:80,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","click"],["animationDuration","200ms"],[3,"label"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetUser"],["matColumnDef","point"],["matColumnDef","validity"],["matColumnDef","timeRange"],["matColumnDef","countOfDays"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["matColumnDef","countRange"],["matColumnDef","value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(m.Vb(0,"mat-toolbar"),m.Vb(1,"h3"),m.Ec(2),m.ic(3,"transloco"),m.Ub(),m.Qb(4,"div",0),m.Vb(5,"button",1),m.dc("click",function(){return c.onCreateRule()}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Vb(8,"button",1),m.dc("click",function(){return c.onCreateRuleEx()}),m.Ec(9,"Create Ex"),m.Ub(),m.Ub(),m.Vb(10,"mat-tab-group",2),m.Vb(11,"mat-tab",3),m.ic(12,"transloco"),m.Vb(13,"div",4),m.Vb(14,"div",5),m.Vb(15,"table",6),m.Tb(16,7),m.Dc(17,at,2,0,"th",8),m.Dc(18,bt,8,9,"td",9),m.Sb(),m.Tb(19,10),m.Dc(20,dt,3,3,"th",8),m.Dc(21,rt,2,1,"td",9),m.Sb(),m.Tb(22,11),m.Dc(23,lt,3,3,"th",8),m.Dc(24,st,2,1,"td",9),m.Sb(),m.Tb(25,12),m.Dc(26,ut,3,3,"th",8),m.Dc(27,mt,2,1,"td",9),m.Sb(),m.Tb(28,13),m.Dc(29,ft,3,3,"th",8),m.Dc(30,ht,2,1,"td",9),m.Sb(),m.Tb(31,14),m.Dc(32,Et,3,3,"th",8),m.Dc(33,gt,2,1,"td",9),m.Sb(),m.Dc(34,pt,1,0,"tr",15),m.Dc(35,Ut,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(36,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(37,"mat-tab",3),m.ic(38,"transloco"),m.Vb(39,"div",4),m.Vb(40,"div",5),m.Vb(41,"table",6),m.Tb(42,7),m.Dc(43,Dt,2,0,"th",8),m.Dc(44,Vt,8,9,"td",9),m.Sb(),m.Tb(45,10),m.Dc(46,Ct,3,3,"th",8),m.Dc(47,wt,2,1,"td",9),m.Sb(),m.Tb(48,11),m.Dc(49,Ft,3,3,"th",8),m.Dc(50,St,2,1,"td",9),m.Sb(),m.Tb(51,12),m.Dc(52,vt,3,3,"th",8),m.Dc(53,yt,2,1,"td",9),m.Sb(),m.Tb(54,13),m.Dc(55,Tt,3,3,"th",8),m.Dc(56,Rt,2,1,"td",9),m.Sb(),m.Tb(57,14),m.Dc(58,Mt,3,3,"th",8),m.Dc(59,kt,2,1,"td",9),m.Sb(),m.Dc(60,jt,1,0,"tr",15),m.Dc(61,$t,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(62,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(63,"mat-tab",3),m.ic(64,"transloco"),m.Vb(65,"div",4),m.Vb(66,"div",5),m.Vb(67,"table",6),m.Tb(68,7),m.Dc(69,At,2,0,"th",8),m.Dc(70,Pt,8,9,"td",9),m.Sb(),m.Tb(71,10),m.Dc(72,xt,3,3,"th",8),m.Dc(73,Ot,2,1,"td",9),m.Sb(),m.Tb(74,11),m.Dc(75,Ht,3,3,"th",8),m.Dc(76,Bt,2,1,"td",9),m.Sb(),m.Tb(77,12),m.Dc(78,It,3,3,"th",8),m.Dc(79,Wt,2,1,"td",9),m.Sb(),m.Tb(80,18),m.Dc(81,Qt,3,3,"th",8),m.Dc(82,Lt,2,1,"td",9),m.Sb(),m.Tb(83,14),m.Dc(84,Nt,3,3,"th",8),m.Dc(85,Gt,2,1,"td",9),m.Sb(),m.Dc(86,zt,1,0,"tr",15),m.Dc(87,Kt,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(88,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(89,"mat-tab",3),m.ic(90,"transloco"),m.Vb(91,"div",4),m.Vb(92,"div",5),m.Vb(93,"table",6),m.Tb(94,7),m.Dc(95,qt,2,0,"th",8),m.Dc(96,Jt,8,9,"td",9),m.Sb(),m.Tb(97,10),m.Dc(98,_t,3,3,"th",8),m.Dc(99,Xt,2,1,"td",9),m.Sb(),m.Tb(100,11),m.Dc(101,Yt,3,3,"th",8),m.Dc(102,Zt,2,1,"td",9),m.Sb(),m.Tb(103,12),m.Dc(104,tc,3,3,"th",8),m.Dc(105,cc,2,1,"td",9),m.Sb(),m.Tb(106,18),m.Dc(107,nc,3,3,"th",8),m.Dc(108,oc,2,1,"td",9),m.Sb(),m.Tb(109,14),m.Dc(110,ec,3,3,"th",8),m.Dc(111,ic,2,1,"td",9),m.Sb(),m.Dc(112,ac,1,0,"tr",15),m.Dc(113,bc,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(114,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(115,"mat-tab",3),m.ic(116,"transloco"),m.Vb(117,"div",4),m.Vb(118,"div",5),m.Vb(119,"table",6),m.Tb(120,7),m.Dc(121,dc,2,0,"th",8),m.Dc(122,rc,8,9,"td",9),m.Sb(),m.Tb(123,10),m.Dc(124,lc,3,3,"th",8),m.Dc(125,sc,2,1,"td",9),m.Sb(),m.Tb(126,11),m.Dc(127,uc,3,3,"th",8),m.Dc(128,mc,2,1,"td",9),m.Sb(),m.Tb(129,12),m.Dc(130,fc,3,3,"th",8),m.Dc(131,hc,2,1,"td",9),m.Sb(),m.Tb(132,18),m.Dc(133,Ec,3,3,"th",8),m.Dc(134,gc,2,1,"td",9),m.Sb(),m.Tb(135,14),m.Dc(136,pc,3,3,"th",8),m.Dc(137,Uc,2,1,"td",9),m.Sb(),m.Dc(138,Dc,1,0,"tr",15),m.Dc(139,Vc,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(140,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(141,"mat-tab",3),m.ic(142,"transloco"),m.Vb(143,"div",4),m.Vb(144,"div",5),m.Vb(145,"table",6),m.Tb(146,7),m.Dc(147,Cc,2,0,"th",8),m.Dc(148,wc,8,9,"td",9),m.Sb(),m.Tb(149,10),m.Dc(150,Fc,3,3,"th",8),m.Dc(151,Sc,2,1,"td",9),m.Sb(),m.Tb(152,11),m.Dc(153,vc,3,3,"th",8),m.Dc(154,yc,2,1,"td",9),m.Sb(),m.Tb(155,12),m.Dc(156,Tc,3,3,"th",8),m.Dc(157,Rc,2,1,"td",9),m.Sb(),m.Tb(158,19),m.Dc(159,Mc,3,3,"th",8),m.Dc(160,kc,2,1,"td",9),m.Sb(),m.Tb(161,14),m.Dc(162,jc,3,3,"th",8),m.Dc(163,$c,2,1,"td",9),m.Sb(),m.Dc(164,Ac,1,0,"tr",15),m.Dc(165,Pc,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(166,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(167,"mat-tab",3),m.ic(168,"transloco"),m.Vb(169,"div",4),m.Vb(170,"div",5),m.Vb(171,"table",6),m.Tb(172,7),m.Dc(173,xc,2,0,"th",8),m.Dc(174,Oc,8,9,"td",9),m.Sb(),m.Tb(175,10),m.Dc(176,Hc,3,3,"th",8),m.Dc(177,Bc,2,1,"td",9),m.Sb(),m.Tb(178,11),m.Dc(179,Ic,3,3,"th",8),m.Dc(180,Wc,2,1,"td",9),m.Sb(),m.Tb(181,12),m.Dc(182,Qc,3,3,"th",8),m.Dc(183,Lc,2,1,"td",9),m.Sb(),m.Tb(184,19),m.Dc(185,Nc,3,3,"th",8),m.Dc(186,Gc,2,1,"td",9),m.Sb(),m.Tb(187,14),m.Dc(188,zc,3,3,"th",8),m.Dc(189,Kc,2,1,"td",9),m.Sb(),m.Dc(190,qc,1,0,"tr",15),m.Dc(191,Jc,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(192,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(193,"mat-tab",3),m.ic(194,"transloco"),m.Vb(195,"div",4),m.Vb(196,"div",5),m.Vb(197,"table",6),m.Tb(198,7),m.Dc(199,_c,2,0,"th",8),m.Dc(200,Xc,8,9,"td",9),m.Sb(),m.Tb(201,10),m.Dc(202,Yc,3,3,"th",8),m.Dc(203,Zc,2,1,"td",9),m.Sb(),m.Tb(204,11),m.Dc(205,tn,3,3,"th",8),m.Dc(206,cn,2,1,"td",9),m.Sb(),m.Tb(207,12),m.Dc(208,nn,3,3,"th",8),m.Dc(209,on,2,1,"td",9),m.Sb(),m.Tb(210,19),m.Dc(211,en,3,3,"th",8),m.Dc(212,an,2,1,"td",9),m.Sb(),m.Tb(213,14),m.Dc(214,bn,3,3,"th",8),m.Dc(215,dn,2,1,"td",9),m.Sb(),m.Dc(216,rn,1,0,"tr",15),m.Dc(217,ln,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(218,"mat-paginator",17),m.Ub(),m.Ub(),m.Vb(219,"mat-tab",3),m.ic(220,"transloco"),m.Vb(221,"div",4),m.Vb(222,"div",5),m.Vb(223,"table",6),m.Tb(224,7),m.Dc(225,sn,2,0,"th",8),m.Dc(226,un,8,9,"td",9),m.Sb(),m.Tb(227,10),m.Dc(228,mn,3,3,"th",8),m.Dc(229,fn,2,1,"td",9),m.Sb(),m.Tb(230,11),m.Dc(231,hn,3,3,"th",8),m.Dc(232,En,2,1,"td",9),m.Sb(),m.Tb(233,12),m.Dc(234,gn,3,3,"th",8),m.Dc(235,pn,2,1,"td",9),m.Sb(),m.Tb(236,18),m.Dc(237,Un,3,3,"th",8),m.Dc(238,Dn,2,1,"td",9),m.Sb(),m.Tb(239,14),m.Dc(240,Vn,3,3,"th",8),m.Dc(241,Cn,2,1,"td",9),m.Sb(),m.Dc(242,wn,1,0,"tr",15),m.Dc(243,Fn,1,0,"tr",16),m.Ub(),m.Ub(),m.Qb(244,"mat-paginator",17),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Eb(2),m.Fc(m.jc(3,58,"Award.Rules")),m.Eb(3),m.nc("disabled",!c.isExpertMode),m.Eb(1),m.Fc(m.jc(7,60,"Common.Create")),m.Eb(2),m.nc("disabled",!c.isExpertMode),m.Eb(3),m.nc("label",m.jc(12,62,"Award.GoToBedTime")),m.Eb(4),m.nc("dataSource",c.dataSourceGoToBedRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedTimeRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedTimeRuleColumns),m.Eb(1),m.nc("length",c.goToBedRulesLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(38,64,"Award.SchoolWorkTime")),m.Eb(4),m.nc("dataSource",c.dataSourceSchoolWorkRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedTimeRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedTimeRuleColumns),m.Eb(1),m.nc("length",c.schoolWorkRulesLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(64,66,"Award.HomeworkCount")),m.Eb(4),m.nc("dataSource",c.dataSourceHomeworkRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.nc("length",c.homeWorkRulesLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(90,68,"Award.BodyExerciseCount")),m.Eb(4),m.nc("dataSource",c.dataSourceBodyExerciseRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.nc("length",c.bodyExerciseRuleLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(116,70,"Award.HouseKeepingCount")),m.Eb(4),m.nc("dataSource",c.dataSourceHouseKeepingRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.nc("length",c.houseKeepingRuleLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(142,72,"Award.ErrorsCollection")),m.Eb(4),m.nc("dataSource",c.dataSourceErrorCollectionRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedBitRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedBitRuleColumns),m.Eb(1),m.nc("length",c.errorCollectionRuleLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(168,74,"Award.HandWriting")),m.Eb(4),m.nc("dataSource",c.dataSourceHandwritingRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedBitRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedBitRuleColumns),m.Eb(1),m.nc("length",c.handwritingRuleLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(194,76,"Award.CleanDesk")),m.Eb(4),m.nc("dataSource",c.dataSourceCleanDeskRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedBitRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedBitRuleColumns),m.Eb(1),m.nc("length",c.cleanDeskRuleLength)("pageSize",20),m.Eb(1),m.nc("label",m.jc(220,78,"Award.PoliteBehavior")),m.Eb(4),m.nc("dataSource",c.dataSourcePoliteBehaviorRule),m.Eb(19),m.nc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.nc("length",c.politeBehaviorRuleLength)("pageSize",20))},directives:[E.a,g.b,nt.b,nt.a,p.j,p.c,p.e,p.b,p.g,p.i,U.a,p.d,p.a,p.f,p.h],pipes:[i.d],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})(),Qn=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c,this.arRuleTypes=[],this.arRuleTypes=Object(ct.f)()}get isTimeRangeNeed(){return this.data.ruleType===ct.d.GoToBedTime||this.data.ruleType===ct.d.SchoolWorkTime}get isCountNeed(){return this.data.ruleType===ct.d.HomeWorkCount||this.data.ruleType===ct.d.HouseKeepingCount||this.data.ruleType===ct.d.PoliteBehavior||this.data.ruleType===ct.d.BodyExerciseCount}get isDoneNeed(){return this.data.ruleType===ct.d.CleanDeakHabit||this.data.ruleType===ct.d.ErrorCollectionHabit||this.data.ruleType===ct.d.HandWritingHabit}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(r.g),m.Pb(r.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-award-rule-create-dialog"]],decls:57,vars:37,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","name","targetuser",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","name","validfrom",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date","name","validto",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["required","","name","ruletype",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","control-full-width","cellspacing","0",4,"ngIf"],["class","control-full-width",4,"ngIf"],["cellspacing","0",1,"control-full-width"],[1,"control-full-width"],["matInput","","type","number","name","dayfrom",3,"ngModel","ngModelChange"],["matInput","","type","number","name","dayto",3,"ngModel","ngModelChange"],["matInput","","type","number","name","point",3,"ngModel","ngModelChange"],["matInput","","name","comment",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"],[3,"value"],["matInput","","type","number","name","timestart",3,"ngModel","ngModelChange"],["matInput","","type","number","name","timeend",3,"ngModel","ngModelChange"],["matInput","","type","number","name","countlow",3,"ngModel","ngModelChange"],["matInput","","type","number","name","counthigh",3,"ngModel","ngModelChange"],["name","donecrit",3,"ngModel","ngModelChange"]],template:function(t,c){if(1&t&&(m.Vb(0,"h1",0),m.Ec(1,"CREATE AWARD RULE"),m.Ub(),m.Vb(2,"div",1),m.Vb(3,"form"),m.Vb(4,"mat-form-field",2),m.Vb(5,"mat-label"),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Vb(8,"input",3),m.dc("ngModelChange",function(t){return c.data.targetUser=t}),m.Ub(),m.Ub(),m.Vb(9,"mat-form-field",4),m.Vb(10,"mat-label"),m.Ec(11),m.ic(12,"transloco"),m.Ub(),m.Vb(13,"mat-date-range-input",5),m.Vb(14,"input",6),m.dc("ngModelChange",function(t){return c.data.validFrom=t}),m.Ub(),m.Vb(15,"input",7),m.dc("ngModelChange",function(t){return c.data.validTo=t}),m.Ub(),m.Ub(),m.Qb(16,"mat-datepicker-toggle",8),m.Qb(17,"mat-date-range-picker",null,9),m.Ub(),m.Vb(19,"mat-form-field",2),m.Vb(20,"mat-label"),m.Ec(21),m.ic(22,"transloco"),m.Ub(),m.Vb(23,"mat-select",10),m.dc("ngModelChange",function(t){return c.data.ruleType=t}),m.Dc(24,Sn,3,4,"mat-option",11),m.Ub(),m.Ub(),m.Dc(25,vn,14,8,"table",12),m.Dc(26,yn,12,2,"table",12),m.Dc(27,Tn,3,1,"mat-form-field",13),m.Vb(28,"table",14),m.Vb(29,"tr"),m.Vb(30,"td"),m.Vb(31,"mat-form-field",15),m.Vb(32,"mat-label"),m.Ec(33),m.ic(34,"transloco"),m.Ub(),m.Vb(35,"input",16),m.dc("ngModelChange",function(t){return c.data.daysFrom=t}),m.Ub(),m.Ub(),m.Ub(),m.Vb(36,"td"),m.Vb(37,"mat-form-field",15),m.Vb(38,"mat-label"),m.Ec(39),m.ic(40,"transloco"),m.Ub(),m.Vb(41,"input",17),m.dc("ngModelChange",function(t){return c.data.daysTo=t}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(42,"mat-form-field",2),m.Vb(43,"mat-label"),m.Ec(44),m.ic(45,"transloco"),m.Ub(),m.Vb(46,"input",18),m.dc("ngModelChange",function(t){return c.data.point=t}),m.Ub(),m.Ub(),m.Vb(47,"mat-form-field",2),m.Vb(48,"mat-label"),m.Ec(49),m.ic(50,"transloco"),m.Ub(),m.Vb(51,"input",19),m.dc("ngModelChange",function(t){return c.data.desp=t}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(52,"div",20),m.Vb(53,"button",21),m.dc("click",function(){return c.onNoClick()}),m.Ec(54,"No Thanks"),m.Ub(),m.Vb(55,"button",22),m.Ec(56,"OK"),m.Ub(),m.Ub()),2&t){const t=m.uc(18);m.Eb(6),m.Fc(m.jc(7,23,"Award.TargetUser")),m.Eb(2),m.nc("ngModel",c.data.targetUser),m.Eb(3),m.Fc(m.jc(12,25,"Award.Validity")),m.Eb(2),m.nc("rangePicker",t),m.Eb(1),m.nc("ngModel",c.data.validFrom),m.Eb(1),m.nc("ngModel",c.data.validTo),m.Eb(1),m.nc("for",t),m.Eb(5),m.Fc(m.jc(22,27,"Type")),m.Eb(2),m.nc("ngModel",c.data.ruleType),m.Eb(1),m.nc("ngForOf",c.arRuleTypes),m.Eb(1),m.nc("ngIf",c.isTimeRangeNeed),m.Eb(1),m.nc("ngIf",c.isCountNeed),m.Eb(1),m.nc("ngIf",c.isDoneNeed),m.Eb(6),m.Fc(m.jc(34,29,"Award.ContinuousDays")),m.Eb(2),m.nc("ngModel",c.data.daysFrom),m.Eb(4),m.Fc(m.jc(40,31,"Award.ContinuousDays")),m.Eb(2),m.nc("ngModel",c.data.daysTo),m.Eb(3),m.Fc(m.jc(45,33,"Award.Point")),m.Eb(2),m.nc("ngModel",c.data.point),m.Eb(3),m.Fc(m.jc(50,35,"Common.Description")),m.Eb(2),m.nc("ngModel",c.data.desp),m.Eb(4),m.nc("disabled",!c.data.isValid())("mat-dialog-close",c.data)}},directives:[r.h,r.e,e.u,e.n,e.o,V.c,V.g,C.b,e.c,e.m,e.p,w.a,w.h,w.g,w.f,V.i,w.b,ot.a,e.s,o.l,o.m,e.q,r.c,g.b,r.d,et.n,it.a],pipes:[i.d],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})(),Ln=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c,this.displayedColumns=["desp","validFrom","validTo","countOfFactLow","countOfFactHigh","timeStart","timeEnd","daysFrom","daysTo","point","edit"],this.dataSource=[],this.dataSchema={desp:"text",validFrom:"date",validTo:"date",countOfFactLow:"number",countOfFactHigh:"number",timeStart:"number",timeEnd:"number",daysFrom:"number",daysTo:"number",point:"number",edit:"edit"}}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(r.g),m.Pb(r.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-award-rule-create-ex-dialog"]],decls:12,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],[4,"ngIf"],["mat-cell",""],[3,"ngSwitch",4,"ngIf"],["class","btn-edit",4,"ngIfSpanHeader","ngIf"],["spanHeader",""],[1,"btn-edit"],[3,"click"],[3,"ngSwitch"],["class","btn-edit",4,"ngSwitchCase"],["appearance","fill",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","",3,"type","ngModel","ngModelChange"],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(m.Vb(0,"h1",0),m.Ec(1,"CREATE AWARD RULE"),m.Ub(),m.Vb(2,"div",1),m.Vb(3,"table",2),m.Dc(4,Hn,3,1,"ng-container",3),m.Dc(5,Bn,1,0,"tr",4),m.Dc(6,In,1,0,"tr",5),m.Ub(),m.Ub(),m.Vb(7,"div",6),m.Vb(8,"button",7),m.dc("click",function(){return c.onNoClick()}),m.Ec(9,"No Thanks"),m.Ub(),m.Vb(10,"button",8),m.Ec(11,"OK"),m.Ub(),m.Ub()),2&t&&(m.Eb(3),m.nc("dataSource",c.dataSource),m.Eb(1),m.nc("ngForOf",c.displayedColumns),m.Eb(1),m.nc("matHeaderRowDef",c.displayedColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedColumns),m.Eb(4),m.nc("mat-dialog-close",c.data))},directives:[r.h,r.e,p.j,o.l,p.g,p.i,r.c,g.b,r.d,p.c,p.e,p.b,p.d,o.m,p.a,o.o,o.p,o.q,V.c,V.g,C.b,w.d,e.c,e.m,e.p,w.f,V.i,w.c,p.f,p.h],encapsulation:2}),t})();function Nn(t,c){1&t&&m.Qb(0,"th",23)}function Gn(t,c){if(1&t){const t=m.Wb();m.Vb(0,"td",24),m.Vb(1,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onGetPoints(n.targetUser,n.recordDate)}),m.Ec(2),m.ic(3,"transloco"),m.Ub(),m.Vb(4,"button",1),m.dc("click",function(){m.wc(t);const n=c.$implicit;return m.hc().onDeleteTrace(n.targetUser,n.recordDate)}),m.Ec(5),m.ic(6,"transloco"),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Eb(1),m.nc("disabled",!t.isExpertMode),m.Eb(1),m.Fc(m.jc(3,4,"Award.Point")),m.Eb(2),m.nc("disabled",!t.isExpertMode),m.Eb(1),m.Fc(m.jc(6,6,"Common.Delete"))}}function zn(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Kn(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function qn(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Quiz.Date")))}function Jn(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.getRecordDateDisplayString())}}function _n(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.SchoolWorkTime")))}function Xn(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.schoolWorkTime)}}function Yn(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.GoToBedTime")))}function Zn(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.goToBedTime)}}function to(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.HomeworkCount")))}function co(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.homeWorkCount)}}function no(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.BodyExerciseCount")))}function oo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.bodyExerciseCount)}}function eo(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ErrorsCollection")))}function io(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.errorsCollection)}}function ao(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.HandWriting")))}function bo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.handWriting)}}function ro(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.CleanDesk")))}function lo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.cleanDesk)}}function so(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.HouseKeepingCount")))}function uo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.houseKeepingCount)}}function mo(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.PoliteBehavior")))}function fo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.politeBehavior)}}function ho(t,c){1&t&&m.Qb(0,"tr",25)}function Eo(t,c){1&t&&m.Qb(0,"tr",26)}function go(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1,"#"),m.Ub())}function po(t,c){if(1&t){const t=m.Wb();m.Vb(0,"button",1),m.dc("click",function(){m.wc(t);const c=m.hc().$implicit;return m.hc(2).onDeletePoint(c.id)}),m.Ec(1),m.ic(2,"transloco"),m.Ub()}if(2&t){const t=m.hc(3);m.nc("disabled",!t.isExpertMode),m.Eb(1),m.Fc(m.jc(2,2,"Common.Delete"))}}function Uo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Dc(1,po,3,4,"button",32),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.nc("ngIf",!t.matchedRuleID)}}function Do(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.TargetUser")))}function Vo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.targetUser)}}function Co(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Quiz.Date")))}function wo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.getRecordDateDisplayString())}}function Fo(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1,"Rule ID"),m.Ub())}function So(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.matchedRuleID)}}function vo(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.ContinuousDays")))}function yo(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.countOfDay)}}function To(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Award.Point")))}function Ro(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.point)}}function Mo(t,c){1&t&&(m.Vb(0,"th",23),m.Ec(1),m.ic(2,"transloco"),m.Ub()),2&t&&(m.Eb(1),m.Fc(m.jc(2,1,"Common.Comment")))}function ko(t,c){if(1&t&&(m.Vb(0,"td",24),m.Ec(1),m.Ub()),2&t){const t=c.$implicit;m.Eb(1),m.Fc(t.comment)}}function jo(t,c){1&t&&m.Qb(0,"tr",25)}function $o(t,c){1&t&&m.Qb(0,"tr",26)}function Ao(t,c){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"mat-toolbar"),m.Vb(2,"h3"),m.Ec(3),m.ic(4,"transloco"),m.Ub(),m.Qb(5,"div",0),m.Vb(6,"button",27),m.dc("click",function(){return m.wc(t),m.hc().onHidePoints()}),m.Ec(7),m.ic(8,"transloco"),m.Ub(),m.Ub(),m.Vb(9,"div",2),m.Vb(10,"div",3),m.Vb(11,"table",4),m.Tb(12,5),m.Dc(13,go,2,0,"th",6),m.Dc(14,Uo,2,1,"td",7),m.Sb(),m.Tb(15,8),m.Dc(16,Do,3,3,"th",6),m.Dc(17,Vo,2,1,"td",7),m.Sb(),m.Tb(18,9),m.Dc(19,Co,3,3,"th",6),m.Dc(20,wo,2,1,"td",7),m.Sb(),m.Tb(21,28),m.Dc(22,Fo,2,0,"th",6),m.Dc(23,So,2,1,"td",7),m.Sb(),m.Tb(24,29),m.Dc(25,vo,3,3,"th",6),m.Dc(26,yo,2,1,"td",7),m.Sb(),m.Tb(27,30),m.Dc(28,To,3,3,"th",6),m.Dc(29,Ro,2,1,"td",7),m.Sb(),m.Tb(30,31),m.Dc(31,Mo,3,3,"th",6),m.Dc(32,ko,2,1,"td",7),m.Sb(),m.Dc(33,jo,1,0,"tr",19),m.Dc(34,$o,1,0,"tr",20),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Eb(3),m.Ic("",m.jc(4,7,"Award.Point"),", ",t.selectedUser,", ",t.selectedDate,""),m.Eb(4),m.Fc(m.jc(8,9,"Common.Hide")),m.Eb(4),m.nc("dataSource",t.dataSourcePoints),m.Eb(22),m.nc("matHeaderRowDef",t.displayedPointColumns),m.Eb(1),m.nc("matRowDefColumns",t.displayedPointColumns)}}const Po="table[_ngcontent-%COMP%]{width:100%}.example-form[_ngcontent-%COMP%]{min-width:250px;max-width:500px;width:100%}.example-margin[_ngcontent-%COMP%]{margin:0 10px}td[_ngcontent-%COMP%]{padding-right:8px}";let xo=(()=>{class t{constructor(t,c,n){this.odataSrv=t,this.dialog=c,this.snackBar=n,this.dataSourceTrace=[],this.dataSourcePoints=[],this.traceLength=0,this.displayedColumns=["action","targetUser","recordDate","schoolWorkTime","goToBedTime","homeWorkCount","bodyExerciseCount","errorsCollection","handWriting","cleanDesk","houseKeepingCount","politeBehavior"],this.displayedPointColumns=["action","targetUser","recordDate","matchedRuleID","countOfDay","point","comment"],this.selectedUser="",this.selectedDate="",this.isPointShow=!1}ngOnInit(){this.refreshList()}get isExpertMode(){return this.odataSrv.expertMode}onCreateTrace(){this.dialog.open(Oo,{width:"600px",closeOnNavigation:!1,data:new u.f}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.odataSrv.createDailyTrace(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}refreshList(){this.odataSrv.getDailyTrace(100,0).subscribe({next:t=>{this.dataSourceTrace=t.items.slice(),this.traceLength=t.totalCount},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onGetPoints(t,c){this.odataSrv.getAwardPoints(100,0,void 0,`TargetUser eq '${t}' AND RecordDate eq ${c.format(u.F)}`).subscribe({next:n=>{this.selectedUser=t,this.selectedDate=c.format(u.F),this.dataSourcePoints=[],this.dataSourcePoints=n.items.slice(),this.isPointShow=!0},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onDeleteTrace(t,c){this.odataSrv.deleteDailyTrace(t,c).subscribe({next:t=>{this.isPointShow=!1,this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onHidePoints(){this.selectedDate="",this.selectedUser="",this.dataSourcePoints=[],this.isPointShow=!1}onDeletePoint(t){this.odataSrv.deleteAwardPoint(t).subscribe({next:t=>{this.onGetPoints(this.selectedUser,s()(this.selectedDate))},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(f.b),m.Pb(r.b),m.Pb(h.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-daily-trace"]],decls:52,vars:13,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetUser"],["matColumnDef","recordDate"],["matColumnDef","schoolWorkTime"],["matColumnDef","goToBedTime"],["matColumnDef","homeWorkCount"],["matColumnDef","bodyExerciseCount"],["matColumnDef","errorsCollection"],["matColumnDef","handWriting"],["matColumnDef","cleanDesk"],["matColumnDef","houseKeepingCount"],["matColumnDef","politeBehavior"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-raised-button","",3,"click"],["matColumnDef","matchedRuleID"],["matColumnDef","countOfDay"],["matColumnDef","point"],["matColumnDef","comment"],["mat-raised-button","",3,"disabled","click",4,"ngIf"]],template:function(t,c){1&t&&(m.Vb(0,"mat-toolbar"),m.Vb(1,"h3"),m.Ec(2),m.ic(3,"transloco"),m.Ub(),m.Qb(4,"div",0),m.Vb(5,"button",1),m.dc("click",function(){return c.onCreateTrace()}),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Ub(),m.Vb(8,"div",2),m.Vb(9,"div",3),m.Vb(10,"table",4),m.Tb(11,5),m.Dc(12,Nn,1,0,"th",6),m.Dc(13,Gn,7,8,"td",7),m.Sb(),m.Tb(14,8),m.Dc(15,zn,3,3,"th",6),m.Dc(16,Kn,2,1,"td",7),m.Sb(),m.Tb(17,9),m.Dc(18,qn,3,3,"th",6),m.Dc(19,Jn,2,1,"td",7),m.Sb(),m.Tb(20,10),m.Dc(21,_n,3,3,"th",6),m.Dc(22,Xn,2,1,"td",7),m.Sb(),m.Tb(23,11),m.Dc(24,Yn,3,3,"th",6),m.Dc(25,Zn,2,1,"td",7),m.Sb(),m.Tb(26,12),m.Dc(27,to,3,3,"th",6),m.Dc(28,co,2,1,"td",7),m.Sb(),m.Tb(29,13),m.Dc(30,no,3,3,"th",6),m.Dc(31,oo,2,1,"td",7),m.Sb(),m.Tb(32,14),m.Dc(33,eo,3,3,"th",6),m.Dc(34,io,2,1,"td",7),m.Sb(),m.Tb(35,15),m.Dc(36,ao,3,3,"th",6),m.Dc(37,bo,2,1,"td",7),m.Sb(),m.Tb(38,16),m.Dc(39,ro,3,3,"th",6),m.Dc(40,lo,2,1,"td",7),m.Sb(),m.Tb(41,17),m.Dc(42,so,3,3,"th",6),m.Dc(43,uo,2,1,"td",7),m.Sb(),m.Tb(44,18),m.Dc(45,mo,3,3,"th",6),m.Dc(46,fo,2,1,"td",7),m.Sb(),m.Dc(47,ho,1,0,"tr",19),m.Dc(48,Eo,1,0,"tr",20),m.Ub(),m.Ub(),m.Qb(49,"mat-paginator",21),m.Ub(),m.Qb(50,"mat-divider"),m.Dc(51,Ao,35,11,"div",22)),2&t&&(m.Eb(2),m.Fc(m.jc(3,9,"Award.DailyTrace")),m.Eb(3),m.nc("disabled",!c.isExpertMode),m.Eb(1),m.Fc(m.jc(7,11,"Common.Create")),m.Eb(4),m.nc("dataSource",c.dataSourceTrace),m.Eb(37),m.nc("matHeaderRowDef",c.displayedColumns),m.Eb(1),m.nc("matRowDefColumns",c.displayedColumns),m.Eb(1),m.nc("length",c.traceLength)("pageSize",20),m.Eb(2),m.nc("ngIf",c.isPointShow))},directives:[E.a,g.b,p.j,p.c,p.e,p.b,p.g,p.i,U.a,D.a,o.m,p.d,p.a,p.f,p.h],pipes:[i.d],styles:[Po]}),t})(),Oo=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Pb(r.g),m.Pb(r.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-daily-trace-create-dialog"]],decls:60,vars:45,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"example-form"],["appearance","fill",1,"control-full-width"],["matInput","","name","targetuser",3,"ngModel","ngModelChange"],["appearance","fill"],["matInput","","name","recorddate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","name","schoolworktime",3,"ngModel","ngModelChange"],["matInput","","type","number","name","gotobedtime",3,"ngModel","ngModelChange"],["matInput","","type","number","name","homeworkcount",3,"ngModel","ngModelChange"],["matInput","","type","number","name","bodyexercisecount",3,"ngModel","ngModelChange"],["name","errorcollection",1,"example-margin",3,"ngModel","ngModelChange"],["name","handwriting",1,"example-margin",3,"ngModel","ngModelChange"],["name","cleandesk",1,"example-margin",3,"ngModel","ngModelChange"],["matInput","","type","number","name","housekeepingcount",3,"ngModel","ngModelChange"],["matInput","","type","number","name","politebehavior",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,c){if(1&t&&(m.Vb(0,"h1",0),m.Ec(1,"CREATE DAILY TRACE"),m.Ub(),m.Vb(2,"div",1),m.Vb(3,"form",2),m.Vb(4,"mat-form-field",3),m.Vb(5,"mat-label"),m.Ec(6),m.ic(7,"transloco"),m.Ub(),m.Vb(8,"input",4),m.dc("ngModelChange",function(t){return c.data.targetUser=t}),m.Ub(),m.Ub(),m.Vb(9,"mat-form-field",5),m.Vb(10,"mat-label"),m.Ec(11,"Record Date"),m.Ub(),m.Vb(12,"input",6),m.dc("ngModelChange",function(t){return c.data.recordDate=t}),m.Ub(),m.Qb(13,"mat-datepicker-toggle",7),m.Qb(14,"mat-datepicker",null,8),m.Ub(),m.Vb(16,"mat-form-field",3),m.Vb(17,"mat-label"),m.Ec(18),m.ic(19,"transloco"),m.Ub(),m.Vb(20,"input",9),m.dc("ngModelChange",function(t){return c.data.schoolWorkTime=t}),m.Ub(),m.Ub(),m.Vb(21,"mat-form-field",3),m.Vb(22,"mat-label"),m.Ec(23),m.ic(24,"transloco"),m.Ub(),m.Vb(25,"input",10),m.dc("ngModelChange",function(t){return c.data.goToBedTime=t}),m.Ub(),m.Ub(),m.Vb(26,"mat-form-field",3),m.Vb(27,"mat-label"),m.Ec(28),m.ic(29,"transloco"),m.Ub(),m.Vb(30,"input",11),m.dc("ngModelChange",function(t){return c.data.homeWorkCount=t}),m.Ub(),m.Ub(),m.Vb(31,"mat-form-field",3),m.Vb(32,"mat-label"),m.Ec(33),m.ic(34,"transloco"),m.Ub(),m.Vb(35,"input",12),m.dc("ngModelChange",function(t){return c.data.bodyExerciseCount=t}),m.Ub(),m.Ub(),m.Vb(36,"mat-checkbox",13),m.dc("ngModelChange",function(t){return c.data.errorsCollection=t}),m.Ec(37),m.ic(38,"transloco"),m.Ub(),m.Vb(39,"mat-checkbox",14),m.dc("ngModelChange",function(t){return c.data.handWriting=t}),m.Ec(40),m.ic(41,"transloco"),m.Ub(),m.Vb(42,"mat-checkbox",15),m.dc("ngModelChange",function(t){return c.data.cleanDesk=t}),m.Ec(43),m.ic(44,"transloco"),m.Ub(),m.Vb(45,"mat-form-field",3),m.Vb(46,"mat-label"),m.Ec(47),m.ic(48,"transloco"),m.Ub(),m.Vb(49,"input",16),m.dc("ngModelChange",function(t){return c.data.houseKeepingCount=t}),m.Ub(),m.Ub(),m.Vb(50,"mat-form-field",3),m.Vb(51,"mat-label"),m.Ec(52),m.ic(53,"transloco"),m.Ub(),m.Vb(54,"input",17),m.dc("ngModelChange",function(t){return c.data.politeBehavior=t}),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(55,"div",18),m.Vb(56,"button",19),m.dc("click",function(){return c.onNoClick()}),m.Ec(57,"No Thanks"),m.Ub(),m.Vb(58,"button",20),m.Ec(59,"OK"),m.Ub(),m.Ub()),2&t){const t=m.uc(15);m.Eb(6),m.Fc(m.jc(7,25,"Award.TargetUser")),m.Eb(2),m.nc("ngModel",c.data.targetUser),m.Eb(4),m.nc("matDatepicker",t)("ngModel",c.data.recordDate),m.Eb(1),m.nc("for",t),m.Eb(5),m.Fc(m.jc(19,27,"Award.SchoolWorkTime")),m.Eb(2),m.nc("ngModel",c.data.schoolWorkTime),m.Eb(3),m.Fc(m.jc(24,29,"Award.GoToBedTime")),m.Eb(2),m.nc("ngModel",c.data.goToBedTime),m.Eb(3),m.Fc(m.jc(29,31,"Award.HomeworkCount")),m.Eb(2),m.nc("ngModel",c.data.homeWorkCount),m.Eb(3),m.Fc(m.jc(34,33,"Award.BodyExerciseCount")),m.Eb(2),m.nc("ngModel",c.data.bodyExerciseCount),m.Eb(1),m.nc("ngModel",c.data.errorsCollection),m.Eb(1),m.Fc(m.jc(38,35,"Award.ErrorsCollection")),m.Eb(2),m.nc("ngModel",c.data.handWriting),m.Eb(1),m.Fc(m.jc(41,37,"Award.HandWriting")),m.Eb(2),m.nc("ngModel",c.data.cleanDesk),m.Eb(1),m.Fc(m.jc(44,39,"Award.CleanDesk")),m.Eb(4),m.Fc(m.jc(48,41,"Award.HouseKeepingCount")),m.Eb(2),m.nc("ngModel",c.data.houseKeepingCount),m.Eb(3),m.Fc(m.jc(53,43,"Award.PoliteBehavior")),m.Eb(2),m.nc("ngModel",c.data.politeBehavior),m.Eb(4),m.nc("disabled",!c.data.isValid())("mat-dialog-close",c.data)}},directives:[r.h,r.e,e.u,e.n,e.o,V.c,V.g,C.b,e.c,e.m,e.p,w.d,w.f,V.i,w.c,e.q,it.a,r.c,g.b,r.d],pipes:[i.d],styles:[Po]}),t})();const Ho=[{path:"",component:Z},{path:"rules",component:Wn},{path:"dailytrace",component:xo}];let Bo=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({imports:[[d.d.forChild(Ho)],d.d]}),t})(),Io=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({imports:[[o.c,e.h,e.r,a.a,i.c,b.a,Bo]]}),t})()}}]);