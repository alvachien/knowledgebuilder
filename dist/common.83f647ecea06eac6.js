"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[592],{558:(p,d,t)=>{t.d(d,{D:()=>e});var c=t(4650);class e{}e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({})},9909:(p,d,t)=>{t.d(d,{J:()=>f});var c=t(4128),e=t(4650),o=t(5938),s=t(410),m=t(6895),_=t(4859),i=t(3238),n=t(6338),g=t(3162);const h=["file"];function E(u,l){1&u&&e._UZ(0,"mat-progress-bar",12)}function C(u,l){if(1&u&&(e.TgZ(0,"mat-list-item")(1,"h4",10),e._uU(2),e.qZA(),e.YNc(3,E,1,0,"mat-progress-bar",11),e.qZA()),2&u){const a=l.$implicit,r=e.oxw();e.xp6(2),e.Oqu(a.name),e.xp6(1),e.Q6J("ngIf",r.results)}}function O(u,l){1&u&&(e.TgZ(0,"button",13),e._uU(1,"Cancel"),e.qZA())}class f{constructor(l,a){this.dialogRef=l,this.uploadService=a,this.files=new Set,this.canBeClosed=!0,this.primaryButtonText="Upload",this.showCancelButton=!0,this.uploading=!1,this.uploadSuccessful=!1,this.uploadResults=[]}ngOnInit(){}onFilesAdded(){const l=this.file.nativeElement.files;for(const a in l)isNaN(parseInt(a))||this.files.add(l[a])}addFiles(){this.file.nativeElement.click()}closeDialog(){if(this.uploadSuccessful)return this.dialogRef.close(this.uploadResults);this.uploading=!0,this.results=this.uploadService.uploadFiles(this.files);for(const a in this.results)this.results[a].result.subscribe(r=>{this.uploadResults.push(r)});const l=[];for(let a in this.results)l.push(this.results[a].result);this.primaryButtonText="Finish",this.canBeClosed=!1,this.dialogRef.disableClose=!0,this.showCancelButton=!1,(0,c.D)(l).subscribe(a=>{this.canBeClosed=!0,this.dialogRef.disableClose=!1,this.uploadSuccessful=!0,this.uploading=!1})}}f.\u0275fac=function(l){return new(l||f)(e.Y36(o.so),e.Y36(s.CB))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-image-upload"]],viewQuery:function(l,a){if(1&l&&e.Gf(h,5),2&l){let r;e.iGM(r=e.CRH())&&(a.file=r.first)}},decls:15,vars:5,consts:[["type","file","multiple","",2,"display","none",3,"change"],["file",""],["fxLayout","column","fxLayoutAlign","space-evenly stretch",1,"container"],["mat-dialog-title",""],["mat-raised-button","","color","primary",1,"add-files-btn",3,"disabled","click"],["fxFlex",""],[4,"ngFor","ngForOf"],[1,"actions"],["mat-button","","mat-dialog-close","",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-line",""],["mode","determinate","value","100",4,"ngIf"],["mode","determinate","value","100"],["mat-button","","mat-dialog-close",""]],template:function(l,a){1&l&&(e.TgZ(0,"input",0,1),e.NdJ("change",function(){return a.onFilesAdded()}),e.qZA(),e.TgZ(2,"div",2)(3,"h1",3),e._uU(4,"Upload Files"),e.qZA(),e.TgZ(5,"div")(6,"button",4),e.NdJ("click",function(){return a.addFiles()}),e._uU(7," Add Files "),e.qZA()(),e.TgZ(8,"mat-dialog-content",5)(9,"mat-list"),e.YNc(10,C,4,2,"mat-list-item",6),e.qZA()(),e.TgZ(11,"mat-dialog-actions",7),e.YNc(12,O,2,0,"button",8),e.TgZ(13,"button",9),e.NdJ("click",function(){return a.closeDialog()}),e._uU(14),e.qZA()()()),2&l&&(e.xp6(6),e.Q6J("disabled",a.uploading||a.uploadSuccessful),e.xp6(4),e.Q6J("ngForOf",a.files),e.xp6(2),e.Q6J("ngIf",a.showCancelButton),e.xp6(1),e.Q6J("disabled",!a.canBeClosed),e.xp6(1),e.hij(" ",a.primaryButtonText," "))},dependencies:[m.sg,m.O5,_.lW,o.ZT,o.uh,o.xY,o.H8,i.X2,n.i$,n.Tg,g.pW],styles:[".add-files-btn[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]{height:100%;display:flex;flex:1;flex-direction:column}.actions[_ngcontent-%COMP%]{justify-content:flex-end}.container[_ngcontent-%COMP%]{height:100%}"]})},5146:(p,d,t)=>{t.d(d,{l:()=>i});var c=t(6895),e=t(4006),o=t(4501),s=t(5471),m=t(6127),_=t(4650);class i{}i.\u0275fac=function(g){return new(g||i)},i.\u0275mod=_.oAB({type:i}),i.\u0275inj=_.cJS({imports:[c.ez,e.u5,e.UX,m.U,o.nm,s.JP.forChild()]})},7467:(p,d,t)=>{t.d(d,{M:()=>s}),t(9835);var e=t(2701),o=t(4650);class s{transform(_,i){return _.filter(n=>{if(i)switch(i){case e._g.string:return n.value===e.Nu.Like||n.value===e.Nu.Equal;case e._g.boolean:return n.value===e.Nu.Equal;case e._g.number:case e._g.date:return!(n.value===e.Nu.Like||n.value===e.Nu.Between)}return!0})}}s.\u0275fac=function(_){return new(_||s)},s.\u0275pipe=o.Yjl({name:"operatorFilter",type:s,pure:!0})}}]);