(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{caho:function(e,t,i){"use strict";i.r(t),i.d(t,"PreviewModule",function(){return O});var n=i("ofXK"),s=i("3Pt+"),c=i("QPBi"),r=i("jIBr"),o=i("tyNb"),b=i("VHTt"),l=i("fXoL"),d=i("o0su"),a=i("bTqV"),v=i("f0Cb"),u=i("kmnG"),w=i("qFsG"),h=i("lR5k");function m(e,t){if(1&e&&(l.Tb(0,"div",3),l.Tb(1,"ul"),l.Tb(2,"li"),l.Tb(3,"mat-form-field"),l.Tb(4,"mat-label"),l.Ec(5,"ID"),l.Sb(),l.Ob(6,"input",4),l.Sb(),l.Sb(),l.Tb(7,"li"),l.Tb(8,"mat-form-field"),l.Tb(9,"mat-label"),l.Ec(10),l.gc(11,"transloco"),l.Sb(),l.Ob(12,"input",4),l.Sb(),l.Sb(),l.Tb(13,"li"),l.Ob(14,"markdown",5),l.Sb(),l.Sb(),l.Sb()),2&e){const e=l.fc();l.Cb(6),l.lc("ngModel",e.selectedKnowledge.ID),l.Cb(4),l.Fc(l.hc(11,5,"Title")),l.Cb(2),l.lc("ngModel",e.selectedKnowledge.Title),l.Cb(2),l.lc("data",e.selectedKnowledge.Content)("katexOptions",e.mathOptions)}}function p(e,t){if(1&e&&(l.Tb(0,"div",3),l.Tb(1,"ul"),l.Tb(2,"li"),l.Tb(3,"mat-form-field"),l.Tb(4,"mat-label"),l.Ec(5,"ID"),l.Sb(),l.Ob(6,"input",4),l.Sb(),l.Sb(),l.Tb(7,"li"),l.Tb(8,"mat-form-field"),l.Tb(9,"mat-label"),l.Ec(10),l.gc(11,"transloco"),l.Sb(),l.Ob(12,"input",4),l.Sb(),l.Sb(),l.Tb(13,"li"),l.Ob(14,"markdown",5),l.Sb(),l.Sb(),l.Sb()),2&e){const e=l.fc();l.Cb(6),l.lc("ngModel",e.selectedExercise.ID),l.Cb(4),l.Fc(l.hc(11,5,"Tag")),l.Cb(2),l.lc("ngModel",e.selectedExercise.Tags.toString()),l.Cb(2),l.lc("data",e.selectedExercise.Content)("katexOptions",e.mathOptions)}}const f=[{path:"",component:(()=>{class e{constructor(e){this.odataSvc=e,this.listPreviewObjects=[],this.mathOptions={displayMode:!0,throwOnError:!1,errorColor:"#cc0000"},this.previewIdx=-1}ngOnInit(){this.listPreviewObjects=this.odataSvc.previewObjList.slice(),this.odataSvc.previewObjList=[],this.listPreviewObjects.length>0&&(this.previewIdx=-1,this.onNextPreviewItem())}onPreviousPreviewItem(){this.previewIdx>0&&(this.previewIdx--,this.selectedObj=this.listPreviewObjects[this.previewIdx],this.fetchPreviewItem())}onNextPreviewItem(){this.previewIdx<this.listPreviewObjects.length&&(this.previewIdx++,this.selectedObj=this.listPreviewObjects[this.previewIdx],this.fetchPreviewItem())}get isNextPreviewButtonEnabled(){return this.previewIdx<this.listPreviewObjects.length-1}get isPreviousButtonEnabled(){return this.previewIdx>0}fetchPreviewItem(){var e,t;this.previewIdx>-1&&this.previewIdx<this.listPreviewObjects.length&&((null===(e=this.selectedObj)||void 0===e?void 0:e.refType)===b.q.KnowledgeItem?this.odataSvc.readKnowledgeItem(this.listPreviewObjects[this.previewIdx].refId).subscribe({next:e=>{this.selectedKnowledge=e},error:e=>{console.error(e)}}):(null===(t=this.selectedObj)||void 0===t?void 0:t.refType)===b.q.ExerciseItem&&this.odataSvc.readExerciseItem(this.listPreviewObjects[this.previewIdx].refId).subscribe({next:e=>{this.selectedExercise=e},error:e=>{console.error(e)}}))}}return e.\u0275fac=function(t){return new(t||e)(l.Nb(d.b))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-preview"]],decls:18,vars:18,consts:[[1,"button-row"],["mat-raised-button","",3,"disabled","click"],["style","margin: 8px;",4,"ngIf"],[2,"margin","8px"],["matInput","","disabled","",3,"ngModel"],["emoji","","katex","",3,"data","katexOptions"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Tb(1,"button",1),l.bc("click",function(){return t.onPreviousPreviewItem()}),l.Ec(2),l.gc(3,"transloco"),l.Sb(),l.Tb(4,"button",1),l.bc("click",function(){return t.onNextPreviewItem()}),l.Ec(5),l.gc(6,"transloco"),l.Sb(),l.Sb(),l.Ob(7,"mat-divider"),l.Dc(8,m,15,7,"div",2),l.Dc(9,p,15,7,"div",2),l.Ob(10,"mat-divider"),l.Tb(11,"div",0),l.Tb(12,"button",1),l.bc("click",function(){return t.onPreviousPreviewItem()}),l.Ec(13),l.gc(14,"transloco"),l.Sb(),l.Tb(15,"button",1),l.bc("click",function(){return t.onNextPreviewItem()}),l.Ec(16),l.gc(17,"transloco"),l.Sb(),l.Sb()),2&e&&(l.Cb(1),l.lc("disabled",!t.isPreviousButtonEnabled),l.Cb(1),l.Fc(l.hc(3,10,"Common.Previous")),l.Cb(2),l.lc("disabled",!t.isNextPreviewButtonEnabled),l.Cb(1),l.Fc(l.hc(6,12,"Common.Next")),l.Cb(3),l.lc("ngIf",t.selectedObj&&1===t.selectedObj.refType),l.Cb(1),l.lc("ngIf",t.selectedObj&&2===t.selectedObj.refType),l.Cb(3),l.lc("disabled",!t.isPreviousButtonEnabled),l.Cb(1),l.Fc(l.hc(14,14,"Common.Previous")),l.Cb(2),l.lc("disabled",!t.isNextPreviewButtonEnabled),l.Cb(1),l.Fc(l.hc(17,16,"Common.Next")))},directives:[a.b,v.a,n.m,u.c,u.g,w.b,s.c,s.m,s.p,h.a],pipes:[c.d],styles:["ul[_ngcontent-%COMP%]{width:100%;padding:16px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{margin:auto;width:80%}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[o.d.forChild(f)],o.d]}),e})(),O=(()=>{class e{}return e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({factory:function(t){return new(t||e)},imports:[[n.c,s.h,s.r,c.c,r.a,h.b,g]]}),e})()}}]);