!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Bbvb:function(e,a,i){"use strict";i.r(a),i.d(a,"TagModule",function(){return et});var c=i("ofXK"),o=i("3Pt+"),r=i("QPBi"),s=i("jIBr"),l=i("tyNb"),b=i("M9IT"),u=i("Dh3D"),f=i("VRyK"),p=i("LRne"),d=i("JX91"),m=i("eIep"),g=i("lJxs"),h=i("JIr8"),v=i("VHTt"),y=i("fXoL"),w=i("o0su"),C=i("Wp6s"),D=i("+0xr"),T=i("Xa2L"),E=i("bTqV");function R(t,e){1&t&&y.Qb(0,"mat-progress-spinner")}function x(t,e){1&t&&(y.Vb(0,"th",13),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Tag")))}function V(t,e){if(1&t&&(y.Vb(0,"td",14),y.Ec(1),y.Ub()),2&t){var n=e.$implicit;y.Eb(1),y.Gc(" ",n.TagTerm," ")}}function j(t,e){1&t&&(y.Vb(0,"th",13),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Type")))}function S(t,e){if(1&t&&(y.Vb(0,"td",14),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t){var n=e.$implicit,a=y.hc();y.Eb(1),y.Fc(y.jc(2,1,a.getTagReferenceTypeName(n.RefType)))}}function U(t,e){1&t&&(y.Vb(0,"th",13),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Count")))}function I(t,e){if(1&t){var n=y.Wb();y.Vb(0,"td",14),y.Vb(1,"a",15),y.dc("click",function(){y.wc(n);var t=e.$implicit;return y.hc().onCountClicked(t)}),y.Ec(2),y.Ub(),y.Ub()}if(2&t){var a=e.$implicit;y.Eb(2),y.Fc(a.Count)}}function k(t,e){1&t&&y.Qb(0,"tr",16)}function O(t,e){1&t&&y.Qb(0,"tr",17)}var P,L=((P=function(){function e(n,a){t(this,e),this.odataService=n,this.router=a,this.displayedColumns=["tag","reftype","count"],this.data=[],this.resultsLength=0,this.isLoadingResults=!1}return n(e,[{key:"getTagReferenceTypeName",value:function(t){return Object(v.E)(t)}},{key:"isExpertMode",get:function(){return this.odataService.expertMode}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(d.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTagCounts()}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(p.a)([])})).subscribe(function(e){return t.data=e})}},{key:"onCountClicked",value:function(t){this.router.navigate(t.RefType===v.y.KnowledgeItem?["/tag/displayki",t.TagTerm]:t.RefType===v.y.ExerciseItem?["/tag/displayei",t.TagTerm]:["/tag/display",t.TagTerm])}}]),e}()).\u0275fac=function(t){return new(t||P)(y.Pb(w.b),y.Pb(l.b))},P.\u0275cmp=y.Jb({type:P,selectors:[["app-tag"]],viewQuery:function(t,e){var n;1&t&&(y.Jc(b.a,1),y.Jc(u.a,1)),2&t&&(y.tc(n=y.ec())&&(e.paginator=n.first),y.tc(n=y.ec())&&(e.sort=n.first))},decls:23,vars:9,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-loading-shade"],[4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Vb(0,"mat-card"),y.Vb(1,"mat-card-header"),y.Vb(2,"mat-card-title"),y.Ec(3),y.ic(4,"transloco"),y.Ub(),y.Ub(),y.Vb(5,"mat-card-content"),y.Vb(6,"div",0),y.Vb(7,"div",1),y.Dc(8,R,1,0,"mat-progress-spinner",2),y.Ub(),y.Vb(9,"div",3),y.Vb(10,"table",4),y.Tb(11,5),y.Dc(12,x,3,3,"th",6),y.Dc(13,V,2,1,"td",7),y.Sb(),y.Tb(14,8),y.Dc(15,j,3,3,"th",6),y.Dc(16,S,3,3,"td",7),y.Sb(),y.Tb(17,9),y.Dc(18,U,3,3,"th",6),y.Dc(19,I,3,1,"td",7),y.Sb(),y.Dc(20,k,1,0,"tr",10),y.Dc(21,O,1,0,"tr",11),y.Ub(),y.Ub(),y.Qb(22,"mat-paginator",12),y.Ub(),y.Ub(),y.Ub()),2&t&&(y.Eb(3),y.Fc(y.jc(4,7,"Tags")),y.Eb(5),y.nc("ngIf",e.isLoadingResults),y.Eb(2),y.nc("dataSource",e.data),y.Eb(10),y.nc("matHeaderRowDef",e.displayedColumns),y.Eb(1),y.nc("matRowDefColumns",e.displayedColumns),y.Eb(1),y.nc("length",e.resultsLength)("pageSize",30))},directives:[C.a,C.d,C.g,C.c,c.m,D.j,u.a,D.c,D.e,D.b,D.g,D.i,b.a,T.a,D.d,D.a,E.a,D.f,D.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),P),M=i("/t3+"),Q=i("f0Cb");function F(t,e){1&t&&y.Qb(0,"mat-progress-spinner")}function J(t,e){if(1&t&&(y.Vb(0,"div",15),y.Dc(1,F,1,0,"mat-progress-spinner",16),y.Ub()),2&t){var n=y.hc();y.Eb(1),y.nc("ngIf",n.isLoadingResults)}}function _(t,e){1&t&&(y.Vb(0,"th",17),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Tag")))}function z(t,e){if(1&t&&(y.Vb(0,"td",18),y.Ec(1),y.Ub()),2&t){var n=e.$implicit;y.Eb(1),y.Fc(n.TagTerm)}}function H(t,e){1&t&&(y.Vb(0,"th",17),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Type")))}function $(t,e){if(1&t&&(y.Vb(0,"td",18),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t){var n=e.$implicit,a=y.hc();y.Eb(1),y.Fc(y.jc(2,1,a.getTagReferenceTypeName(n.RefType)))}}function N(t,e){1&t&&(y.Vb(0,"th",17),y.Ec(1,"Ref. ID"),y.Ub())}function A(t,e){if(1&t){var n=y.Wb();y.Vb(0,"td",18),y.Vb(1,"a",19),y.dc("click",function(){y.wc(n);var t=e.$implicit;return y.hc().onRefIDClicked(t)}),y.Ec(2),y.Ub(),y.Ub()}if(2&t){var a=e.$implicit;y.Eb(2),y.Fc(a.RefID)}}function K(t,e){1&t&&y.Qb(0,"tr",20)}function X(t,e){1&t&&y.Qb(0,"tr",21)}var B,G,W,q=((B=function(){function e(n,a,i){t(this,e),this.odataService=n,this.activateRoute=a,this.router=i,this.displayedColumns=["tag","reftype","refid"],this.dataSource=[],this.currenttag="",this.resultsLength=0,this.isLoadingResults=!0,this.refType=void 0,this.getTagReferenceTypeName=v.E}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.activateRoute.url.subscribe({next:function(e){e instanceof Array&&e.length>0&&("display"===e[0].path?(t.currenttag=e[1].path,t.refType=void 0):"displayki"===e[0].path?(t.currenttag=e[1].path,t.refType=v.y.KnowledgeItem):"displayei"===e[0].path&&(t.currenttag=e[1].path,t.refType=v.y.ExerciseItem))},error:function(t){console.error(t)}})}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(d.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTags(t.currenttag,t.refType)}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(p.a)([])})).subscribe(function(e){return t.dataSource=e})}},{key:"onRefIDClicked",value:function(t){t.RefType===v.y.ExerciseItem?this.router.navigate(["exercise-item/display",t.RefID]):t.RefType===v.y.KnowledgeItem&&this.router.navigate(["knowledge-item/display",t.RefID])}},{key:"onGoToPreview",value:function(){var t=[];this.dataSource.forEach(function(e){e.RefType&&e.RefID&&t.push({refType:e.RefType,refId:e.RefID})}),this.odataService.previewObjList=t,this.router.navigate(["preview"])}}]),e}()).\u0275fac=function(t){return new(t||B)(y.Pb(w.b),y.Pb(l.a),y.Pb(l.b))},B.\u0275cmp=y.Jb({type:B,selectors:[["app-tag-detail"]],viewQuery:function(t,e){var n;1&t&&(y.Jc(b.a,1),y.Jc(u.a,1)),2&t&&(y.tc(n=y.ec())&&(e.paginator=n.first),y.tc(n=y.ec())&&(e.sort=n.first))},decls:27,vars:13,consts:[[1,"toolbar-spacer"],[1,"example-button-row"],["mat-raised-button","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","refid"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Vb(0,"mat-toolbar-row"),y.Vb(1,"span"),y.Ec(2),y.ic(3,"transloco"),y.Ub(),y.Qb(4,"span",0),y.Vb(5,"section"),y.Vb(6,"div",1),y.Vb(7,"button",2),y.dc("click",function(){return e.onGoToPreview()}),y.Ec(8),y.ic(9,"transloco"),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Qb(10,"mat-divider"),y.Vb(11,"div",3),y.Dc(12,J,2,1,"div",4),y.Vb(13,"div",5),y.Vb(14,"table",6),y.Tb(15,7),y.Dc(16,_,3,3,"th",8),y.Dc(17,z,2,1,"td",9),y.Sb(),y.Tb(18,10),y.Dc(19,H,3,3,"th",8),y.Dc(20,$,3,3,"td",9),y.Sb(),y.Tb(21,11),y.Dc(22,N,2,0,"th",8),y.Dc(23,A,3,1,"td",9),y.Sb(),y.Dc(24,K,1,0,"tr",12),y.Dc(25,X,1,0,"tr",13),y.Ub(),y.Ub(),y.Qb(26,"mat-paginator",14),y.Ub()),2&t&&(y.Eb(2),y.Hc("",y.jc(3,9,"Tag"),": ",e.currenttag,""),y.Eb(6),y.Fc(y.jc(9,11,"Common.Preview")),y.Eb(4),y.nc("ngIf",e.isLoadingResults),y.Eb(2),y.nc("dataSource",e.dataSource),y.Eb(10),y.nc("matHeaderRowDef",e.displayedColumns),y.Eb(1),y.nc("matRowDefColumns",e.displayedColumns),y.Eb(1),y.nc("length",e.resultsLength)("pageSize",20))},directives:[M.c,E.b,Q.a,c.m,D.j,u.a,D.c,D.e,D.b,D.g,D.i,b.a,T.a,D.d,D.a,E.a,D.f,D.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-button-row[_ngcontent-%COMP%]{display:table-cell}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),B),Y=[{path:"",component:L},{path:"display/:content",component:q},{path:"displayki/:content",component:q},{path:"displayei/:content",component:q}],Z=((G=function e(){t(this,e)}).\u0275fac=function(t){return new(t||G)},G.\u0275mod=y.Nb({type:G}),G.\u0275inj=y.Mb({imports:[[l.d.forChild(Y)],l.d]}),G),tt=i("lR5k"),et=((W=function e(){t(this,e)}).\u0275fac=function(t){return new(t||W)},W.\u0275mod=y.Nb({type:W}),W.\u0275inj=y.Mb({imports:[[c.c,o.h,o.r,s.a,Z,tt.b.forChild(),r.c]]}),W)}}])}();