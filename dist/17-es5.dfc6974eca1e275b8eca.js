!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Bbvb:function(e,n,i){"use strict";i.r(n),i.d(n,"TagModule",function(){return tt});var c=i("ofXK"),o=i("3Pt+"),r=i("QPBi"),s=i("jIBr"),l=i("tyNb"),b=i("M9IT"),u=i("Dh3D"),f=i("VRyK"),p=i("LRne"),d=i("JX91"),m=i("eIep"),g=i("lJxs"),h=i("JIr8"),v=i("VHTt"),y=i("fXoL"),w=i("o0su"),R=i("Wp6s"),C=i("+0xr"),T=i("bTqV");function E(t,e){1&t&&(y.Wb(0,"th",11),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t&&(y.Eb(1),y.Gc(y.kc(2,1,"Tag")))}function x(t,e){if(1&t&&(y.Wb(0,"td",12),y.Fc(1),y.Vb()),2&t){var a=e.$implicit;y.Eb(1),y.Hc(" ",a.TagTerm," ")}}function k(t,e){1&t&&(y.Wb(0,"th",11),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t&&(y.Eb(1),y.Gc(y.kc(2,1,"Type")))}function V(t,e){if(1&t&&(y.Wb(0,"td",12),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t){var a=e.$implicit,n=y.ic();y.Eb(1),y.Gc(y.kc(2,1,n.getTagReferenceTypeName(a.RefType)))}}function D(t,e){1&t&&(y.Wb(0,"th",11),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t&&(y.Eb(1),y.Gc(y.kc(2,1,"Count")))}function j(t,e){if(1&t){var a=y.Xb();y.Wb(0,"td",12),y.Wb(1,"a",13),y.ec("click",function(){y.xc(a);var t=e.$implicit;return y.ic().onCountClicked(t)}),y.Fc(2),y.Vb(),y.Vb()}if(2&t){var n=e.$implicit;y.Eb(2),y.Gc(n.Count)}}function W(t,e){1&t&&y.Rb(0,"tr",14)}function I(t,e){1&t&&y.Rb(0,"tr",15)}var O,S=((O=function(){function e(a,n){t(this,e),this.odataService=a,this.router=n,this.displayedColumns=["tag","reftype","count"],this.data=[],this.resultsLength=0,this.isLoadingResults=!1}return a(e,[{key:"getTagReferenceTypeName",value:function(t){return Object(v.H)(t)}},{key:"isExpertMode",get:function(){return this.odataService.expertMode}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(d.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTagCounts()}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(p.a)([])})).subscribe(function(e){return t.data=e})}},{key:"onCountClicked",value:function(t){this.router.navigate(t.RefType===v.z.KnowledgeItem?["/tag/displayki",t.TagTerm]:t.RefType===v.z.ExerciseItem?["/tag/displayei",t.TagTerm]:["/tag/display",t.TagTerm])}}]),e}()).\u0275fac=function(t){return new(t||O)(y.Qb(w.b),y.Qb(l.b))},O.\u0275cmp=y.Kb({type:O,selectors:[["app-tag"]],viewQuery:function(t,e){var a;1&t&&(y.Kc(b.a,1),y.Kc(u.a,1)),2&t&&(y.uc(a=y.fc())&&(e.paginator=a.first),y.uc(a=y.fc())&&(e.sort=a.first))},decls:21,vars:8,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Wb(0,"mat-card"),y.Wb(1,"mat-card-header"),y.Wb(2,"mat-card-title"),y.Fc(3),y.jc(4,"transloco"),y.Vb(),y.Vb(),y.Wb(5,"mat-card-content"),y.Wb(6,"div",0),y.Wb(7,"div",1),y.Wb(8,"table",2),y.Ub(9,3),y.Ec(10,E,3,3,"th",4),y.Ec(11,x,2,1,"td",5),y.Tb(),y.Ub(12,6),y.Ec(13,k,3,3,"th",4),y.Ec(14,V,3,3,"td",5),y.Tb(),y.Ub(15,7),y.Ec(16,D,3,3,"th",4),y.Ec(17,j,3,1,"td",5),y.Tb(),y.Ec(18,W,1,0,"tr",8),y.Ec(19,I,1,0,"tr",9),y.Vb(),y.Vb(),y.Rb(20,"mat-paginator",10),y.Vb(),y.Vb(),y.Vb()),2&t&&(y.Eb(3),y.Gc(y.kc(4,6,"Tags")),y.Eb(5),y.oc("dataSource",e.data),y.Eb(10),y.oc("matHeaderRowDef",e.displayedColumns),y.Eb(1),y.oc("matRowDefColumns",e.displayedColumns),y.Eb(1),y.oc("length",e.resultsLength)("pageSize",30))},directives:[R.a,R.d,R.g,R.c,C.j,u.a,C.c,C.e,C.b,C.g,C.i,b.a,C.d,C.a,T.a,C.f,C.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),O),L=i("/t3+"),P=i("f0Cb"),F=i("Xa2L");function M(t,e){1&t&&y.Rb(0,"mat-progress-spinner")}function z(t,e){if(1&t&&(y.Wb(0,"div",15),y.Ec(1,M,1,0,"mat-progress-spinner",16),y.Vb()),2&t){var a=y.ic();y.Eb(1),y.oc("ngIf",a.isLoadingResults)}}function G(t,e){1&t&&(y.Wb(0,"th",17),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t&&(y.Eb(1),y.Gc(y.kc(2,1,"Tag")))}function K(t,e){if(1&t&&(y.Wb(0,"td",18),y.Fc(1),y.Vb()),2&t){var a=e.$implicit;y.Eb(1),y.Gc(a.TagTerm)}}function _(t,e){1&t&&(y.Wb(0,"th",17),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t&&(y.Eb(1),y.Gc(y.kc(2,1,"Type")))}function H(t,e){if(1&t&&(y.Wb(0,"td",18),y.Fc(1),y.jc(2,"transloco"),y.Vb()),2&t){var a=e.$implicit,n=y.ic();y.Eb(1),y.Gc(y.kc(2,1,n.getTagReferenceTypeName(a.RefType)))}}function Q(t,e){1&t&&(y.Wb(0,"th",17),y.Fc(1,"Ref. ID"),y.Vb())}function $(t,e){if(1&t){var a=y.Xb();y.Wb(0,"td",18),y.Wb(1,"a",19),y.ec("click",function(){y.xc(a);var t=e.$implicit;return y.ic().onRefIDClicked(t)}),y.Fc(2),y.Vb(),y.Vb()}if(2&t){var n=e.$implicit;y.Eb(2),y.Gc(n.RefID)}}function N(t,e){1&t&&y.Rb(0,"tr",20)}function U(t,e){1&t&&y.Rb(0,"tr",21)}var X,A,J,B=((X=function(){function e(a,n,i){t(this,e),this.odataService=a,this.activateRoute=n,this.router=i,this.displayedColumns=["tag","reftype","refid"],this.dataSource=[],this.currenttag="",this.resultsLength=0,this.isLoadingResults=!0,this.refType=void 0,this.getTagReferenceTypeName=v.H}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.activateRoute.url.subscribe({next:function(e){e instanceof Array&&e.length>0&&("display"===e[0].path?(t.currenttag=e[1].path,t.refType=void 0):"displayki"===e[0].path?(t.currenttag=e[1].path,t.refType=v.z.KnowledgeItem):"displayei"===e[0].path&&(t.currenttag=e[1].path,t.refType=v.z.ExerciseItem))},error:function(t){console.error(t)}})}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(d.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTags(t.currenttag,t.refType)}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(p.a)([])})).subscribe(function(e){return t.dataSource=e})}},{key:"onRefIDClicked",value:function(t){t.RefType===v.z.ExerciseItem?this.router.navigate(["exercise-item/display",t.RefID]):t.RefType===v.z.KnowledgeItem&&this.router.navigate(["knowledge-item/display",t.RefID])}},{key:"onGoToPreview",value:function(){var t=[];this.dataSource.forEach(function(e){e.RefType&&e.RefID&&t.push({refType:e.RefType,refId:e.RefID})}),this.odataService.previewObjList=t,this.router.navigate(["preview"])}}]),e}()).\u0275fac=function(t){return new(t||X)(y.Qb(w.b),y.Qb(l.a),y.Qb(l.b))},X.\u0275cmp=y.Kb({type:X,selectors:[["app-tag-detail"]],viewQuery:function(t,e){var a;1&t&&(y.Kc(b.a,1),y.Kc(u.a,1)),2&t&&(y.uc(a=y.fc())&&(e.paginator=a.first),y.uc(a=y.fc())&&(e.sort=a.first))},decls:27,vars:13,consts:[[1,"toolbar-spacer"],[1,"example-button-row"],["mat-raised-button","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","refid"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Wb(0,"mat-toolbar-row"),y.Wb(1,"span"),y.Fc(2),y.jc(3,"transloco"),y.Vb(),y.Rb(4,"span",0),y.Wb(5,"section"),y.Wb(6,"div",1),y.Wb(7,"button",2),y.ec("click",function(){return e.onGoToPreview()}),y.Fc(8),y.jc(9,"transloco"),y.Vb(),y.Vb(),y.Vb(),y.Vb(),y.Rb(10,"mat-divider"),y.Wb(11,"div",3),y.Ec(12,z,2,1,"div",4),y.Wb(13,"div",5),y.Wb(14,"table",6),y.Ub(15,7),y.Ec(16,G,3,3,"th",8),y.Ec(17,K,2,1,"td",9),y.Tb(),y.Ub(18,10),y.Ec(19,_,3,3,"th",8),y.Ec(20,H,3,3,"td",9),y.Tb(),y.Ub(21,11),y.Ec(22,Q,2,0,"th",8),y.Ec(23,$,3,1,"td",9),y.Tb(),y.Ec(24,N,1,0,"tr",12),y.Ec(25,U,1,0,"tr",13),y.Vb(),y.Vb(),y.Rb(26,"mat-paginator",14),y.Vb()),2&t&&(y.Eb(2),y.Ic("",y.kc(3,9,"Tag"),": ",e.currenttag,""),y.Eb(6),y.Gc(y.kc(9,11,"Common.Preview")),y.Eb(4),y.oc("ngIf",e.isLoadingResults),y.Eb(2),y.oc("dataSource",e.dataSource),y.Eb(10),y.oc("matHeaderRowDef",e.displayedColumns),y.Eb(1),y.oc("matRowDefColumns",e.displayedColumns),y.Eb(1),y.oc("length",e.resultsLength)("pageSize",20))},directives:[L.c,T.b,P.a,c.m,C.j,u.a,C.c,C.e,C.b,C.g,C.i,b.a,F.a,C.d,C.a,T.a,C.f,C.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-button-row[_ngcontent-%COMP%]{display:table-cell}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),X),q=[{path:"",component:S},{path:"display/:content",component:B},{path:"displayki/:content",component:B},{path:"displayei/:content",component:B}],Y=((A=function e(){t(this,e)}).\u0275fac=function(t){return new(t||A)},A.\u0275mod=y.Ob({type:A}),A.\u0275inj=y.Nb({imports:[[l.e.forChild(q)],l.e]}),A),Z=i("lR5k"),tt=((J=function e(){t(this,e)}).\u0275fac=function(t){return new(t||J)},J.\u0275mod=y.Ob({type:J}),J.\u0275inj=y.Nb({imports:[[c.c,o.h,o.r,s.a,Y,Z.b.forChild(),r.c]]}),J)}}])}();