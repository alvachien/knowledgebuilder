"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[315],{6315:(Tt,G,s)=>{s.r(G),s.d(G,{ExerciseItemsModule:()=>Ct});var u=s(6895),d=s(4006),P=s(4501),R=s(5471),C=s(1525),oe=s(2213),ie=s(5146),y=s(9132),e=s(4650),Z=s(8739),w=s(6308),k=s(6451),A=s(9646),q=s(8675),$=s(3900),H=s(8746),J=s(4004),L=s(262),m=s(2701),E=s(663),g=s(5938),T=s(4859),_=s(9549),b=s(4144),V=s(6338);const ne=["colls"];function ae(i,a){if(1&i&&(e.TgZ(0,"mat-list-option",9),e._uU(1),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.Q6J("disabled",o.isItemExistedInColl(t))("value",t.ID),e.xp6(1),e.hij(" ",t.Name," ")}}let re=(()=>{class i{constructor(t,o){this.dialogRef=t,this.data=o}ngAfterViewInit(){this.colls.selectionChange.subscribe({next:t=>{this.data.collids=[],this.colls.selectedOptions.selected.forEach(o=>{this.data.collids.push(+o.value)})},error:t=>{}})}onNoClick(){this.dialogRef.close()}isItemExistedInColl(t){return-1!==t.Items.findIndex(o=>o.RefID===this.data.excitemid&&o.RefType===m.ik.ExerciseItem)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.so),e.Y36(g.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-exercise-item-addcoll-dlg"]],viewQuery:function(t,o){if(1&t&&e.Gf(ne,5),2&t){let n;e.iGM(n=e.CRH())&&(o.colls=n.first)}},decls:21,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","excitemid",3,"ngModel","ngModelChange"],["colls",""],[3,"disabled","value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"disabled","mat-dialog-close"],[3,"disabled","value"]],template:function(t,o){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"transloco"),e.qZA(),e.TgZ(3,"div",1)(4,"div")(5,"mat-form-field",2)(6,"mat-label"),e._uU(7,"ID"),e.qZA(),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(c){return o.data.excitemid=c}),e.qZA()(),e.TgZ(9,"mat-label"),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e.TgZ(12,"mat-selection-list",null,4),e.YNc(14,ae,2,3,"mat-list-option",5),e.qZA()()(),e.TgZ(15,"div",6)(16,"button",7),e.NdJ("click",function(){return o.onNoClick()}),e._uU(17),e.ALo(18,"transloco"),e.qZA(),e.TgZ(19,"button",8),e._uU(20,"OK"),e.qZA()()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,7,"AddToCollection")),e.xp6(7),e.Q6J("ngModel",o.data.excitemid),e.xp6(2),e.Oqu(e.lcZ(11,9,"UserCollection")),e.xp6(4),e.Q6J("ngForOf",o.data.availableColls),e.xp6(3),e.Oqu(e.lcZ(18,11,"Common.NoThanks")),e.xp6(2),e.Q6J("disabled",o.data.collids.length<=0)("mat-dialog-close",o.data))},dependencies:[u.sg,d.Fj,d.JJ,d.On,T.lW,g.ZT,g.uh,g.xY,g.H8,_.KE,_.hX,b.Nt,V.Ub,V.vS,C.Ot],encapsulation:2}),i})(),le=(()=>{class i{constructor(t,o){this.dialogRef=t,this.data=o}onNoClick(){this.dialogRef.close()}get isOKDisabled(){return null==this.data.score||isNaN(+this.data.score)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.so),e.Y36(g.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-exercise-item-newscore-dlg"]],decls:24,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","excitemid",3,"ngModel","ngModelChange"],["matInput","","disabled","","name","date",3,"ngModel","ngModelChange"],["matInput","","type","number","name","score",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,o){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"transloco"),e.qZA(),e.TgZ(3,"div",1)(4,"form")(5,"mat-form-field",2)(6,"mat-label"),e._uU(7,"ID"),e.qZA(),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(c){return o.data.excitemid=c}),e.qZA()(),e.TgZ(9,"mat-form-field",2)(10,"mat-label"),e._uU(11,"Date"),e.qZA(),e.TgZ(12,"input",4),e.NdJ("ngModelChange",function(c){return o.data.pracDate=c}),e.qZA()(),e.TgZ(13,"mat-form-field",2)(14,"mat-label"),e._uU(15),e.ALo(16,"transloco"),e.qZA(),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(c){return o.data.score=c}),e.qZA()()()(),e.TgZ(18,"div",6)(19,"button",7),e.NdJ("click",function(){return o.onNoClick()}),e._uU(20),e.ALo(21,"transloco"),e.qZA(),e.TgZ(22,"button",8),e._uU(23,"OK"),e.qZA()()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,8,"NewPractice")),e.xp6(7),e.Q6J("ngModel",o.data.excitemid),e.xp6(4),e.Q6J("ngModel",o.data.pracDate),e.xp6(3),e.Oqu(e.lcZ(16,10,"Quiz.Score")),e.xp6(2),e.Q6J("ngModel",o.data.score),e.xp6(3),e.Oqu(e.lcZ(21,12,"Common.NoThanks")),e.xp6(2),e.Q6J("disabled",o.isOKDisabled)("mat-dialog-close",o.data))},dependencies:[d._Y,d.Fj,d.wV,d.JJ,d.JL,d.On,d.F,T.lW,g.ZT,g.uh,g.xY,g.H8,_.KE,_.hX,b.Nt,C.Ot],encapsulation:2}),i})();var x=s(2281),D=s(7392),p=s(3626),M=s(3683),K=s(266);function ce(i,a){1&i&&(e.TgZ(0,"th",20),e._uU(1,"#"),e.qZA())}function se(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",21)(1,"div"),e._uU(2),e.TgZ(3,"button",22),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onDisplayItem(c.ID))}),e.ALo(4,"transloco"),e.TgZ(5,"mat-icon"),e._uU(6,"launch"),e.qZA()(),e.TgZ(7,"button",23),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onChangeItem(c.ID))}),e.ALo(8,"transloco"),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA()(),e.TgZ(11,"button",23),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onAddToCollection(c.ID))}),e.ALo(12,"transloco"),e.TgZ(13,"mat-icon"),e._uU(14,"add_to_queue"),e.qZA()(),e.TgZ(15,"button",23),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onNewPractice(c.ID))}),e.ALo(16,"transloco"),e.TgZ(17,"mat-icon"),e._uU(18,"ballot"),e.qZA()(),e.TgZ(19,"button",24),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onDeleteItem(c.ID))}),e.ALo(20,"transloco"),e.TgZ(21,"mat-icon"),e._uU(22,"remove_circle"),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.ID," "),e.xp6(1),e.s9C("matTooltip",e.lcZ(4,6,"Common.Display")),e.xp6(4),e.s9C("matTooltip",e.lcZ(8,8,"Common.Change")),e.xp6(4),e.s9C("matTooltip",e.lcZ(12,10,"AddToCollection")),e.xp6(4),e.s9C("matTooltip",e.lcZ(16,12,"NewPractice")),e.xp6(4),e.s9C("matTooltip",e.lcZ(20,14,"Common.Delete"))}}function me(i,a){1&i&&(e.TgZ(0,"th",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Type")))}function de(i,a){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,o.getExerciseItemTypeName(t.ItemType)))}}function pe(i,a){1&i&&(e.TgZ(0,"th",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Tag")))}function ue(i,a){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.Tags.toString())}}function ge(i,a){1&i&&(e.TgZ(0,"th",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"KnowledgeItem")))}function he(i,a){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.KnowledgeItemID)}}function _e(i,a){1&i&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CreatedAt")))}function fe(i,a){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function xe(i,a){1&i&&e._UZ(0,"tr",26)}function Ce(i,a){1&i&&e._UZ(0,"tr",27)}let Te=(()=>{class i{constructor(t,o,n,c){this.odataService=t,this.dialog=o,this.uiUtilSrv=n,this.authService=c,this.displayedColumns=["id","itemtype","tags","knowledgeitem","createdat"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new e.vpe}getExerciseItemTypeName(t){return(0,E.of)(t)}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,k.T)(this.sort.sortChange,this.paginator.page,this.refreshEvent).pipe((0,q.O)({}),(0,$.w)(()=>{this.isLoadingResults=!0;const t=this.paginator.pageSize;return this.odataService.getExerciseItems(t,t*this.paginator.pageIndex,this.sort.active,this.sort.direction)}),(0,H.x)(()=>this.isLoadingResults=!1),(0,J.U)(t=>(this.resultsLength=t.totalCount,t.items)),(0,L.K)(()=>(0,A.of)([]))).subscribe({next:t=>this.dataSource=t,error:t=>this.uiUtilSrv.showSnackInfo(t)})}onGoToPreview(){const t=[];this.dataSource.forEach(o=>{t.push({refType:m.ik.ExerciseItem,refId:o.ID})}),this.uiUtilSrv.navigatePreviewPage(t)}onGoToSearch(){this.uiUtilSrv.navigateExerciseItemSearchPage()}onDeleteItem(t){this.odataService.deleteExerciseItem(t).subscribe({next:o=>{this.onRefreshList()},error:o=>{this.uiUtilSrv.showSnackInfo(o)}})}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}onDisplayItem(t){this.uiUtilSrv.navigateExerciseItemDisplayPage(t)}onChangeItem(t){this.uiUtilSrv.navigateExerciseItemChangePage(t)}onAddToCollection(t){this.odataService.getUserCollections().subscribe({next:o=>{const n=o.items;this.dialog.open(re,{width:"600px",closeOnNavigation:!1,data:{excitemid:t,availableColls:n,collids:[]}}).afterClosed().subscribe(r=>{const l=[];r.collids.forEach(U=>{const te=n.findIndex(I=>I.ID===+U);if(-1!==te){const I=new m.ly;I.ID=n[te].ID,I.RefID=t,I.RefType=m.ik.ExerciseItem,l.push(I)}}),l.length>0&&this.odataService.addExerciseItemToCollection(l).subscribe({next:U=>{this.uiUtilSrv.showSnackInfo("DONE")},error:U=>{this.uiUtilSrv.showSnackInfo(U)}})})},error:o=>{this.uiUtilSrv.showSnackInfo(o)}})}onNewPractice(t){this.dialog.open(le,{width:"600px",closeOnNavigation:!1,data:{excitemid:t,pracDate:(new Date).toDateString(),score:void 0}}).afterClosed().subscribe(n=>{const c=new E.oh;c.RefID=t,c.Score=n.score,c.TakenDate=new Date,c.User=this.authService.currentUserId,this.odataService.createExerciseItemUserScore(c).subscribe({next:r=>{this.uiUtilSrv.showSnackInfo("DONE")},error:r=>{this.uiUtilSrv.showSnackInfo(r)}})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.CB),e.Y36(g.uw),e.Y36(x.dM),e.Y36(x.e8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-exercise-items"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Z.NW,5),e.Gf(w.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(o.paginator=n.first),e.iGM(n=e.CRH())&&(o.sort=n.first)}},decls:48,vars:25,consts:[[1,"toolbar-spacer"],["mat-icon-button","","color","primary","routerLink","create",3,"matTooltip"],["mat-icon-button","","color","accent",2,"margin-left","12px",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent","routerLink","score",2,"margin-left","12px",3,"matTooltip"],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent",2,"margin-left","12px",3,"matTooltip","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemtype"],["matColumnDef","tags"],["matColumnDef","knowledgeitem"],["matColumnDef","createdat"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-icon-button","","color","accent",3,"matTooltip","click"],["mat-icon-button","","color","warn",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"mat-toolbar-row")(1,"span")(2,"h1"),e._uU(3),e.ALo(4,"transloco"),e.qZA()(),e._UZ(5,"span",0),e.TgZ(6,"section")(7,"button",1),e.ALo(8,"transloco"),e.TgZ(9,"mat-icon"),e._uU(10,"add_circle"),e.qZA()(),e.TgZ(11,"button",2),e.NdJ("click",function(){return o.onGoToSearch()}),e.ALo(12,"transloco"),e.TgZ(13,"mat-icon"),e._uU(14,"search"),e.qZA()(),e.TgZ(15,"button",3),e.ALo(16,"transloco"),e.TgZ(17,"mat-icon"),e._uU(18,"recent_actors"),e.qZA()(),e.TgZ(19,"button",4),e.NdJ("click",function(){return o.onGoToPreview()}),e.ALo(20,"transloco"),e.TgZ(21,"mat-icon"),e._uU(22,"slideshow"),e.qZA()(),e.TgZ(23,"button",5),e.NdJ("click",function(){return o.onRefreshList()}),e.ALo(24,"transloco"),e.TgZ(25,"mat-icon"),e._uU(26,"refresh"),e.qZA()()()(),e.TgZ(27,"div",6)(28,"div",7)(29,"table",8),e.NdJ("matSortChange",function(){return o.resetPaging()}),e.ynx(30,9),e.YNc(31,ce,2,0,"th",10),e.YNc(32,se,23,16,"td",11),e.BQk(),e.ynx(33,12),e.YNc(34,me,3,3,"th",10),e.YNc(35,de,3,3,"td",11),e.BQk(),e.ynx(36,13),e.YNc(37,pe,3,3,"th",10),e.YNc(38,ue,2,1,"td",11),e.BQk(),e.ynx(39,14),e.YNc(40,ge,3,3,"th",10),e.YNc(41,he,2,1,"td",11),e.BQk(),e.ynx(42,15),e.YNc(43,_e,3,3,"th",16),e.YNc(44,fe,3,4,"td",11),e.BQk(),e.YNc(45,xe,1,0,"tr",17),e.YNc(46,Ce,1,0,"tr",18),e.qZA()(),e._UZ(47,"mat-paginator",19),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,13,"ExerciseItem")),e.xp6(4),e.s9C("matTooltip",e.lcZ(8,15,"Common.Create")),e.xp6(4),e.s9C("matTooltip",e.lcZ(12,17,"Common.Search")),e.Q6J("disabled",o.dataSource.length<=0),e.xp6(4),e.s9C("matTooltip",e.lcZ(16,19,"PracticeHistories")),e.xp6(4),e.s9C("matTooltip",e.lcZ(20,21,"Common.Preview")),e.Q6J("disabled",o.dataSource.length<=0),e.xp6(4),e.s9C("matTooltip",e.lcZ(24,23,"Common.Refresh")),e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.resultsLength)("pageSize",20))},dependencies:[T.lW,D.Hw,Z.NW,w.YE,w.nU,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,M.rD,K.gM,y.rH,u.uU,C.Ot],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:300px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]}),i})();var Ze=s(4707),j=s(9521),f=s(3778),z=s(9909),F=s(3238),h=s(3546),O=s(7331),N=s(7084),Q=s(4385),S=s(1576);function ve(i,a){if(1&i&&(e.TgZ(0,"mat-option",21),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.i18nterm))}}function Ie(i,a){1&i&&(e.TgZ(0,"mat-icon",24),e._uU(1,"cancel"),e.qZA())}function we(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",22),e.NdJ("removed",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeTag(c))}),e._uU(1),e.YNc(2,Ie,2,0,"mat-icon",23),e.qZA()}if(2&i){const t=a.$implicit,o=e.oxw();e.Q6J("selectable",o.selectable)("removable",o.isEditable),e.xp6(1),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",o.isEditable)}}function Ae(i,a){if(1&i&&(e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6),e.ALo(7,"transloco"),e.TgZ(8,"mat-icon"),e._uU(9,"info"),e.qZA()()(),e.TgZ(10,"div",25)(11,"div",26)(12,"mat-form-field",3)(13,"mat-label"),e._uU(14),e.ALo(15,"transloco"),e.qZA(),e._UZ(16,"input",27),e.ALo(17,"transloco"),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",26)(20,"mat-form-field",3)(21,"mat-label"),e._uU(22),e.ALo(23,"transloco"),e.qZA(),e._UZ(24,"input",27),e.ALo(25,"transloco"),e.ALo(26,"date"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"Administrative")),e.xp6(3),e.Oqu(e.lcZ(7,10,"AdministrativeInfo")),e.xp6(8),e.Oqu(e.lcZ(15,12,"CreatedAt")),e.xp6(2),e.s9C("placeholder",e.lcZ(17,14,"CreatedAt")),e.Q6J("ngModel",e.xi3(18,16,t.itemObject.CreatedAt,"yyyy-M-d HH:mm:ss")),e.xp6(6),e.Oqu(e.lcZ(23,19,"ModifiedAt")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,21,"ModifiedAt")),e.Q6J("ngModel",e.xi3(26,23,t.itemObject.ModifiedAt,"yyyy-M-d HH:mm:ss"))}}function Ee(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-toolbar")(1,"h3"),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e._UZ(4,"div",17),e.TgZ(5,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openUploadDialog())}),e._uU(6,"Upload"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Content")))}function be(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"ngx-monaco-editor",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.content=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("options",t.editorOptions)("ngModel",t.content)}}function Me(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"ngx-monaco-editor",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw();return e.KtG(c.answerContent=n)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("options",t.editorOptions)("ngModel",t.answerContent)}}let Y=(()=>{class i{constructor(t,o,n,c){this.dialog=t,this.activateRoute=o,this.uiUtilSrv=n,this.odataService=c,this.routerID=-1,this.uiMode=f.sk.Create,this.currentMode="",this.editorOptions={theme:"vs-dark",wordWrap:"on",roundedSelection:!0},this.content="New Exercise Item",this.answerContent="",this.mathOptions={displayMode:!0,throwOnError:!1,errorColor:"#cc0000"},this.selectable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[j.K5,j.OC],this.tags=[],this.arExerciseTypes=[],this.arExerciseTypes=(0,E.BF)(),this.itemFormGroup=new d.nJ({idControl:new d.p4({value:null,disabled:!0}),typeControl:new d.p4({value:E.Ue.Question}),knowledgeControl:new d.p4,tagControl:new d.p4})}get isDisplayMode(){return this.uiMode===f.sk.Display}get isCreateMode(){return this.uiMode===f.sk.Create}get isUpdateMode(){return this.uiMode===f.sk.Update}get isEditable(){return this.uiMode===f.sk.Create||this.uiMode===f.sk.Update}ngOnInit(){this.destroyed$=new Ze.t(1),this.activateRoute.url.subscribe({next:t=>{t instanceof Array&&t.length>0&&("create"===t[0].path?(this.routerID=-1,this.uiMode=f.sk.Create,this.currentMode="Common.Create"):"edit"===t[0].path?(this.routerID=+t[1].path,this.uiMode=f.sk.Update,this.currentMode="Common.Change"):"display"===t[0].path&&(this.routerID=+t[1].path,this.uiMode=f.sk.Display,this.currentMode="Common.Display")),-1!==this.routerID&&this.odataService.readExerciseItem(this.routerID,this.uiMode===f.sk.Update).subscribe({next:o=>{this.onSetItemData(o),this.itemObject=o},error:o=>{console.error(o)}})},error:t=>{this.uiUtilSrv.showSnackInfo(t)}})}ngOnDestroy(){this.destroyed$&&(this.destroyed$.complete(),this.destroyed$=void 0)}onOK(){if(this.isCreateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.error(this.itemFormGroup.errors));this.itemObject=new E.ce,this.itemObject.ItemType=this.itemFormGroup.get("typeControl")?.value,this.itemObject.Content=this.content,this.itemObject.Tags=this.tags,this.itemObject.Answer=this.answerContent,this.odataService.createExerciseItem(this.itemObject).subscribe({next:t=>{this.uiUtilSrv.navigateExerciseItemDisplayPage(t.ID)},error:t=>{this.uiUtilSrv.showSnackInfo(t)}})}else if(this.isUpdateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.log(this.itemFormGroup.errors));this.itemObject&&(this.itemObject.ItemType=this.itemFormGroup.get("typeControl")?.value,this.itemObject.Content=this.content,this.itemObject.Tags=this.tags,this.itemObject.Answer=this.answerContent,this.odataService.changeExerciseItem(this.itemObject).subscribe({next:t=>{this.uiUtilSrv.navigateExerciseItemDisplayPage(t.ID)},error:t=>{this.uiUtilSrv.showSnackInfo(t)}}))}}openUploadDialog(){this.dialog.open(z.J,{width:"50%",height:"50%"}).afterClosed().subscribe({next:o=>{console.log(o),o.forEach(n=>{this.content+=`\n![Img](${n.url})\n          `})}})}openAnswerUploadDialog(){this.dialog.open(z.J,{width:"50%",height:"50%"}).afterClosed().subscribe({next:o=>{console.log(o),o.forEach(n=>{this.answerContent+=`\n  ![Img](${n.url})\n            `})}})}addTag(t){const o=t.input,n=t.value;(n||"").trim()&&this.tags.push(n.trim()),o&&(o.value="")}removeTag(t){const o=this.tags.indexOf(t);o>=0&&this.tags.splice(o,1)}onSetItemData(t){this.itemFormGroup.get("idControl")?.setValue(t.ID),this.itemFormGroup.get("idControl")?.disable(),this.itemFormGroup.get("typeControl")?.setValue(+t.ItemType),this.content=t.Content,t.Answer&&(this.answerContent=t.Answer),this.tags=t.Tags,this.isDisplayMode?this.itemFormGroup.disable():this.itemFormGroup.markAsPristine()}onReturnToList(){this.uiUtilSrv.navigateExerciseItemListPage()}onCreateNewOne(){this.uiUtilSrv.navigateExerciseItemCreatePage()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.uw),e.Y36(y.gz),e.Y36(x.dM),e.Y36(x.CB))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-exercise-item-detail"]],decls:72,vars:49,consts:[["multi","",1,"exerciseitem-headers-align"],["expanded",""],[1,"exerciseitem-form",3,"formGroup"],["appearance","fill",1,"control-full-width"],["matInput","","type","text","placeholder","ID","formControlName","idControl"],["required","","formControlName","typeControl"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagControl"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","New tag...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["matInput","","type","text","placeholder","Knowledge ID","formControlName","knowledgeControl"],[4,"ngIf"],["fxLayout","row",1,"control-full-width",2,"height","500px"],["fxFlex","50",4,"ngIf"],["fxFlex","",2,"height","100%","overflow-y","scroll"],["katex","",3,"data","katexOptions"],[1,"toolbar-spacer"],["mat-raised-button","",3,"click"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],[3,"value"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],["fxLayout","row",1,"control-full-width"],["fxFlex","50"],["matInput","","type","text","disabled","",3,"placeholder","ngModel"],[2,"height","100%",3,"options","ngModel","ngModelChange"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"transloco"),e.qZA()(),e.TgZ(8,"mat-card-content")(9,"mat-accordion",0)(10,"mat-expansion-panel",1)(11,"mat-expansion-panel-header")(12,"mat-panel-title"),e._uU(13),e.ALo(14,"transloco"),e.qZA(),e.TgZ(15,"mat-panel-description"),e._uU(16),e.ALo(17,"transloco"),e.TgZ(18,"mat-icon"),e._uU(19,"public"),e.qZA()()(),e.TgZ(20,"form",2)(21,"mat-form-field",3)(22,"mat-label"),e._uU(23,"#"),e.qZA(),e._UZ(24,"input",4),e.qZA(),e.TgZ(25,"mat-form-field",3)(26,"mat-label"),e._uU(27),e.ALo(28,"transloco"),e.qZA(),e.TgZ(29,"mat-select",5),e.YNc(30,ve,3,4,"mat-option",6),e.qZA()(),e.TgZ(31,"mat-form-field",3)(32,"mat-label"),e._uU(33),e.ALo(34,"transloco"),e.qZA(),e.TgZ(35,"mat-chip-list",7,8),e.YNc(37,we,3,4,"mat-chip",9),e.TgZ(38,"input",10),e.NdJ("matChipInputTokenEnd",function(c){return o.addTag(c)}),e.qZA()()(),e.TgZ(39,"mat-form-field",3)(40,"mat-label"),e._uU(41),e.ALo(42,"transloco"),e.qZA(),e._UZ(43,"input",11),e.qZA()()(),e.YNc(44,Ae,27,26,"mat-expansion-panel",12),e.qZA(),e.YNc(45,Ee,7,3,"mat-toolbar",12),e.TgZ(46,"div",13),e.YNc(47,be,2,2,"div",14),e.TgZ(48,"div",15),e._UZ(49,"markdown",16),e.qZA()(),e.TgZ(50,"mat-toolbar")(51,"h3"),e._uU(52),e.ALo(53,"transloco"),e.qZA(),e._UZ(54,"div",17),e.TgZ(55,"button",18),e.NdJ("click",function(){return o.openAnswerUploadDialog()}),e.TgZ(56,"mat-icon"),e._uU(57,"file_upload"),e.qZA()()(),e.TgZ(58,"div",13),e.YNc(59,Me,2,2,"div",14),e.TgZ(60,"div",15),e._UZ(61,"markdown",16),e.qZA()()(),e.TgZ(62,"mat-card-actions")(63,"button",19),e.NdJ("click",function(){return o.onOK()}),e._uU(64),e.ALo(65,"transloco"),e.qZA(),e.TgZ(66,"button",20),e.NdJ("click",function(){return o.onReturnToList()}),e._uU(67),e.ALo(68,"transloco"),e.qZA(),e.TgZ(69,"button",19),e.NdJ("click",function(){return o.onCreateNewOne()}),e._uU(70),e.ALo(71,"transloco"),e.qZA()()()),2&t){const n=e.MAs(36);e.xp6(3),e.Oqu(e.lcZ(4,27,"ExerciseItem")),e.xp6(3),e.Oqu(e.lcZ(7,29,o.currentMode)),e.xp6(7),e.Oqu(e.lcZ(14,31,"Header")),e.xp6(3),e.Oqu(e.lcZ(17,33,"HeaderInfo")),e.xp6(4),e.Q6J("formGroup",o.itemFormGroup),e.xp6(7),e.Oqu(e.lcZ(28,35,"Type")),e.xp6(3),e.Q6J("ngForOf",o.arExerciseTypes),e.xp6(3),e.Oqu(e.lcZ(34,37,"Tags")),e.xp6(4),e.Q6J("ngForOf",o.tags),e.xp6(1),e.Q6J("matChipInputFor",n)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes)("matChipInputAddOnBlur",o.addOnBlur),e.xp6(3),e.Oqu(e.lcZ(42,39,"KnowledgeItem")),e.xp6(3),e.Q6J("ngIf",!o.isCreateMode&&o.itemObject),e.xp6(1),e.Q6J("ngIf",o.isCreateMode),e.xp6(2),e.Q6J("ngIf",!o.isDisplayMode),e.xp6(2),e.Q6J("data",o.content)("katexOptions",o.mathOptions),e.xp6(3),e.Oqu(e.lcZ(53,41,"Answer")),e.xp6(7),e.Q6J("ngIf",!o.isDisplayMode),e.xp6(2),e.Q6J("data",o.answerContent)("katexOptions",o.mathOptions),e.xp6(2),e.Q6J("disabled",!(o.isEditable&&o.itemFormGroup.valid)),e.xp6(1),e.Oqu(e.lcZ(65,43,"Save")),e.xp6(3),e.Oqu(e.lcZ(68,45,"Common.ReturnToList")),e.xp6(2),e.Q6J("disabled",!o.isDisplayMode),e.xp6(1),e.Oqu(e.lcZ(71,47,"Common.CreateAnotherOne"))}},dependencies:[u.sg,u.O5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.On,d.sg,d.u,F.ey,T.lW,h.a8,h.dk,h.dn,h.n5,h.$j,h.hq,O.qn,O.HS,O.oH,O.qH,N.pp,N.ib,N.yz,N.yK,N.u4,D.Hw,_.KE,_.hX,b.Nt,Q.gD,M.Ye,S.xw,S.yH,P.T2,R.lF,u.uU,C.Ot],styles:[".exerciseitem-form[_ngcontent-%COMP%]{margin:8px;min-width:150px;max-width:500px;width:100%}.mat-card-actions[_ngcontent-%COMP%]{margin-top:10px}.exerciseitem-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.exerciseitem-headers-align[_ngcontent-%COMP%]{margin:8px}.exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]}),i})();var B=s(1135),W=s(6709),v=s(9602),Ne=s(4850),X=s(7467);function Se(i,a){if(1&i&&(e.TgZ(0,"mat-option",25),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.displayas)," ")}}function ye(i,a){if(1&i&&(e.TgZ(0,"mat-option",25),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.i18nterm)," ")}}function De(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[0])}}function Oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[1]=n)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[1])}}function Ue(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[0])}}function ke(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.ALo(2,"transloco"),e.qZA(),e._UZ(3,"mat-datepicker-toggle",30)(4,"mat-datepicker",null,31),e.qZA()}if(2&i){const t=e.MAs(5),o=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,4,"Value")),e.Q6J("ngModel",o.value[0])("matDatepicker",t),e.xp6(2),e.Q6J("for",t)}}function qe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[1]=n)}),e.ALo(2,"transloco"),e.qZA(),e._UZ(3,"mat-datepicker-toggle",30)(4,"mat-datepicker",null,32),e.qZA()}if(2&i){const t=e.MAs(5),o=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,4,"Value")),e.Q6J("ngModel",o.value[1])("matDatepicker",t),e.xp6(2),e.Q6J("for",t)}}function $e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-checkbox",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.value[0])}}function Je(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"mat-form-field")(2,"mat-select",18),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.fieldName=n)})("selectionChange",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onFieldSelectionChanged(c))}),e.ALo(3,"transloco"),e.YNc(4,Se,3,4,"mat-option",19),e.qZA()(),e.TgZ(5,"mat-form-field")(6,"mat-select",20),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.operator=n)}),e.ALo(7,"transloco"),e.YNc(8,ye,3,4,"mat-option",19),e.ALo(9,"operatorFilter"),e.qZA()(),e.YNc(10,De,3,4,"mat-form-field",21),e.YNc(11,Oe,3,4,"mat-form-field",21),e.YNc(12,Ue,3,4,"mat-form-field",21),e.YNc(13,ke,6,6,"mat-form-field",21),e.YNc(14,qe,6,6,"mat-form-field",21),e.YNc(15,$e,2,1,"div",22),e.TgZ(16,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddFilter())}),e.TgZ(17,"mat-icon"),e._uU(18,"add"),e.qZA()(),e.TgZ(19,"button",24),e.NdJ("click",function(){const c=e.CHM(t).index,r=e.oxw();return e.KtG(r.onRemoveFilter(c))}),e.TgZ(20,"mat-icon"),e._uU(21,"close"),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,12,"Field")),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.Q6J("ngForOf",o.allFields),e.xp6(2),e.s9C("placeholder",e.lcZ(7,14,"Operator")),e.Q6J("ngModel",t.operator),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,16,o.allOperators,t.valueType)),e.xp6(2),e.Q6J("ngIf",1===t.valueType),e.xp6(1),e.Q6J("ngIf",1===t.valueType),e.xp6(1),e.Q6J("ngIf",2===t.valueType),e.xp6(1),e.Q6J("ngIf",3===t.valueType),e.xp6(1),e.Q6J("ngIf",3===t.valueType),e.xp6(1),e.Q6J("ngIf",4===t.valueType)}}function Le(i,a){1&i&&(e.TgZ(0,"th",35),e._uU(1,"#"),e.qZA())}function Fe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",36)(1,"div"),e._uU(2),e.TgZ(3,"a",37),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onDisplayItem(c.ID))}),e._uU(4),e.ALo(5,"transloco"),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.ID," "),e.xp6(2),e.Oqu(e.lcZ(5,2,"Common.Display"))}}function Qe(i,a){1&i&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Type")))}function Ye(i,a){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,o.getExerciseItemTypeName(t.ItemType)))}}function Ge(i,a){1&i&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Tag")))}function Pe(i,a){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.Tags.toString())}}function Re(i,a){1&i&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"KnowledgeItem")))}function He(i,a){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t.KnowledgeItemID)}}function Ve(i,a){1&i&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CreatedAt")))}function Ke(i,a){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function je(i,a){1&i&&e._UZ(0,"tr",38)}function ze(i,a){1&i&&e._UZ(0,"tr",39)}let Be=(()=>{class i{constructor(t,o){this.odataService=t,this.uiUtilSrv=o,this.filters=[],this.allOperators=[],this.allFields=[],this.filterEditable=!0,this.pageSize=20,this.pageSizeOptions=[20,40,60,100],this.isLoadingResults=!1,this.resultsLength=0,this.subjFilters=new B.X([]),this.displayedColumns=["id","itemtype","tags","knowledgeitem","createdat"],this.dataSource=[],this.resultsLength=0,this.allOperators=m.c.getGeneralFilterOperatorDisplayStrings(),this.allFields=[{displayas:"Content",value:"Content",valueType:2},{displayas:"Tag",value:"Tags",valueType:2},{displayas:"Type",value:"ExerciseType",valueType:2}]}ngOnInit(){this.onAddFilter()}ngAfterViewInit(){this.subjFilters.subscribe(()=>this.paginator.pageIndex=0),(0,k.T)(this.subjFilters,this.paginator.page).pipe((0,q.O)({}),(0,$.w)(()=>{if(this.subjFilters.value.length<=0)return(0,A.of)([]);this.isLoadingResults=!0;const t=this.prepareFilters(this.subjFilters.value),o=this.paginator.pageSize;return this.odataService.searchExerciseItems(o,o*this.paginator.pageIndex,t)}),(0,H.x)(()=>this.isLoadingResults=!1),(0,J.U)(t=>(this.resultsLength=t.totalCount?t.totalCount:0,t.items)),(0,L.K)(()=>(0,A.of)(void 0))).subscribe({next:t=>{this.dataSource=t||[],0===this.dataSource.length&&this.uiUtilSrv.showSnackInfo("No record found")},error:t=>this.uiUtilSrv.showSnackInfo(t)})}getExerciseItemTypeName(t){return(0,m.of)(t)}onAddFilter(){this.filters.push(new m.T$)}onRemoveFilter(t){this.filters.splice(t,1),0===this.filters.length&&this.onAddFilter()}onFieldSelectionChanged(t){this.allFields.forEach(o=>{o.value===t.fieldName&&(t.valueType=o.valueType)})}prepareFilters(t){let o="";t.sort((c,r)=>c.fieldName.localeCompare(r.fieldName));let n=t.map(c=>c.fieldName);return n=Array.from(new Set(n)),n.forEach(c=>{let r="";t.forEach(l=>{l.fieldName===c&&("Content"===l.fieldName||"Tags"===l.fieldName)&&(l.operator===m.Nu.Equal?r=r?`${r} or ${l.fieldName} eq '${l.lowValue}'`:`${l.fieldName} eq '${l.lowValue}'`:l.operator===m.Nu.Like&&(r=r?`${r} or contains(${l.fieldName},'${l.lowValue}')`:`contains(${l.fieldName},'${l.lowValue}')`))}),o=o?`${o} and ${r}`:`${r}`}),o}onSearch(){const t=[];this.filters.forEach(o=>{const n={};switch(n.valueType=+o.valueType,o.valueType){case m._g.boolean:case m._g.date:case m._g.number:break;case m._g.string:n.fieldName=o.fieldName,n.operator=+o.operator,n.lowValue=o.value[0],n.highValue=o.operator===m.Nu.Between?o.value[1]:""}t.push(n)}),this.subjFilters.next(t)}onDisplayItem(t){this.uiUtilSrv.navigateExerciseItemDisplayPage(t)}onGoToPreview(){const t=[];this.dataSource.forEach(o=>{t.push({refType:m.ik.ExerciseItem,refId:o.ID})}),this.uiUtilSrv.navigatePreviewPage(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.CB),e.Y36(x.dM))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-exercise-item-search"]],viewQuery:function(t,o){if(1&t&&e.Gf(Z.NW,7),2&t){let n;e.iGM(n=e.CRH())&&(o.paginator=n.first)}},decls:44,vars:19,consts:[["class","control-full-width",4,"ngFor","ngForOf"],[1,"control-full-width"],["mat-button","","aria-label","Search",3,"click"],[1,"table-container","mat-elevation-z8"],["color","primary"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemtype"],["matColumnDef","tags"],["matColumnDef","knowledgeitem"],["matColumnDef","createdat"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"placeholder","ngModel","ngModelChange"],[4,"ngIf"],["class","typechkbox",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Add",3,"click"],["mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","number","name","lvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","number","name","hvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","text","name","lvalue_2",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"ngModel","matDatepicker","placeholder","ngModelChange"],["matSuffix","",3,"for"],["lvpicker",""],["hvpicker",""],[1,"typechkbox"],[3,"ngModel","ngModelChange"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"transloco"),e.qZA()(),e.TgZ(8,"mat-card-content")(9,"div"),e.YNc(10,Je,22,19,"div",0),e.TgZ(11,"div",1)(12,"button",2),e.NdJ("click",function(){return o.onSearch()}),e.TgZ(13,"mat-icon"),e._uU(14,"search"),e.qZA(),e._uU(15),e.ALo(16,"transloco"),e.qZA()()(),e._UZ(17,"mat-divider"),e.TgZ(18,"div",3)(19,"mat-toolbar",4)(20,"mat-toolbar-row")(21,"button",5),e.NdJ("click",function(){return o.onGoToPreview()}),e._uU(22),e.ALo(23,"transloco"),e.qZA()()(),e.TgZ(24,"div",6)(25,"table",7),e.ynx(26,8),e.YNc(27,Le,2,0,"th",9),e.YNc(28,Fe,6,4,"td",10),e.BQk(),e.ynx(29,11),e.YNc(30,Qe,3,3,"th",9),e.YNc(31,Ye,3,3,"td",10),e.BQk(),e.ynx(32,12),e.YNc(33,Ge,3,3,"th",9),e.YNc(34,Pe,2,1,"td",10),e.BQk(),e.ynx(35,13),e.YNc(36,Re,3,3,"th",9),e.YNc(37,He,2,1,"td",10),e.BQk(),e.ynx(38,14),e.YNc(39,Ve,3,3,"th",9),e.YNc(40,Ke,3,4,"td",10),e.BQk(),e.YNc(41,je,1,0,"tr",15),e.YNc(42,ze,1,0,"tr",16),e.qZA()(),e._UZ(43,"mat-paginator",17),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,11,"ExerciseItem")),e.xp6(3),e.Oqu(e.lcZ(7,13,"Common.Search")),e.xp6(4),e.Q6J("ngForOf",o.filters),e.xp6(5),e.hij(" ",e.lcZ(16,15,"Common.Search")," "),e.xp6(6),e.Q6J("disabled",o.resultsLength<=0),e.xp6(1),e.Oqu(e.lcZ(23,17,"Common.Preview")),e.xp6(3),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.resultsLength)("pageSize",10))},dependencies:[u.sg,u.O5,d.Fj,d.wV,d.JJ,d.On,F.ey,T.lW,T.zs,h.a8,h.dk,h.dn,h.n5,h.$j,W.oG,v.Mq,v.hl,v.nW,Ne.d,D.Hw,_.KE,_.R9,b.Nt,Z.NW,Q.gD,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,M.Ye,M.rD,u.uU,C.Ot,X.M],styles:[".table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;margin-top:16px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.data-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]}),i})();var We=s(5439),ee=s.n(We);function Xe(i,a){if(1&i&&(e.TgZ(0,"mat-option",32),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.displayas))}}function et(i,a){if(1&i&&(e.TgZ(0,"mat-option",32),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.i18nterm))}}function tt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-form-field")(2,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.ALo(3,"transloco"),e.qZA()(),e.TgZ(4,"mat-form-field")(5,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[1]=n)}),e.ALo(6,"transloco"),e.qZA()()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("placeholder",e.lcZ(3,4,"Value")),e.Q6J("ngModel",t.value[0]),e.xp6(3),e.s9C("placeholder",e.lcZ(6,6,"Value")),e.Q6J("ngModel",t.value[1])}}function ot(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-form-field")(2,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.ALo(3,"transloco"),e.qZA(),e._UZ(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",null,38),e.qZA(),e.TgZ(7,"mat-form-field")(8,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[1]=n)}),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"mat-datepicker-toggle",37)(11,"mat-datepicker",null,39),e.qZA()()}if(2&i){const t=e.MAs(6),o=e.MAs(12),n=e.oxw().$implicit;e.xp6(2),e.s9C("placeholder",e.lcZ(3,8,"Value")),e.Q6J("ngModel",n.value[0])("matDatepicker",t),e.xp6(2),e.Q6J("for",t),e.xp6(4),e.s9C("placeholder",e.lcZ(9,10,"Value")),e.Q6J("ngModel",n.value[1])("matDatepicker",o),e.xp6(2),e.Q6J("for",o)}}function it(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"mat-checkbox",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.value[0])}}function nt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",40)(1,"input",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const c=e.oxw().$implicit;return e.KtG(c.value[0]=n)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[0])}}function at(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"mat-form-field",21)(2,"mat-select",22),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.fieldName=n)})("selectionChange",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onFieldSelectionChanged(c))}),e.ALo(3,"transloco"),e.YNc(4,Xe,3,4,"mat-option",23),e.qZA()(),e.TgZ(5,"mat-form-field",24)(6,"mat-select",25),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.operator=n)}),e.ALo(7,"transloco"),e.YNc(8,et,3,4,"mat-option",23),e.ALo(9,"operatorFilter"),e.qZA()(),e.TgZ(10,"div",26),e.YNc(11,tt,7,8,"div",27),e.YNc(12,ot,13,12,"div",27),e.YNc(13,it,2,1,"div",28),e.YNc(14,nt,3,4,"div",29),e.qZA(),e.TgZ(15,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddFilter())}),e.TgZ(16,"mat-icon"),e._uU(17,"add"),e.qZA()(),e.TgZ(18,"button",31),e.NdJ("click",function(){const c=e.CHM(t).index,r=e.oxw();return e.KtG(r.onRemoveFilter(c))}),e.TgZ(19,"mat-icon"),e._uU(20,"close"),e.qZA()()()}if(2&i){const t=a.$implicit,o=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,10,"Field")),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.Q6J("ngForOf",o.allFields),e.xp6(2),e.s9C("placeholder",e.lcZ(7,12,"Operator")),e.Q6J("ngModel",t.operator),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,14,o.allOperators,t.valueType)),e.xp6(2),e.Q6J("ngSwitch",t.valueType),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",3),e.xp6(1),e.Q6J("ngSwitchCase",4)}}function rt(i,a){1&i&&(e.TgZ(0,"th",43),e._uU(1,"#"),e.qZA())}function lt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",44),e._uU(1),e.TgZ(2,"button",45),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onDeleteItem(c.ID))}),e.ALo(3,"transloco"),e.TgZ(4,"mat-icon"),e._uU(5,"remove_circle"),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.ID," "),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,2,"Common.Delete"))}}function ct(i,a){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ExerciseItem")))}function st(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",44),e._uU(1),e.TgZ(2,"button",46),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onDisplayExerciseItem(c.RefID))}),e.ALo(3,"transloco"),e.TgZ(4,"mat-icon"),e._uU(5,"launch"),e.qZA()(),e.TgZ(6,"button",7),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onChangeExerciseItem(c.RefID))}),e.ALo(7,"transloco"),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(1),e.hij(" ",t.RefID," "),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"Common.Display")),e.xp6(4),e.s9C("matTooltip",e.lcZ(7,5,"Common.Change"))}}function mt(i,a){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Quiz.Date")))}function dt(i,a){if(1&i&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.TakenDate,"yyyy-M-d"))}}function pt(i,a){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Quiz.Score")))}function ut(i,a){if(1&i&&(e.TgZ(0,"td",44)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(1),e.Tol(t.Score>=60?"success-score":"fail-score"),e.xp6(1),e.Oqu(t.Score)}}function gt(i,a){1&i&&e._UZ(0,"tr",47)}function ht(i,a){1&i&&e._UZ(0,"tr",48)}const _t=[{path:"",component:Te},{path:"create",component:Y},{path:"display/:id",component:Y},{path:"edit/:id",component:Y},{path:"search",component:Be},{path:"score",component:(()=>{class i{constructor(t,o){this.odataService=t,this.uiUtilSrv=o,this.filters=[],this.allOperators=[],this.allFields=[],this.filterEditable=!0,this.displayedColumns=["id","refid","takendate","score"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new e.vpe,this.subjFilters=new B.X([]),this.allOperators=m.c.getGeneralFilterOperatorDisplayStrings(),this.allFields=[{displayas:"Content",value:"Content",valueType:2},{displayas:"Quiz.Date",value:"TakenDate",valueType:3},{displayas:"Quiz.Score",value:"Score",valueType:1},{displayas:"ExerciseItem",value:"RefID",valueType:1}]}ngOnInit(){this.onAddFilter()}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,k.T)(this.sort.sortChange,this.paginator.page,this.refreshEvent,this.subjFilters).pipe((0,q.O)({}),(0,$.w)(()=>{if(this.subjFilters.value.length<=0)return(0,A.of)([]);this.isLoadingResults=!0;const t=this.prepareFilters(this.subjFilters.value),o=this.paginator.pageSize;return this.odataService.getExerciseItemUserScores(o,o*this.paginator.pageIndex,t)}),(0,J.U)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount?t.totalCount:0,t.items)),(0,L.K)(()=>(this.isLoadingResults=!1,(0,A.of)([])))).subscribe(t=>this.dataSource=t||[])}onAddFilter(){this.filters.push(new m.T$)}onRemoveFilter(t){this.filters.splice(t,1),0===this.filters.length&&this.onAddFilter()}onFieldSelectionChanged(t){this.allFields.forEach(o=>{o.value===t.fieldName&&(t.valueType=o.valueType)})}prepareFilters(t){let o="";t.sort((c,r)=>c.fieldName.localeCompare(r.fieldName));let n=t.map(c=>c.fieldName);return n=Array.from(new Set(n)),n.forEach(c=>{let r="";t.forEach(l=>{l.fieldName===c&&("Content"===l.fieldName?l.operator===m.Nu.Equal?r=r?`${r} or ${l.fieldName} eq '${l.lowValue}'`:`${l.fieldName} eq '${l.lowValue}'`:l.operator===m.Nu.Like&&(r=r?`${r} or contains(${l.fieldName},'${l.lowValue}')`:`contains(${l.fieldName},'${l.lowValue}')`):"Score"===l.fieldName||"RefID"===l.fieldName?l.operator===m.Nu.Equal?r=r?`${r} or ${l.fieldName} eq ${l.lowValue}`:`${l.fieldName} eq ${l.lowValue}`:l.operator===m.Nu.LargerEqual?r=r?`${r} or ${l.fieldName} ge ${l.lowValue}`:`${l.fieldName} ge ${l.lowValue}`:l.operator===m.Nu.LargerThan?r=r?`${r} or ${l.fieldName} gt ${l.lowValue}`:`${l.fieldName} gt ${l.lowValue}`:l.operator===m.Nu.LessEqual?r=r?`${r} or ${l.fieldName} le ${l.lowValue}`:`${l.fieldName} le ${l.lowValue}`:l.operator===m.Nu.LessThan?r=r?`${r} or ${l.fieldName} lt ${l.lowValue}`:`${l.fieldName} lt ${l.lowValue}`:l.operator===m.Nu.NotEqual&&(r=r?`${r} or ${l.fieldName} ne ${l.lowValue}`:`${l.fieldName} ne ${l.lowValue}`):"TakenDate"===l.fieldName&&(l.operator===m.Nu.Equal?r=r?`${r} or date(${l.fieldName}) eq ${l.lowValue}`:`date(${l.fieldName}) eq ${l.lowValue}`:l.operator===m.Nu.LargerEqual?r=r?`${r} or date(${l.fieldName}) ge ${l.lowValue}`:`date(${l.fieldName}) ge ${l.lowValue}`:l.operator===m.Nu.LargerThan?r=r?`${r} or date(${l.fieldName}) gt ${l.lowValue}`:`date(${l.fieldName}) gt ${l.lowValue}`:l.operator===m.Nu.LessEqual?r=r?`${r} or date(${l.fieldName}) le ${l.lowValue}`:`date(${l.fieldName}) le ${l.lowValue}`:l.operator===m.Nu.LessThan?r=r?`${r} or date(${l.fieldName}) lt ${l.lowValue}`:`date(${l.fieldName}) lt ${l.lowValue}`:l.operator===m.Nu.NotEqual&&(r=r?`${r} or date(${l.fieldName}) ne ${l.lowValue}`:`date(${l.fieldName}) ne ${l.lowValue}`)))}),o=o?`${o} and ${r}`:`${r}`}),o}onSearch(){const t=[];this.filters.forEach(o=>{const n={};switch(n.valueType=+o.valueType,o.valueType){case m._g.boolean:break;case m._g.date:n.fieldName=o.fieldName,n.operator=+o.operator,n.lowValue=ee()(o.value[0]).format("YYYY-MM-DD"),n.highValue=o.operator===m.Nu.Between?ee()(o.value[1]).format("YYYY-MM-DD"):"";break;case m._g.number:n.fieldName=o.fieldName,n.operator=+o.operator,n.lowValue=+o.value[0],n.highValue=o.operator===m.Nu.Between?+o.value[1]:"";break;case m._g.string:n.fieldName=o.fieldName,n.operator=+o.operator,n.lowValue=o.value[0],n.highValue=o.operator===m.Nu.Between?o.value[1]:""}t.push(n)}),this.subjFilters.next(t)}onGoToExerciseItems(){this.uiUtilSrv.navigateExerciseItemListPage()}onDisplayExerciseItem(t){this.uiUtilSrv.navigateExerciseItemDisplayPage(t)}onChangeExerciseItem(t){this.uiUtilSrv.navigateKnowledgeItemChangePage(t)}onDeleteItem(t){this.odataService.deleteExerciseItemUserScore(t).subscribe({next:o=>{this.uiUtilSrv.showSnackInfo("DONE"),this.onRefreshList()},error:o=>{this.uiUtilSrv.showSnackInfo(o)}})}onGoToPreview(){const t=[];this.dataSource.forEach(o=>{t.push({refType:m.ik.ExerciseItem,refId:o.RefID})}),this.uiUtilSrv.navigatePreviewPage(t)}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.CB),e.Y36(x.dM))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-exercise-item-score"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Z.NW,5),e.Gf(w.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(o.paginator=n.first),e.iGM(n=e.CRH())&&(o.sort=n.first)}},decls:47,vars:25,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"matTooltip","click"],[2,"margin","8px"],["fxLayout","row","fxLayoutGap","10px","class","control-full-width",4,"ngFor","ngForOf"],[1,"control-full-width"],["mat-button","","aria-label","Search","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent",3,"matTooltip","click"],[1,"exerciseitem-score-container","mat-elevation-z8"],[1,"table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","refid"],["matColumnDef","takendate"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["fxLayout","row","fxLayoutGap","10px",1,"control-full-width"],["fxFlex","30"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","15"],[3,"placeholder","ngModel","ngModelChange"],["fxFlex","50","fxLayout","row",3,"ngSwitch"],["fxLayout","row","fxLayoutGap","5px",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchDefault"],["mat-button","","mat-icon-button","","aria-label","Add",3,"click"],["mat-button","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["fxLayout","row","fxLayoutGap","5px"],["matInput","","type","number","name","lvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","number","name","hvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"ngModel","matDatepicker","placeholder","ngModelChange"],["matSuffix","",3,"for"],["lvpicker",""],["hvpicker",""],["fxLayout","row"],[3,"ngModel","ngModelChange"],["matInput","","type","text","name","lvalue_2",3,"placeholder","ngModel","ngModelChange"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"matTooltip","click"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"mat-toolbar-row")(1,"span")(2,"h1"),e._uU(3),e.ALo(4,"transloco"),e.qZA()(),e._UZ(5,"span",0),e.TgZ(6,"section")(7,"button",1),e.NdJ("click",function(){return o.onGoToExerciseItems()}),e.ALo(8,"transloco"),e._uU(9),e.ALo(10,"transloco"),e.qZA()()(),e.TgZ(11,"div",2),e.YNc(12,at,21,17,"div",3),e.TgZ(13,"div",4)(14,"button",5),e.NdJ("click",function(){return o.onSearch()}),e.TgZ(15,"mat-icon"),e._uU(16,"search"),e.qZA(),e._uU(17),e.ALo(18,"transloco"),e.qZA()()(),e.TgZ(19,"mat-toolbar-row")(20,"section")(21,"button",6),e.NdJ("click",function(){return o.onGoToPreview()}),e.ALo(22,"transloco"),e.TgZ(23,"mat-icon"),e._uU(24,"slideshow"),e.qZA()(),e.TgZ(25,"button",7),e.NdJ("click",function(){return o.onRefreshList()}),e.ALo(26,"transloco"),e.TgZ(27,"mat-icon"),e._uU(28,"refresh"),e.qZA()()()(),e.TgZ(29,"div",8)(30,"div",9)(31,"table",10),e.NdJ("matSortChange",function(){return o.resetPaging()}),e.ynx(32,11),e.YNc(33,rt,2,0,"th",12),e.YNc(34,lt,6,4,"td",13),e.BQk(),e.ynx(35,14),e.YNc(36,ct,3,3,"th",12),e.YNc(37,st,10,7,"td",13),e.BQk(),e.ynx(38,15),e.YNc(39,mt,3,3,"th",12),e.YNc(40,dt,3,4,"td",13),e.BQk(),e.ynx(41,16),e.YNc(42,pt,3,3,"th",12),e.YNc(43,ut,3,3,"td",13),e.BQk(),e.YNc(44,gt,1,0,"tr",17),e.YNc(45,ht,1,0,"tr",18),e.qZA()(),e._UZ(46,"mat-paginator",19),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,13,"PracticeHistories")),e.xp6(4),e.s9C("matTooltip",e.lcZ(8,15,"ExerciseItem")),e.xp6(2),e.Oqu(e.lcZ(10,17,"ExerciseItem")),e.xp6(3),e.Q6J("ngForOf",o.filters),e.xp6(5),e.hij(" ",e.lcZ(18,19,"Common.Search")," "),e.xp6(4),e.s9C("matTooltip",e.lcZ(22,21,"Common.Preview")),e.Q6J("disabled",o.dataSource.length<=0),e.xp6(4),e.s9C("matTooltip",e.lcZ(26,23,"Common.Refresh")),e.xp6(6),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.resultsLength)("pageSize",20))},dependencies:[u.sg,u.RF,u.n9,u.ED,d.Fj,d.wV,d.JJ,d.On,F.ey,T.lW,W.oG,v.Mq,v.hl,v.nW,D.Hw,_.KE,_.R9,b.Nt,Z.NW,Q.gD,w.YE,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,M.rD,K.gM,S.xw,S.SQ,S.yH,u.uU,C.Ot,X.M],styles:[".exerciseitem-score-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}.success-score[_ngcontent-%COMP%]{color:green;font-size:16px}.fail-score[_ngcontent-%COMP%]{color:red;font-size:16px}"]}),i})()}];let ft=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[y.Bz.forChild(_t),y.Bz]}),i})();var xt=s(558);let Ct=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,d.u5,d.UX,oe.U,ie.l,P.nm,R.JP.forChild(),ft,C.y4,xt.D]}),i})()}}]);