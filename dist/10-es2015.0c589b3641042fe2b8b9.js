(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"82/d":function(t,c,o){"use strict";o.r(c),o.d(c,"AwardModule",function(){return Ie});var e=o("ofXK"),n=o("3Pt+"),i=o("QPBi"),a=o("jIBr"),b=o("iasb"),r=o("tyNb"),l=o("0IaG"),d=o("wd/R"),s=o.n(d),u=o("VHTt"),m=o("fXoL"),f=o("o0su"),h=o("dNgK"),E=o("/t3+"),g=o("bTqV"),p=o("+0xr"),W=o("M9IT"),V=o("f0Cb"),C=o("kmnG"),F=o("qFsG"),k=o("iadO");function R(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function w(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function v(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Quiz.Date")))}function D(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.getRecordDateDisplayString())}}function y(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function T(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",16),m.Wb(1,"button",17),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onGetPoints(o.targetUser,o.recordDate)}),m.Fc(2),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit;m.Eb(2),m.Gc(t.point)}}function G(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.AggregatedPoints")))}function S(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.aggPoint)}}function U(t,c){1&t&&m.Rb(0,"tr",18)}function M(t,c){1&t&&m.Rb(0,"tr",19)}function j(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1,"#"),m.Vb())}function x(t,c){if(1&t){const t=m.Xb();m.Wb(0,"button",17),m.ec("click",function(){m.xc(t);const c=m.ic().$implicit;return m.ic(2).onDeletePoint(c.id)}),m.Fc(1),m.jc(2,"transloco"),m.Vb()}2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Common.Delete")))}function $(t,c){if(1&t&&(m.Wb(0,"td",16),m.Ec(1,x,3,3,"button",24),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.oc("ngIf",!t.matchedRuleID)}}function A(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function P(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function I(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Quiz.Date")))}function H(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.getRecordDateDisplayString())}}function O(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1,"Rule ID"),m.Vb())}function B(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.matchedRuleID)}}function L(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function K(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDay)}}function N(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function z(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function X(t,c){1&t&&(m.Wb(0,"th",15),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Common.Comment")))}function Q(t,c){if(1&t&&(m.Wb(0,"td",16),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.comment)}}function q(t,c){1&t&&m.Rb(0,"tr",18)}function _(t,c){1&t&&m.Rb(0,"tr",19)}function J(t,c){if(1&t){const t=m.Xb();m.Wb(0,"div"),m.Wb(1,"mat-toolbar"),m.Wb(2,"h3"),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Rb(5,"div",0),m.Wb(6,"button",17),m.ec("click",function(){return m.xc(t),m.ic().onHidePoints()}),m.Fc(7),m.jc(8,"transloco"),m.Vb(),m.Vb(),m.Wb(9,"div",2),m.Wb(10,"div",3),m.Wb(11,"table",4),m.Ub(12,20),m.Ec(13,j,2,0,"th",6),m.Ec(14,$,2,1,"td",7),m.Tb(),m.Ub(15,5),m.Ec(16,A,3,3,"th",6),m.Ec(17,P,2,1,"td",7),m.Tb(),m.Ub(18,8),m.Ec(19,I,3,3,"th",6),m.Ec(20,H,2,1,"td",7),m.Tb(),m.Ub(21,21),m.Ec(22,O,2,0,"th",6),m.Ec(23,B,2,1,"td",7),m.Tb(),m.Ub(24,22),m.Ec(25,L,3,3,"th",6),m.Ec(26,K,2,1,"td",7),m.Tb(),m.Ub(27,9),m.Ec(28,N,3,3,"th",6),m.Ec(29,z,2,1,"td",7),m.Tb(),m.Ub(30,23),m.Ec(31,X,3,3,"th",6),m.Ec(32,Q,2,1,"td",7),m.Tb(),m.Ec(33,q,1,0,"tr",11),m.Ec(34,_,1,0,"tr",12),m.Vb(),m.Vb(),m.Vb(),m.Vb()}if(2&t){const t=m.ic();m.Eb(3),m.Jc("",m.kc(4,7,"Award.Point"),", ",t.selectedUser,", ",t.selectedDate,""),m.Eb(4),m.Gc(m.kc(8,9,"Common.Hide")),m.Eb(4),m.oc("dataSource",t.dataSourcePoints),m.Eb(22),m.oc("matHeaderRowDef",t.displayedPointColumns),m.Eb(1),m.oc("matRowDefColumns",t.displayedPointColumns)}}const Y="table[_ngcontent-%COMP%]{width:100%}.example-form[_ngcontent-%COMP%]{min-width:250px;max-width:500px;width:100%}.example-margin[_ngcontent-%COMP%]{margin:0 10px}";let Z=(()=>{class t{constructor(t,c,o){this.oDataSrv=t,this.dialog=c,this.snackBar=o,this.dataSource=[],this.dataSourcePoints=[],this.recordCount=0,this.displayedColumns=["targetUser","recordDate","point","aggpoint"],this.displayedPointColumns=["action","targetUser","recordDate","matchedRuleID","countOfDay","point","comment"],this.selectedUser="",this.selectedDate="",this.isPointShow=!1}ngOnInit(){this.refreshList()}get isExpertMode(){return this.oDataSrv.expertMode}onCreateAward(){this.dialog.open(tt,{width:"600px",closeOnNavigation:!1,data:new u.c}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.oDataSrv.createAwardPoint(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}refreshList(){this.oDataSrv.getAwardPointReports(100,0).subscribe({next:t=>{this.dataSource=t.items.slice(),this.recordCount=t.totalCount},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onGetPoints(t,c){this.oDataSrv.getAwardPoints(100,0,void 0,`TargetUser eq '${t}' AND RecordDate eq ${c.format(u.I)}`).subscribe({next:o=>{this.selectedUser=t,this.selectedDate=c.format(u.I),this.dataSourcePoints=[],this.dataSourcePoints=o.items.slice(),this.isPointShow=!0},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onHidePoints(){this.selectedDate="",this.selectedUser="",this.dataSourcePoints=[],this.isPointShow=!1}onDeletePoint(t){this.oDataSrv.deleteAwardPoint(t).subscribe({next:t=>{this.onGetPoints(this.selectedUser,s()(this.selectedDate))},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(f.b),m.Qb(l.b),m.Qb(h.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-overview"]],decls:28,vars:13,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","targetUser"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","recordDate"],["matColumnDef","point"],["matColumnDef","aggpoint"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","",3,"click"],["mat-header-row",""],["mat-row",""],["matColumnDef","action"],["matColumnDef","matchedRuleID"],["matColumnDef","countOfDay"],["matColumnDef","comment"],["mat-raised-button","",3,"click",4,"ngIf"]],template:function(t,c){1&t&&(m.Wb(0,"mat-toolbar"),m.Wb(1,"h3"),m.Fc(2),m.jc(3,"transloco"),m.Vb(),m.Rb(4,"div",0),m.Wb(5,"button",1),m.ec("click",function(){return c.onCreateAward()}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb(),m.Wb(8,"div",2),m.Wb(9,"div",3),m.Wb(10,"table",4),m.Ub(11,5),m.Ec(12,R,3,3,"th",6),m.Ec(13,w,2,1,"td",7),m.Tb(),m.Ub(14,8),m.Ec(15,v,3,3,"th",6),m.Ec(16,D,2,1,"td",7),m.Tb(),m.Ub(17,9),m.Ec(18,y,3,3,"th",6),m.Ec(19,T,3,1,"td",7),m.Tb(),m.Ub(20,10),m.Ec(21,G,3,3,"th",6),m.Ec(22,S,2,1,"td",7),m.Tb(),m.Ec(23,U,1,0,"tr",11),m.Ec(24,M,1,0,"tr",12),m.Vb(),m.Vb(),m.Rb(25,"mat-paginator",13),m.Vb(),m.Rb(26,"mat-divider"),m.Ec(27,J,35,11,"div",14)),2&t&&(m.Eb(2),m.Gc(m.kc(3,9,"Award.Overview")),m.Eb(3),m.oc("disabled",!c.isExpertMode),m.Eb(1),m.Gc(m.kc(7,11,"Common.Create")),m.Eb(4),m.oc("dataSource",c.dataSource),m.Eb(13),m.oc("matHeaderRowDef",c.displayedColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedColumns),m.Eb(1),m.oc("length",c.recordCount)("pageSize",20),m.Eb(2),m.oc("ngIf",c.isPointShow))},directives:[E.a,g.b,p.j,p.c,p.e,p.b,p.g,p.i,W.a,V.a,e.m,p.d,p.a,p.f,p.h],pipes:[i.d],styles:[Y]}),t})(),tt=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(l.g),m.Qb(l.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-overview-award-point-crtdlg"]],decls:32,vars:20,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"example-form"],["appearance","fill",1,"control-full-width"],["matInput","","name","targetuser",3,"ngModel","ngModelChange"],["appearance","fill"],["matInput","","name","recorddate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","name","point",3,"ngModel","ngModelChange"],["matInput","","name","comment",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,c){if(1&t&&(m.Wb(0,"h1",0),m.Fc(1,"CREATE AWARD POINT"),m.Vb(),m.Wb(2,"div",1),m.Wb(3,"form",2),m.Wb(4,"mat-form-field",3),m.Wb(5,"mat-label"),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Wb(8,"input",4),m.ec("ngModelChange",function(t){return c.data.targetUser=t}),m.Vb(),m.Vb(),m.Wb(9,"mat-form-field",5),m.Wb(10,"mat-label"),m.Fc(11),m.jc(12,"transloco"),m.Vb(),m.Wb(13,"input",6),m.ec("ngModelChange",function(t){return c.data.recordDate=t}),m.Vb(),m.Rb(14,"mat-datepicker-toggle",7),m.Rb(15,"mat-datepicker",null,8),m.Vb(),m.Wb(17,"mat-form-field",3),m.Wb(18,"mat-label"),m.Fc(19),m.jc(20,"transloco"),m.Vb(),m.Wb(21,"input",9),m.ec("ngModelChange",function(t){return c.data.point=t}),m.Vb(),m.Vb(),m.Wb(22,"mat-form-field",3),m.Wb(23,"mat-label"),m.Fc(24),m.jc(25,"transloco"),m.Vb(),m.Wb(26,"input",10),m.ec("ngModelChange",function(t){return c.data.comment=t}),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(27,"div",11),m.Wb(28,"button",12),m.ec("click",function(){return c.onNoClick()}),m.Fc(29,"No Thanks"),m.Vb(),m.Wb(30,"button",13),m.Fc(31,"OK"),m.Vb(),m.Vb()),2&t){const t=m.vc(16);m.Eb(6),m.Gc(m.kc(7,12,"Award.TargetUser")),m.Eb(2),m.oc("ngModel",c.data.targetUser),m.Eb(3),m.Gc(m.kc(12,14,"Quiz.Date")),m.Eb(2),m.oc("matDatepicker",t)("ngModel",c.data.recordDate),m.Eb(1),m.oc("for",t),m.Eb(5),m.Gc(m.kc(20,16,"Award.Point")),m.Eb(2),m.oc("ngModel",c.data.point),m.Eb(3),m.Gc(m.kc(25,18,"Common.Comment")),m.Eb(2),m.oc("ngModel",c.data.comment),m.Eb(4),m.oc("disabled",!c.data.isValid())("mat-dialog-close",c.data)}},directives:[l.h,l.e,n.u,n.n,n.o,C.c,C.g,F.b,n.c,n.m,n.p,k.d,k.f,C.i,k.c,n.q,l.c,g.b,l.d],pipes:[i.d],styles:[Y]}),t})();var ct=o("tPNy"),ot=o("wZkO"),et=o("d3UM"),nt=o("FKr1"),it=o("bSwM");function at(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function bt(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function rt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function lt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function dt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function st(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function ut(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function mt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function ft(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TimeRange")))}function ht(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.timeRange)}}function Et(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function gt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function pt(t,c){1&t&&m.Rb(0,"tr",22)}function Wt(t,c){1&t&&m.Rb(0,"tr",23)}function Vt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function Ct(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function Ft(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function kt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function Rt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function wt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function vt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function Dt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function yt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TimeRange")))}function Tt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.timeRange)}}function Gt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function St(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function Ut(t,c){1&t&&m.Rb(0,"tr",22)}function Mt(t,c){1&t&&m.Rb(0,"tr",23)}function jt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function xt(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function $t(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function At(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function Pt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function It(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function Ht(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function Ot(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function Bt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.CountRange")))}function Lt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countRange)}}function Kt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function Nt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function zt(t,c){1&t&&m.Rb(0,"tr",22)}function Xt(t,c){1&t&&m.Rb(0,"tr",23)}function Qt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function qt(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function _t(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function Jt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function Yt(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function Zt(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function tc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function cc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function oc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.CountRange")))}function ec(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countRange)}}function nc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function ic(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function ac(t,c){1&t&&m.Rb(0,"tr",22)}function bc(t,c){1&t&&m.Rb(0,"tr",23)}function rc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function lc(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function dc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function sc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function uc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function mc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function fc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function hc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function Ec(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.CountRange")))}function gc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countRange)}}function pc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function Wc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function Vc(t,c){1&t&&m.Rb(0,"tr",22)}function Cc(t,c){1&t&&m.Rb(0,"tr",23)}function Fc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function kc(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function Rc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function wc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function vc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function Dc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function yc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function Tc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function Gc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Value")))}function Sc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.value)}}function Uc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function Mc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function jc(t,c){1&t&&m.Rb(0,"tr",22)}function xc(t,c){1&t&&m.Rb(0,"tr",23)}function $c(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function Ac(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function Pc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function Ic(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function Hc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function Oc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function Bc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function Lc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function Kc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Value")))}function Nc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.value)}}function zc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function Xc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function Qc(t,c){1&t&&m.Rb(0,"tr",22)}function qc(t,c){1&t&&m.Rb(0,"tr",23)}function _c(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function Jc(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function Yc(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function Zc(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function to(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function co(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function oo(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function eo(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function no(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Value")))}function io(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.value)}}function ao(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function bo(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function ro(t,c){1&t&&m.Rb(0,"tr",22)}function lo(t,c){1&t&&m.Rb(0,"tr",23)}function so(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1,"#"),m.Vb())}function uo(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",21),m.Fc(1),m.Wb(2,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onCopyRule(o.id)}),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Wb(5,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteRule(o.id)}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=c.$implicit,o=m.ic();m.Eb(1),m.Hc("",t.id," | "),m.Eb(1),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(4,5,"Common.Copy")),m.Eb(2),m.oc("disabled",!o.isExpertMode),m.Eb(1),m.Gc(m.kc(7,7,"Common.Delete"))}}function mo(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function fo(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function ho(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function Eo(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function go(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Validity")))}function po(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.validity)}}function Wo(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.CountRange")))}function Vo(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countRange)}}function Co(t,c){1&t&&(m.Wb(0,"th",20),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function Fo(t,c){if(1&t&&(m.Wb(0,"td",21),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDays)}}function ko(t,c){1&t&&m.Rb(0,"tr",22)}function Ro(t,c){1&t&&m.Rb(0,"tr",23)}function wo(t,c){if(1&t&&(m.Wb(0,"mat-option",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t){const t=c.$implicit;m.oc("value",t.value),m.Eb(1),m.Gc(m.kc(2,2,t.i18nterm))}}function vo(t,c){if(1&t){const t=m.Xb();m.Wb(0,"table",14),m.Wb(1,"tr"),m.Wb(2,"td"),m.Wb(3,"mat-form-field",15),m.Wb(4,"mat-label"),m.Fc(5),m.jc(6,"transloco"),m.Vb(),m.Wb(7,"input",24),m.ec("ngModelChange",function(c){return m.xc(t),m.ic().data.timeStart=c}),m.Vb(),m.Vb(),m.Vb(),m.Wb(8,"td"),m.Wb(9,"mat-form-field",15),m.Wb(10,"mat-label"),m.Fc(11),m.jc(12,"transloco"),m.Vb(),m.Wb(13,"input",25),m.ec("ngModelChange",function(c){return m.xc(t),m.ic().data.timeEnd=c}),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb()}if(2&t){const t=m.ic();m.Eb(5),m.Gc(m.kc(6,4,"Award.TimeStart")),m.Eb(2),m.oc("ngModel",t.data.timeStart),m.Eb(4),m.Gc(m.kc(12,6,"Award.TimeEnd")),m.Eb(2),m.oc("ngModel",t.data.timeEnd)}}function Do(t,c){if(1&t){const t=m.Xb();m.Wb(0,"table",14),m.Wb(1,"tr"),m.Wb(2,"td"),m.Wb(3,"mat-form-field",15),m.Wb(4,"mat-label"),m.Fc(5,"Count from"),m.Vb(),m.Wb(6,"input",26),m.ec("ngModelChange",function(c){return m.xc(t),m.ic().data.countOfFactLow=c}),m.Vb(),m.Vb(),m.Vb(),m.Wb(7,"td"),m.Wb(8,"mat-form-field",15),m.Wb(9,"mat-label"),m.Fc(10,"Count to"),m.Vb(),m.Wb(11,"input",27),m.ec("ngModelChange",function(c){return m.xc(t),m.ic().data.countOfFactHigh=c}),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb()}if(2&t){const t=m.ic();m.Eb(6),m.oc("ngModel",t.data.countOfFactLow),m.Eb(5),m.oc("ngModel",t.data.countOfFactHigh)}}function yo(t,c){if(1&t){const t=m.Xb();m.Wb(0,"mat-form-field",15),m.Wb(1,"mat-checkbox",28),m.ec("ngModelChange",function(c){return m.xc(t),m.ic().data.doneOfFact=c}),m.Fc(2,"Done criteria"),m.Vb(),m.Vb()}if(2&t){const t=m.ic();m.Eb(1),m.oc("ngModel",t.data.doneOfFact)}}function To(t,c){if(1&t&&(m.Wb(0,"span"),m.Fc(1),m.Vb()),2&t){const t=m.ic(2).$implicit;m.Eb(1),m.Hc(" ",t," ")}}function Go(t,c){if(1&t&&(m.Wb(0,"th",12),m.Ec(1,To,2,1,"span",13),m.Vb()),2&t){const t=m.ic().$implicit;m.Eb(1),m.oc("ngIf","edit"!==t)}}function So(t,c){if(1&t){const t=m.Xb();m.Wb(0,"div",18),m.Wb(1,"button",19),m.ec("click",function(){m.xc(t);const c=m.ic(2).$implicit;return c.isEdit=!c.isEdit}),m.Fc(2,"Edit"),m.Vb(),m.Vb()}}function Uo(t,c){if(1&t&&(m.Wb(0,"div"),m.Ec(1,So,3,0,"div",16),m.Wb(2,"span",null,17),m.Fc(4),m.Vb(),m.Vb()),2&t){const t=m.ic().$implicit,c=m.ic().$implicit;m.Eb(1),m.oc("ngIf","edit"===c),m.Eb(3),m.Hc(" ",t[c]," ")}}function Mo(t,c){if(1&t){const t=m.Xb();m.Wb(0,"div",18),m.Wb(1,"button",19),m.ec("click",function(){m.xc(t);const c=m.ic(2).$implicit;return c.isEdit=!c.isEdit}),m.Fc(2,"Done"),m.Vb(),m.Vb()}}function jo(t,c){if(1&t){const t=m.Xb();m.Wb(0,"mat-form-field",24),m.Wb(1,"mat-label"),m.Fc(2,"Choose a date"),m.Vb(),m.Wb(3,"input",25),m.ec("ngModelChange",function(c){return m.xc(t),m.ic(2).$implicit[m.ic().$implicit]=c}),m.Vb(),m.Rb(4,"mat-datepicker-toggle",26),m.Rb(5,"mat-datepicker",null,27),m.Vb()}if(2&t){const t=m.vc(6),c=m.ic(2).$implicit,o=m.ic().$implicit;m.Eb(3),m.oc("matDatepicker",t)("ngModel",c[o]),m.Eb(1),m.oc("for",t)}}function xo(t,c){if(1&t){const t=m.Xb();m.Wb(0,"mat-form-field"),m.Wb(1,"mat-label"),m.Fc(2),m.Vb(),m.Wb(3,"input",28),m.ec("ngModelChange",function(c){return m.xc(t),m.ic(2).$implicit[m.ic().$implicit]=c}),m.Vb(),m.Vb()}if(2&t){const t=m.ic(2).$implicit,c=m.ic().$implicit,o=m.ic();m.Eb(2),m.Gc(c),m.Eb(1),m.oc("type",o.dataSchema[c])("ngModel",t[c])}}function $o(t,c){if(1&t&&(m.Wb(0,"div",20),m.Ec(1,Mo,3,0,"div",21),m.Ec(2,jo,7,3,"mat-form-field",22),m.Ec(3,xo,4,3,"mat-form-field",23),m.Vb()),2&t){const t=m.ic(2).$implicit,c=m.ic();m.oc("ngSwitch",c.dataSchema[t]),m.Eb(1),m.oc("ngSwitchCase","edit"),m.Eb(1),m.oc("ngSwitchCase","date")}}function Ao(t,c){if(1&t&&(m.Wb(0,"td",14),m.Ec(1,Uo,5,2,"div",13),m.Ec(2,$o,4,3,"div",15),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.oc("ngIf",!t.isEdit),m.Eb(1),m.oc("ngIf",t.isEdit)}}function Po(t,c){1&t&&(m.Ub(0,9),m.Ec(1,Go,2,1,"th",10),m.Ec(2,Ao,3,2,"td",11),m.Tb()),2&t&&m.oc("matColumnDef",c.$implicit)}function Io(t,c){1&t&&m.Rb(0,"tr",29)}function Ho(t,c){1&t&&m.Rb(0,"tr",30)}let Oo=(()=>{class t{constructor(t,c,o){this.odataSrv=t,this.dialog=c,this.snackBar=o,this.dataSourceGoToBedRule=[],this.displayedTimeRuleColumns=["id","targetUser","point","validity","timeRange","countOfDays"],this.goToBedRulesLength=0,this.dataSourceSchoolWorkRule=[],this.schoolWorkRulesLength=0,this.displayedCountRuleColumns=["id","targetUser","point","validity","countRange","countOfDays"],this.dataSourceHomeworkRule=[],this.homeWorkRulesLength=0,this.dataSourceBodyExerciseRule=[],this.bodyExerciseRuleLength=0,this.dataSourceHouseKeepingRule=[],this.houseKeepingRuleLength=0,this.displayedBitRuleColumns=["id","targetUser","point","validity","value","countOfDays"],this.dataSourceErrorCollectionRule=[],this.errorCollectionRuleLength=0,this.dataSourceHandwritingRule=[],this.handwritingRuleLength=0,this.dataSourceCleanDeskRule=[],this.cleanDeskRuleLength=0,this.dataSourcePoliteBehaviorRule=[],this.politeBehaviorRuleLength=0,this.originRules=[]}ngOnInit(){this.refreshList()}get isExpertMode(){return this.odataSrv.expertMode}onCreateRule(){this.dialog.open(Bo,{width:"600px",closeOnNavigation:!1,data:new ct.c}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.odataSrv.createAwardRule(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}onCreateRuleEx(){this.dialog.open(Lo,{width:"600px",closeOnNavigation:!1,data:[]}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t)})}refreshList(){this.odataSrv.getAwardRules(100,0,void 0).subscribe({next:t=>{this.originRules=t.items.slice(),this.dataSourceGoToBedRule=[],this.dataSourceSchoolWorkRule=[],this.dataSourceBodyExerciseRule=[],this.dataSourceCleanDeskRule=[],this.dataSourceErrorCollectionRule=[],this.dataSourceHandwritingRule=[],this.dataSourceHomeworkRule=[],this.dataSourceHouseKeepingRule=[],this.dataSourcePoliteBehaviorRule=[],this.originRules.forEach(t=>{var c,o,e,n,i,a,b,r,l,d,s,m,f,h,E,g,p,W,V,C,F,k,R,w,v,D,y,T,G,S;if(t.ruleType===ct.d.GoToBedTime){const i={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),timeRange:(null===(c=t.timeStart)||void 0===c?void 0:c.toString())+" - "+(null===(o=t.timeEnd)||void 0===o?void 0:o.toString()),countOfDays:(null===(e=t.daysFrom)||void 0===e?void 0:e.toString())+" - "+(null===(n=t.daysTo)||void 0===n?void 0:n.toString())};this.dataSourceGoToBedRule.push(i)}else if(t.ruleType===ct.d.SchoolWorkTime){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),timeRange:(null===(i=t.timeStart)||void 0===i?void 0:i.toString())+" - "+(null===(a=t.timeEnd)||void 0===a?void 0:a.toString()),countOfDays:(null===(b=t.daysFrom)||void 0===b?void 0:b.toString())+" - "+(null===(r=t.daysTo)||void 0===r?void 0:r.toString())};this.dataSourceSchoolWorkRule.push(c)}else if(t.ruleType===ct.d.HomeWorkCount){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),countRange:(null===(l=t.countOfFactLow)||void 0===l?void 0:l.toString())+" - "+(null===(d=t.countOfFactHigh)||void 0===d?void 0:d.toString()),countOfDays:(null===(s=t.daysFrom)||void 0===s?void 0:s.toString())+" - "+(null===(m=t.daysTo)||void 0===m?void 0:m.toString())};this.dataSourceHomeworkRule.push(c)}else if(t.ruleType===ct.d.BodyExerciseCount){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),countRange:(null===(f=t.countOfFactLow)||void 0===f?void 0:f.toString())+" - "+(null===(h=t.countOfFactHigh)||void 0===h?void 0:h.toString()),countOfDays:(null===(E=t.daysFrom)||void 0===E?void 0:E.toString())+" - "+(null===(g=t.daysTo)||void 0===g?void 0:g.toString())};this.dataSourceBodyExerciseRule.push(c)}else if(t.ruleType===ct.d.HouseKeepingCount){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),countRange:(null===(p=t.countOfFactLow)||void 0===p?void 0:p.toString())+" - "+(null===(W=t.countOfFactHigh)||void 0===W?void 0:W.toString()),countOfDays:(null===(V=t.daysFrom)||void 0===V?void 0:V.toString())+" - "+(null===(C=t.daysTo)||void 0===C?void 0:C.toString())};this.dataSourceHouseKeepingRule.push(c)}else if(t.ruleType===ct.d.PoliteBehavior){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),countRange:(null===(F=t.countOfFactLow)||void 0===F?void 0:F.toString())+" - "+(null===(k=t.countOfFactHigh)||void 0===k?void 0:k.toString()),countOfDays:(null===(R=t.daysFrom)||void 0===R?void 0:R.toString())+" - "+(null===(w=t.daysTo)||void 0===w?void 0:w.toString())};this.dataSourcePoliteBehaviorRule.push(c)}else if(t.ruleType===ct.d.ErrorCollectionHabit){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),value:t.doneOfFact?t.doneOfFact.toString():"",countOfDays:(null===(v=t.daysFrom)||void 0===v?void 0:v.toString())+" - "+(null===(D=t.daysTo)||void 0===D?void 0:D.toString())};this.dataSourceErrorCollectionRule.push(c)}else if(t.ruleType===ct.d.HandWritingHabit){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),value:t.doneOfFact?t.doneOfFact.toString():"",countOfDays:(null===(y=t.daysFrom)||void 0===y?void 0:y.toString())+" - "+(null===(T=t.daysTo)||void 0===T?void 0:T.toString())};this.dataSourceHandwritingRule.push(c)}else if(t.ruleType===ct.d.CleanDeakHabit){const c={id:t.id,targetUser:t.targetUser,point:t.point,validity:t.validFrom.format(u.I)+" - "+t.validTo.format(u.I),value:t.doneOfFact?t.doneOfFact.toString():"",countOfDays:(null===(G=t.daysFrom)||void 0===G?void 0:G.toString())+" - "+(null===(S=t.daysTo)||void 0===S?void 0:S.toString())};this.dataSourceCleanDeskRule.push(c)}this.goToBedRulesLength=this.dataSourceGoToBedRule.length,this.schoolWorkRulesLength=this.dataSourceSchoolWorkRule.length,this.homeWorkRulesLength=this.dataSourceHomeworkRule.length,this.bodyExerciseRuleLength=this.dataSourceBodyExerciseRule.length,this.houseKeepingRuleLength=this.dataSourceHouseKeepingRule.length,this.errorCollectionRuleLength=this.dataSourceErrorCollectionRule.length,this.handwritingRuleLength=this.dataSourceHandwritingRule.length,this.cleanDeskRuleLength=this.dataSourceCleanDeskRule.length,this.politeBehaviorRuleLength=this.dataSourcePoliteBehaviorRule.length})},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onCopyRule(t){const c=this.originRules.find(c=>c.id===t);if(void 0!==c){const t=new ct.c;t.copyFrom(c),this.dialog.open(Bo,{width:"600px",closeOnNavigation:!1,data:t}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.odataSrv.createAwardRule(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}}onDeleteRule(t){this.odataSrv.deleteAwardRule(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(f.b),m.Qb(l.b),m.Qb(h.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-award-rule"]],decls:245,vars:80,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","click"],["animationDuration","200ms"],[3,"label"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetUser"],["matColumnDef","point"],["matColumnDef","validity"],["matColumnDef","timeRange"],["matColumnDef","countOfDays"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["matColumnDef","countRange"],["matColumnDef","value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(m.Wb(0,"mat-toolbar"),m.Wb(1,"h3"),m.Fc(2),m.jc(3,"transloco"),m.Vb(),m.Rb(4,"div",0),m.Wb(5,"button",1),m.ec("click",function(){return c.onCreateRule()}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Wb(8,"button",1),m.ec("click",function(){return c.onCreateRuleEx()}),m.Fc(9,"Create Ex"),m.Vb(),m.Vb(),m.Wb(10,"mat-tab-group",2),m.Wb(11,"mat-tab",3),m.jc(12,"transloco"),m.Wb(13,"div",4),m.Wb(14,"div",5),m.Wb(15,"table",6),m.Ub(16,7),m.Ec(17,at,2,0,"th",8),m.Ec(18,bt,8,9,"td",9),m.Tb(),m.Ub(19,10),m.Ec(20,rt,3,3,"th",8),m.Ec(21,lt,2,1,"td",9),m.Tb(),m.Ub(22,11),m.Ec(23,dt,3,3,"th",8),m.Ec(24,st,2,1,"td",9),m.Tb(),m.Ub(25,12),m.Ec(26,ut,3,3,"th",8),m.Ec(27,mt,2,1,"td",9),m.Tb(),m.Ub(28,13),m.Ec(29,ft,3,3,"th",8),m.Ec(30,ht,2,1,"td",9),m.Tb(),m.Ub(31,14),m.Ec(32,Et,3,3,"th",8),m.Ec(33,gt,2,1,"td",9),m.Tb(),m.Ec(34,pt,1,0,"tr",15),m.Ec(35,Wt,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(36,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(37,"mat-tab",3),m.jc(38,"transloco"),m.Wb(39,"div",4),m.Wb(40,"div",5),m.Wb(41,"table",6),m.Ub(42,7),m.Ec(43,Vt,2,0,"th",8),m.Ec(44,Ct,8,9,"td",9),m.Tb(),m.Ub(45,10),m.Ec(46,Ft,3,3,"th",8),m.Ec(47,kt,2,1,"td",9),m.Tb(),m.Ub(48,11),m.Ec(49,Rt,3,3,"th",8),m.Ec(50,wt,2,1,"td",9),m.Tb(),m.Ub(51,12),m.Ec(52,vt,3,3,"th",8),m.Ec(53,Dt,2,1,"td",9),m.Tb(),m.Ub(54,13),m.Ec(55,yt,3,3,"th",8),m.Ec(56,Tt,2,1,"td",9),m.Tb(),m.Ub(57,14),m.Ec(58,Gt,3,3,"th",8),m.Ec(59,St,2,1,"td",9),m.Tb(),m.Ec(60,Ut,1,0,"tr",15),m.Ec(61,Mt,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(62,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(63,"mat-tab",3),m.jc(64,"transloco"),m.Wb(65,"div",4),m.Wb(66,"div",5),m.Wb(67,"table",6),m.Ub(68,7),m.Ec(69,jt,2,0,"th",8),m.Ec(70,xt,8,9,"td",9),m.Tb(),m.Ub(71,10),m.Ec(72,$t,3,3,"th",8),m.Ec(73,At,2,1,"td",9),m.Tb(),m.Ub(74,11),m.Ec(75,Pt,3,3,"th",8),m.Ec(76,It,2,1,"td",9),m.Tb(),m.Ub(77,12),m.Ec(78,Ht,3,3,"th",8),m.Ec(79,Ot,2,1,"td",9),m.Tb(),m.Ub(80,18),m.Ec(81,Bt,3,3,"th",8),m.Ec(82,Lt,2,1,"td",9),m.Tb(),m.Ub(83,14),m.Ec(84,Kt,3,3,"th",8),m.Ec(85,Nt,2,1,"td",9),m.Tb(),m.Ec(86,zt,1,0,"tr",15),m.Ec(87,Xt,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(88,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(89,"mat-tab",3),m.jc(90,"transloco"),m.Wb(91,"div",4),m.Wb(92,"div",5),m.Wb(93,"table",6),m.Ub(94,7),m.Ec(95,Qt,2,0,"th",8),m.Ec(96,qt,8,9,"td",9),m.Tb(),m.Ub(97,10),m.Ec(98,_t,3,3,"th",8),m.Ec(99,Jt,2,1,"td",9),m.Tb(),m.Ub(100,11),m.Ec(101,Yt,3,3,"th",8),m.Ec(102,Zt,2,1,"td",9),m.Tb(),m.Ub(103,12),m.Ec(104,tc,3,3,"th",8),m.Ec(105,cc,2,1,"td",9),m.Tb(),m.Ub(106,18),m.Ec(107,oc,3,3,"th",8),m.Ec(108,ec,2,1,"td",9),m.Tb(),m.Ub(109,14),m.Ec(110,nc,3,3,"th",8),m.Ec(111,ic,2,1,"td",9),m.Tb(),m.Ec(112,ac,1,0,"tr",15),m.Ec(113,bc,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(114,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(115,"mat-tab",3),m.jc(116,"transloco"),m.Wb(117,"div",4),m.Wb(118,"div",5),m.Wb(119,"table",6),m.Ub(120,7),m.Ec(121,rc,2,0,"th",8),m.Ec(122,lc,8,9,"td",9),m.Tb(),m.Ub(123,10),m.Ec(124,dc,3,3,"th",8),m.Ec(125,sc,2,1,"td",9),m.Tb(),m.Ub(126,11),m.Ec(127,uc,3,3,"th",8),m.Ec(128,mc,2,1,"td",9),m.Tb(),m.Ub(129,12),m.Ec(130,fc,3,3,"th",8),m.Ec(131,hc,2,1,"td",9),m.Tb(),m.Ub(132,18),m.Ec(133,Ec,3,3,"th",8),m.Ec(134,gc,2,1,"td",9),m.Tb(),m.Ub(135,14),m.Ec(136,pc,3,3,"th",8),m.Ec(137,Wc,2,1,"td",9),m.Tb(),m.Ec(138,Vc,1,0,"tr",15),m.Ec(139,Cc,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(140,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(141,"mat-tab",3),m.jc(142,"transloco"),m.Wb(143,"div",4),m.Wb(144,"div",5),m.Wb(145,"table",6),m.Ub(146,7),m.Ec(147,Fc,2,0,"th",8),m.Ec(148,kc,8,9,"td",9),m.Tb(),m.Ub(149,10),m.Ec(150,Rc,3,3,"th",8),m.Ec(151,wc,2,1,"td",9),m.Tb(),m.Ub(152,11),m.Ec(153,vc,3,3,"th",8),m.Ec(154,Dc,2,1,"td",9),m.Tb(),m.Ub(155,12),m.Ec(156,yc,3,3,"th",8),m.Ec(157,Tc,2,1,"td",9),m.Tb(),m.Ub(158,19),m.Ec(159,Gc,3,3,"th",8),m.Ec(160,Sc,2,1,"td",9),m.Tb(),m.Ub(161,14),m.Ec(162,Uc,3,3,"th",8),m.Ec(163,Mc,2,1,"td",9),m.Tb(),m.Ec(164,jc,1,0,"tr",15),m.Ec(165,xc,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(166,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(167,"mat-tab",3),m.jc(168,"transloco"),m.Wb(169,"div",4),m.Wb(170,"div",5),m.Wb(171,"table",6),m.Ub(172,7),m.Ec(173,$c,2,0,"th",8),m.Ec(174,Ac,8,9,"td",9),m.Tb(),m.Ub(175,10),m.Ec(176,Pc,3,3,"th",8),m.Ec(177,Ic,2,1,"td",9),m.Tb(),m.Ub(178,11),m.Ec(179,Hc,3,3,"th",8),m.Ec(180,Oc,2,1,"td",9),m.Tb(),m.Ub(181,12),m.Ec(182,Bc,3,3,"th",8),m.Ec(183,Lc,2,1,"td",9),m.Tb(),m.Ub(184,19),m.Ec(185,Kc,3,3,"th",8),m.Ec(186,Nc,2,1,"td",9),m.Tb(),m.Ub(187,14),m.Ec(188,zc,3,3,"th",8),m.Ec(189,Xc,2,1,"td",9),m.Tb(),m.Ec(190,Qc,1,0,"tr",15),m.Ec(191,qc,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(192,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(193,"mat-tab",3),m.jc(194,"transloco"),m.Wb(195,"div",4),m.Wb(196,"div",5),m.Wb(197,"table",6),m.Ub(198,7),m.Ec(199,_c,2,0,"th",8),m.Ec(200,Jc,8,9,"td",9),m.Tb(),m.Ub(201,10),m.Ec(202,Yc,3,3,"th",8),m.Ec(203,Zc,2,1,"td",9),m.Tb(),m.Ub(204,11),m.Ec(205,to,3,3,"th",8),m.Ec(206,co,2,1,"td",9),m.Tb(),m.Ub(207,12),m.Ec(208,oo,3,3,"th",8),m.Ec(209,eo,2,1,"td",9),m.Tb(),m.Ub(210,19),m.Ec(211,no,3,3,"th",8),m.Ec(212,io,2,1,"td",9),m.Tb(),m.Ub(213,14),m.Ec(214,ao,3,3,"th",8),m.Ec(215,bo,2,1,"td",9),m.Tb(),m.Ec(216,ro,1,0,"tr",15),m.Ec(217,lo,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(218,"mat-paginator",17),m.Vb(),m.Vb(),m.Wb(219,"mat-tab",3),m.jc(220,"transloco"),m.Wb(221,"div",4),m.Wb(222,"div",5),m.Wb(223,"table",6),m.Ub(224,7),m.Ec(225,so,2,0,"th",8),m.Ec(226,uo,8,9,"td",9),m.Tb(),m.Ub(227,10),m.Ec(228,mo,3,3,"th",8),m.Ec(229,fo,2,1,"td",9),m.Tb(),m.Ub(230,11),m.Ec(231,ho,3,3,"th",8),m.Ec(232,Eo,2,1,"td",9),m.Tb(),m.Ub(233,12),m.Ec(234,go,3,3,"th",8),m.Ec(235,po,2,1,"td",9),m.Tb(),m.Ub(236,18),m.Ec(237,Wo,3,3,"th",8),m.Ec(238,Vo,2,1,"td",9),m.Tb(),m.Ub(239,14),m.Ec(240,Co,3,3,"th",8),m.Ec(241,Fo,2,1,"td",9),m.Tb(),m.Ec(242,ko,1,0,"tr",15),m.Ec(243,Ro,1,0,"tr",16),m.Vb(),m.Vb(),m.Rb(244,"mat-paginator",17),m.Vb(),m.Vb(),m.Vb()),2&t&&(m.Eb(2),m.Gc(m.kc(3,58,"Award.Rules")),m.Eb(3),m.oc("disabled",!c.isExpertMode),m.Eb(1),m.Gc(m.kc(7,60,"Common.Create")),m.Eb(2),m.oc("disabled",!c.isExpertMode),m.Eb(3),m.oc("label",m.kc(12,62,"Award.GoToBedTime")),m.Eb(4),m.oc("dataSource",c.dataSourceGoToBedRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedTimeRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedTimeRuleColumns),m.Eb(1),m.oc("length",c.goToBedRulesLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(38,64,"Award.SchoolWorkTime")),m.Eb(4),m.oc("dataSource",c.dataSourceSchoolWorkRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedTimeRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedTimeRuleColumns),m.Eb(1),m.oc("length",c.schoolWorkRulesLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(64,66,"Award.HomeworkCount")),m.Eb(4),m.oc("dataSource",c.dataSourceHomeworkRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.oc("length",c.homeWorkRulesLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(90,68,"Award.BodyExerciseCount")),m.Eb(4),m.oc("dataSource",c.dataSourceBodyExerciseRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.oc("length",c.bodyExerciseRuleLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(116,70,"Award.HouseKeepingCount")),m.Eb(4),m.oc("dataSource",c.dataSourceHouseKeepingRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.oc("length",c.houseKeepingRuleLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(142,72,"Award.ErrorsCollection")),m.Eb(4),m.oc("dataSource",c.dataSourceErrorCollectionRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedBitRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedBitRuleColumns),m.Eb(1),m.oc("length",c.errorCollectionRuleLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(168,74,"Award.HandWriting")),m.Eb(4),m.oc("dataSource",c.dataSourceHandwritingRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedBitRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedBitRuleColumns),m.Eb(1),m.oc("length",c.handwritingRuleLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(194,76,"Award.CleanDesk")),m.Eb(4),m.oc("dataSource",c.dataSourceCleanDeskRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedBitRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedBitRuleColumns),m.Eb(1),m.oc("length",c.cleanDeskRuleLength)("pageSize",20),m.Eb(1),m.oc("label",m.kc(220,78,"Award.PoliteBehavior")),m.Eb(4),m.oc("dataSource",c.dataSourcePoliteBehaviorRule),m.Eb(19),m.oc("matHeaderRowDef",c.displayedCountRuleColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedCountRuleColumns),m.Eb(1),m.oc("length",c.politeBehaviorRuleLength)("pageSize",20))},directives:[E.a,g.b,ot.b,ot.a,p.j,p.c,p.e,p.b,p.g,p.i,W.a,p.d,p.a,p.f,p.h],pipes:[i.d],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})(),Bo=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c,this.arRuleTypes=[],this.arRuleTypes=Object(ct.f)()}get isTimeRangeNeed(){return this.data.ruleType===ct.d.GoToBedTime||this.data.ruleType===ct.d.SchoolWorkTime}get isCountNeed(){return this.data.ruleType===ct.d.HomeWorkCount||this.data.ruleType===ct.d.HouseKeepingCount||this.data.ruleType===ct.d.PoliteBehavior||this.data.ruleType===ct.d.BodyExerciseCount}get isDoneNeed(){return this.data.ruleType===ct.d.CleanDeakHabit||this.data.ruleType===ct.d.ErrorCollectionHabit||this.data.ruleType===ct.d.HandWritingHabit}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(l.g),m.Qb(l.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-award-rule-create-dialog"]],decls:57,vars:37,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","name","targetuser",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","name","validfrom",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date","name","validto",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["required","","name","ruletype",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","control-full-width","cellspacing","0",4,"ngIf"],["class","control-full-width",4,"ngIf"],["cellspacing","0",1,"control-full-width"],[1,"control-full-width"],["matInput","","type","number","name","dayfrom",3,"ngModel","ngModelChange"],["matInput","","type","number","name","dayto",3,"ngModel","ngModelChange"],["matInput","","type","number","name","point",3,"ngModel","ngModelChange"],["matInput","","name","comment",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"],[3,"value"],["matInput","","type","number","name","timestart",3,"ngModel","ngModelChange"],["matInput","","type","number","name","timeend",3,"ngModel","ngModelChange"],["matInput","","type","number","name","countlow",3,"ngModel","ngModelChange"],["matInput","","type","number","name","counthigh",3,"ngModel","ngModelChange"],["name","donecrit",3,"ngModel","ngModelChange"]],template:function(t,c){if(1&t&&(m.Wb(0,"h1",0),m.Fc(1,"CREATE AWARD RULE"),m.Vb(),m.Wb(2,"div",1),m.Wb(3,"form"),m.Wb(4,"mat-form-field",2),m.Wb(5,"mat-label"),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Wb(8,"input",3),m.ec("ngModelChange",function(t){return c.data.targetUser=t}),m.Vb(),m.Vb(),m.Wb(9,"mat-form-field",4),m.Wb(10,"mat-label"),m.Fc(11),m.jc(12,"transloco"),m.Vb(),m.Wb(13,"mat-date-range-input",5),m.Wb(14,"input",6),m.ec("ngModelChange",function(t){return c.data.validFrom=t}),m.Vb(),m.Wb(15,"input",7),m.ec("ngModelChange",function(t){return c.data.validTo=t}),m.Vb(),m.Vb(),m.Rb(16,"mat-datepicker-toggle",8),m.Rb(17,"mat-date-range-picker",null,9),m.Vb(),m.Wb(19,"mat-form-field",2),m.Wb(20,"mat-label"),m.Fc(21),m.jc(22,"transloco"),m.Vb(),m.Wb(23,"mat-select",10),m.ec("ngModelChange",function(t){return c.data.ruleType=t}),m.Ec(24,wo,3,4,"mat-option",11),m.Vb(),m.Vb(),m.Ec(25,vo,14,8,"table",12),m.Ec(26,Do,12,2,"table",12),m.Ec(27,yo,3,1,"mat-form-field",13),m.Wb(28,"table",14),m.Wb(29,"tr"),m.Wb(30,"td"),m.Wb(31,"mat-form-field",15),m.Wb(32,"mat-label"),m.Fc(33),m.jc(34,"transloco"),m.Vb(),m.Wb(35,"input",16),m.ec("ngModelChange",function(t){return c.data.daysFrom=t}),m.Vb(),m.Vb(),m.Vb(),m.Wb(36,"td"),m.Wb(37,"mat-form-field",15),m.Wb(38,"mat-label"),m.Fc(39),m.jc(40,"transloco"),m.Vb(),m.Wb(41,"input",17),m.ec("ngModelChange",function(t){return c.data.daysTo=t}),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(42,"mat-form-field",2),m.Wb(43,"mat-label"),m.Fc(44),m.jc(45,"transloco"),m.Vb(),m.Wb(46,"input",18),m.ec("ngModelChange",function(t){return c.data.point=t}),m.Vb(),m.Vb(),m.Wb(47,"mat-form-field",2),m.Wb(48,"mat-label"),m.Fc(49),m.jc(50,"transloco"),m.Vb(),m.Wb(51,"input",19),m.ec("ngModelChange",function(t){return c.data.desp=t}),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(52,"div",20),m.Wb(53,"button",21),m.ec("click",function(){return c.onNoClick()}),m.Fc(54,"No Thanks"),m.Vb(),m.Wb(55,"button",22),m.Fc(56,"OK"),m.Vb(),m.Vb()),2&t){const t=m.vc(18);m.Eb(6),m.Gc(m.kc(7,23,"Award.TargetUser")),m.Eb(2),m.oc("ngModel",c.data.targetUser),m.Eb(3),m.Gc(m.kc(12,25,"Award.Validity")),m.Eb(2),m.oc("rangePicker",t),m.Eb(1),m.oc("ngModel",c.data.validFrom),m.Eb(1),m.oc("ngModel",c.data.validTo),m.Eb(1),m.oc("for",t),m.Eb(5),m.Gc(m.kc(22,27,"Type")),m.Eb(2),m.oc("ngModel",c.data.ruleType),m.Eb(1),m.oc("ngForOf",c.arRuleTypes),m.Eb(1),m.oc("ngIf",c.isTimeRangeNeed),m.Eb(1),m.oc("ngIf",c.isCountNeed),m.Eb(1),m.oc("ngIf",c.isDoneNeed),m.Eb(6),m.Gc(m.kc(34,29,"Award.ContinuousDays")),m.Eb(2),m.oc("ngModel",c.data.daysFrom),m.Eb(4),m.Gc(m.kc(40,31,"Award.ContinuousDays")),m.Eb(2),m.oc("ngModel",c.data.daysTo),m.Eb(3),m.Gc(m.kc(45,33,"Award.Point")),m.Eb(2),m.oc("ngModel",c.data.point),m.Eb(3),m.Gc(m.kc(50,35,"Common.Description")),m.Eb(2),m.oc("ngModel",c.data.desp),m.Eb(4),m.oc("disabled",!c.data.isValid())("mat-dialog-close",c.data)}},directives:[l.h,l.e,n.u,n.n,n.o,C.c,C.g,F.b,n.c,n.m,n.p,k.a,k.h,k.g,k.f,C.i,k.b,et.a,n.s,e.l,e.m,n.q,l.c,g.b,l.d,nt.n,it.a],pipes:[i.d],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})(),Lo=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c,this.displayedColumns=["desp","validFrom","validTo","countOfFactLow","countOfFactHigh","timeStart","timeEnd","daysFrom","daysTo","point","edit"],this.dataSource=[],this.dataSchema={desp:"text",validFrom:"date",validTo:"date",countOfFactLow:"number",countOfFactHigh:"number",timeStart:"number",timeEnd:"number",daysFrom:"number",daysTo:"number",point:"number",edit:"edit"}}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(l.g),m.Qb(l.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-award-rule-create-ex-dialog"]],decls:12,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],[4,"ngIf"],["mat-cell",""],[3,"ngSwitch",4,"ngIf"],["class","btn-edit",4,"ngIfSpanHeader","ngIf"],["spanHeader",""],[1,"btn-edit"],[3,"click"],[3,"ngSwitch"],["class","btn-edit",4,"ngSwitchCase"],["appearance","fill",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","fill"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","",3,"type","ngModel","ngModelChange"],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(m.Wb(0,"h1",0),m.Fc(1,"CREATE AWARD RULE"),m.Vb(),m.Wb(2,"div",1),m.Wb(3,"table",2),m.Ec(4,Po,3,1,"ng-container",3),m.Ec(5,Io,1,0,"tr",4),m.Ec(6,Ho,1,0,"tr",5),m.Vb(),m.Vb(),m.Wb(7,"div",6),m.Wb(8,"button",7),m.ec("click",function(){return c.onNoClick()}),m.Fc(9,"No Thanks"),m.Vb(),m.Wb(10,"button",8),m.Fc(11,"OK"),m.Vb(),m.Vb()),2&t&&(m.Eb(3),m.oc("dataSource",c.dataSource),m.Eb(1),m.oc("ngForOf",c.displayedColumns),m.Eb(1),m.oc("matHeaderRowDef",c.displayedColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedColumns),m.Eb(4),m.oc("mat-dialog-close",c.data))},directives:[l.h,l.e,p.j,e.l,p.g,p.i,l.c,g.b,l.d,p.c,p.e,p.b,p.d,e.m,p.a,e.o,e.p,e.q,C.c,C.g,F.b,k.d,n.c,n.m,n.p,k.f,C.i,k.c,p.f,p.h],encapsulation:2}),t})();function Ko(t,c){1&t&&m.Rb(0,"th",23)}function No(t,c){if(1&t){const t=m.Xb();m.Wb(0,"td",24),m.Wb(1,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onGetPoints(o.targetUser,o.recordDate)}),m.Fc(2),m.jc(3,"transloco"),m.Vb(),m.Wb(4,"button",1),m.ec("click",function(){m.xc(t);const o=c.$implicit;return m.ic().onDeleteTrace(o.targetUser,o.recordDate)}),m.Fc(5),m.jc(6,"transloco"),m.Vb(),m.Vb()}if(2&t){const t=m.ic();m.Eb(1),m.oc("disabled",!t.isExpertMode),m.Eb(1),m.Gc(m.kc(3,4,"Award.Point")),m.Eb(2),m.oc("disabled",!t.isExpertMode),m.Eb(1),m.Gc(m.kc(6,6,"Common.Delete"))}}function zo(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function Xo(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function Qo(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Quiz.Date")))}function qo(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.getRecordDateDisplayString())}}function _o(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.SchoolWorkTime")))}function Jo(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.schoolWorkTime)}}function Yo(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.GoToBedTime")))}function Zo(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.goToBedTime)}}function te(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.HomeworkCount")))}function ce(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.homeWorkCount)}}function oe(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.BodyExerciseCount")))}function ee(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.bodyExerciseCount)}}function ne(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ErrorsCollection")))}function ie(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.errorsCollection)}}function ae(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.HandWriting")))}function be(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.handWriting)}}function re(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.CleanDesk")))}function le(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.cleanDesk)}}function de(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.HouseKeepingCount")))}function se(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.houseKeepingCount)}}function ue(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.PoliteBehavior")))}function me(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.politeBehavior)}}function fe(t,c){1&t&&m.Rb(0,"tr",25)}function he(t,c){1&t&&m.Rb(0,"tr",26)}function Ee(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1,"#"),m.Vb())}function ge(t,c){if(1&t){const t=m.Xb();m.Wb(0,"button",1),m.ec("click",function(){m.xc(t);const c=m.ic().$implicit;return m.ic(2).onDeletePoint(c.id)}),m.Fc(1),m.jc(2,"transloco"),m.Vb()}if(2&t){const t=m.ic(3);m.oc("disabled",!t.isExpertMode),m.Eb(1),m.Gc(m.kc(2,2,"Common.Delete"))}}function pe(t,c){if(1&t&&(m.Wb(0,"td",24),m.Ec(1,ge,3,4,"button",32),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.oc("ngIf",!t.matchedRuleID)}}function We(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.TargetUser")))}function Ve(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.targetUser)}}function Ce(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Quiz.Date")))}function Fe(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.getRecordDateDisplayString())}}function ke(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1,"Rule ID"),m.Vb())}function Re(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.matchedRuleID)}}function we(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.ContinuousDays")))}function ve(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.countOfDay)}}function De(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Award.Point")))}function ye(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.point)}}function Te(t,c){1&t&&(m.Wb(0,"th",23),m.Fc(1),m.jc(2,"transloco"),m.Vb()),2&t&&(m.Eb(1),m.Gc(m.kc(2,1,"Common.Comment")))}function Ge(t,c){if(1&t&&(m.Wb(0,"td",24),m.Fc(1),m.Vb()),2&t){const t=c.$implicit;m.Eb(1),m.Gc(t.comment)}}function Se(t,c){1&t&&m.Rb(0,"tr",25)}function Ue(t,c){1&t&&m.Rb(0,"tr",26)}function Me(t,c){if(1&t){const t=m.Xb();m.Wb(0,"div"),m.Wb(1,"mat-toolbar"),m.Wb(2,"h3"),m.Fc(3),m.jc(4,"transloco"),m.Vb(),m.Rb(5,"div",0),m.Wb(6,"button",27),m.ec("click",function(){return m.xc(t),m.ic().onHidePoints()}),m.Fc(7),m.jc(8,"transloco"),m.Vb(),m.Vb(),m.Wb(9,"div",2),m.Wb(10,"div",3),m.Wb(11,"table",4),m.Ub(12,5),m.Ec(13,Ee,2,0,"th",6),m.Ec(14,pe,2,1,"td",7),m.Tb(),m.Ub(15,8),m.Ec(16,We,3,3,"th",6),m.Ec(17,Ve,2,1,"td",7),m.Tb(),m.Ub(18,9),m.Ec(19,Ce,3,3,"th",6),m.Ec(20,Fe,2,1,"td",7),m.Tb(),m.Ub(21,28),m.Ec(22,ke,2,0,"th",6),m.Ec(23,Re,2,1,"td",7),m.Tb(),m.Ub(24,29),m.Ec(25,we,3,3,"th",6),m.Ec(26,ve,2,1,"td",7),m.Tb(),m.Ub(27,30),m.Ec(28,De,3,3,"th",6),m.Ec(29,ye,2,1,"td",7),m.Tb(),m.Ub(30,31),m.Ec(31,Te,3,3,"th",6),m.Ec(32,Ge,2,1,"td",7),m.Tb(),m.Ec(33,Se,1,0,"tr",19),m.Ec(34,Ue,1,0,"tr",20),m.Vb(),m.Vb(),m.Vb(),m.Vb()}if(2&t){const t=m.ic();m.Eb(3),m.Jc("",m.kc(4,7,"Award.Point"),", ",t.selectedUser,", ",t.selectedDate,""),m.Eb(4),m.Gc(m.kc(8,9,"Common.Hide")),m.Eb(4),m.oc("dataSource",t.dataSourcePoints),m.Eb(22),m.oc("matHeaderRowDef",t.displayedPointColumns),m.Eb(1),m.oc("matRowDefColumns",t.displayedPointColumns)}}const je="table[_ngcontent-%COMP%]{width:100%}.example-form[_ngcontent-%COMP%]{min-width:250px;max-width:500px;width:100%}.example-margin[_ngcontent-%COMP%]{margin:0 10px}td[_ngcontent-%COMP%]{padding-right:8px}";let xe=(()=>{class t{constructor(t,c,o){this.odataSrv=t,this.dialog=c,this.snackBar=o,this.dataSourceTrace=[],this.dataSourcePoints=[],this.traceLength=0,this.displayedColumns=["action","targetUser","recordDate","schoolWorkTime","goToBedTime","homeWorkCount","bodyExerciseCount","errorsCollection","handWriting","cleanDesk","houseKeepingCount","politeBehavior"],this.displayedPointColumns=["action","targetUser","recordDate","matchedRuleID","countOfDay","point","comment"],this.selectedUser="",this.selectedDate="",this.isPointShow=!1}ngOnInit(){this.refreshList()}get isExpertMode(){return this.odataSrv.expertMode}onCreateTrace(){this.dialog.open($e,{width:"600px",closeOnNavigation:!1,data:new u.f}).afterClosed().subscribe(t=>{console.log("The dialog was closed with result: "+t),t&&this.odataSrv.createDailyTrace(t).subscribe({next:t=>{this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})})}refreshList(){this.odataSrv.getDailyTrace(100,0).subscribe({next:t=>{this.dataSourceTrace=t.items.slice(),this.traceLength=t.totalCount},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onGetPoints(t,c){this.odataSrv.getAwardPoints(100,0,void 0,`TargetUser eq '${t}' AND RecordDate eq ${c.format(u.I)}`).subscribe({next:o=>{this.selectedUser=t,this.selectedDate=c.format(u.I),this.dataSourcePoints=[],this.dataSourcePoints=o.items.slice(),this.isPointShow=!0},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onDeleteTrace(t,c){this.odataSrv.deleteDailyTrace(t,c).subscribe({next:t=>{this.isPointShow=!1,this.refreshList()},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}onHidePoints(){this.selectedDate="",this.selectedUser="",this.dataSourcePoints=[],this.isPointShow=!1}onDeletePoint(t){this.odataSrv.deleteAwardPoint(t).subscribe({next:t=>{this.onGetPoints(this.selectedUser,s()(this.selectedDate))},error:t=>{this.snackBar.open(t,void 0,{duration:2e3})}})}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(f.b),m.Qb(l.b),m.Qb(h.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-daily-trace"]],decls:52,vars:13,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"disabled","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","targetUser"],["matColumnDef","recordDate"],["matColumnDef","schoolWorkTime"],["matColumnDef","goToBedTime"],["matColumnDef","homeWorkCount"],["matColumnDef","bodyExerciseCount"],["matColumnDef","errorsCollection"],["matColumnDef","handWriting"],["matColumnDef","cleanDesk"],["matColumnDef","houseKeepingCount"],["matColumnDef","politeBehavior"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-raised-button","",3,"click"],["matColumnDef","matchedRuleID"],["matColumnDef","countOfDay"],["matColumnDef","point"],["matColumnDef","comment"],["mat-raised-button","",3,"disabled","click",4,"ngIf"]],template:function(t,c){1&t&&(m.Wb(0,"mat-toolbar"),m.Wb(1,"h3"),m.Fc(2),m.jc(3,"transloco"),m.Vb(),m.Rb(4,"div",0),m.Wb(5,"button",1),m.ec("click",function(){return c.onCreateTrace()}),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Vb(),m.Wb(8,"div",2),m.Wb(9,"div",3),m.Wb(10,"table",4),m.Ub(11,5),m.Ec(12,Ko,1,0,"th",6),m.Ec(13,No,7,8,"td",7),m.Tb(),m.Ub(14,8),m.Ec(15,zo,3,3,"th",6),m.Ec(16,Xo,2,1,"td",7),m.Tb(),m.Ub(17,9),m.Ec(18,Qo,3,3,"th",6),m.Ec(19,qo,2,1,"td",7),m.Tb(),m.Ub(20,10),m.Ec(21,_o,3,3,"th",6),m.Ec(22,Jo,2,1,"td",7),m.Tb(),m.Ub(23,11),m.Ec(24,Yo,3,3,"th",6),m.Ec(25,Zo,2,1,"td",7),m.Tb(),m.Ub(26,12),m.Ec(27,te,3,3,"th",6),m.Ec(28,ce,2,1,"td",7),m.Tb(),m.Ub(29,13),m.Ec(30,oe,3,3,"th",6),m.Ec(31,ee,2,1,"td",7),m.Tb(),m.Ub(32,14),m.Ec(33,ne,3,3,"th",6),m.Ec(34,ie,2,1,"td",7),m.Tb(),m.Ub(35,15),m.Ec(36,ae,3,3,"th",6),m.Ec(37,be,2,1,"td",7),m.Tb(),m.Ub(38,16),m.Ec(39,re,3,3,"th",6),m.Ec(40,le,2,1,"td",7),m.Tb(),m.Ub(41,17),m.Ec(42,de,3,3,"th",6),m.Ec(43,se,2,1,"td",7),m.Tb(),m.Ub(44,18),m.Ec(45,ue,3,3,"th",6),m.Ec(46,me,2,1,"td",7),m.Tb(),m.Ec(47,fe,1,0,"tr",19),m.Ec(48,he,1,0,"tr",20),m.Vb(),m.Vb(),m.Rb(49,"mat-paginator",21),m.Vb(),m.Rb(50,"mat-divider"),m.Ec(51,Me,35,11,"div",22)),2&t&&(m.Eb(2),m.Gc(m.kc(3,9,"Award.DailyTrace")),m.Eb(3),m.oc("disabled",!c.isExpertMode),m.Eb(1),m.Gc(m.kc(7,11,"Common.Create")),m.Eb(4),m.oc("dataSource",c.dataSourceTrace),m.Eb(37),m.oc("matHeaderRowDef",c.displayedColumns),m.Eb(1),m.oc("matRowDefColumns",c.displayedColumns),m.Eb(1),m.oc("length",c.traceLength)("pageSize",20),m.Eb(2),m.oc("ngIf",c.isPointShow))},directives:[E.a,g.b,p.j,p.c,p.e,p.b,p.g,p.i,W.a,V.a,e.m,p.d,p.a,p.f,p.h],pipes:[i.d],styles:[je]}),t})(),$e=(()=>{class t{constructor(t,c){this.dialogRef=t,this.data=c}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(m.Qb(l.g),m.Qb(l.a))},t.\u0275cmp=m.Kb({type:t,selectors:[["app-daily-trace-create-dialog"]],decls:60,vars:45,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"example-form"],["appearance","fill",1,"control-full-width"],["matInput","","name","targetuser",3,"ngModel","ngModelChange"],["appearance","fill"],["matInput","","name","recorddate",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","name","schoolworktime",3,"ngModel","ngModelChange"],["matInput","","type","number","name","gotobedtime",3,"ngModel","ngModelChange"],["matInput","","type","number","name","homeworkcount",3,"ngModel","ngModelChange"],["matInput","","type","number","name","bodyexercisecount",3,"ngModel","ngModelChange"],["name","errorcollection",1,"example-margin",3,"ngModel","ngModelChange"],["name","handwriting",1,"example-margin",3,"ngModel","ngModelChange"],["name","cleandesk",1,"example-margin",3,"ngModel","ngModelChange"],["matInput","","type","number","name","housekeepingcount",3,"ngModel","ngModelChange"],["matInput","","type","number","name","politebehavior",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,c){if(1&t&&(m.Wb(0,"h1",0),m.Fc(1,"CREATE DAILY TRACE"),m.Vb(),m.Wb(2,"div",1),m.Wb(3,"form",2),m.Wb(4,"mat-form-field",3),m.Wb(5,"mat-label"),m.Fc(6),m.jc(7,"transloco"),m.Vb(),m.Wb(8,"input",4),m.ec("ngModelChange",function(t){return c.data.targetUser=t}),m.Vb(),m.Vb(),m.Wb(9,"mat-form-field",5),m.Wb(10,"mat-label"),m.Fc(11,"Record Date"),m.Vb(),m.Wb(12,"input",6),m.ec("ngModelChange",function(t){return c.data.recordDate=t}),m.Vb(),m.Rb(13,"mat-datepicker-toggle",7),m.Rb(14,"mat-datepicker",null,8),m.Vb(),m.Wb(16,"mat-form-field",3),m.Wb(17,"mat-label"),m.Fc(18),m.jc(19,"transloco"),m.Vb(),m.Wb(20,"input",9),m.ec("ngModelChange",function(t){return c.data.schoolWorkTime=t}),m.Vb(),m.Vb(),m.Wb(21,"mat-form-field",3),m.Wb(22,"mat-label"),m.Fc(23),m.jc(24,"transloco"),m.Vb(),m.Wb(25,"input",10),m.ec("ngModelChange",function(t){return c.data.goToBedTime=t}),m.Vb(),m.Vb(),m.Wb(26,"mat-form-field",3),m.Wb(27,"mat-label"),m.Fc(28),m.jc(29,"transloco"),m.Vb(),m.Wb(30,"input",11),m.ec("ngModelChange",function(t){return c.data.homeWorkCount=t}),m.Vb(),m.Vb(),m.Wb(31,"mat-form-field",3),m.Wb(32,"mat-label"),m.Fc(33),m.jc(34,"transloco"),m.Vb(),m.Wb(35,"input",12),m.ec("ngModelChange",function(t){return c.data.bodyExerciseCount=t}),m.Vb(),m.Vb(),m.Wb(36,"mat-checkbox",13),m.ec("ngModelChange",function(t){return c.data.errorsCollection=t}),m.Fc(37),m.jc(38,"transloco"),m.Vb(),m.Wb(39,"mat-checkbox",14),m.ec("ngModelChange",function(t){return c.data.handWriting=t}),m.Fc(40),m.jc(41,"transloco"),m.Vb(),m.Wb(42,"mat-checkbox",15),m.ec("ngModelChange",function(t){return c.data.cleanDesk=t}),m.Fc(43),m.jc(44,"transloco"),m.Vb(),m.Wb(45,"mat-form-field",3),m.Wb(46,"mat-label"),m.Fc(47),m.jc(48,"transloco"),m.Vb(),m.Wb(49,"input",16),m.ec("ngModelChange",function(t){return c.data.houseKeepingCount=t}),m.Vb(),m.Vb(),m.Wb(50,"mat-form-field",3),m.Wb(51,"mat-label"),m.Fc(52),m.jc(53,"transloco"),m.Vb(),m.Wb(54,"input",17),m.ec("ngModelChange",function(t){return c.data.politeBehavior=t}),m.Vb(),m.Vb(),m.Vb(),m.Vb(),m.Wb(55,"div",18),m.Wb(56,"button",19),m.ec("click",function(){return c.onNoClick()}),m.Fc(57,"No Thanks"),m.Vb(),m.Wb(58,"button",20),m.Fc(59,"OK"),m.Vb(),m.Vb()),2&t){const t=m.vc(15);m.Eb(6),m.Gc(m.kc(7,25,"Award.TargetUser")),m.Eb(2),m.oc("ngModel",c.data.targetUser),m.Eb(4),m.oc("matDatepicker",t)("ngModel",c.data.recordDate),m.Eb(1),m.oc("for",t),m.Eb(5),m.Gc(m.kc(19,27,"Award.SchoolWorkTime")),m.Eb(2),m.oc("ngModel",c.data.schoolWorkTime),m.Eb(3),m.Gc(m.kc(24,29,"Award.GoToBedTime")),m.Eb(2),m.oc("ngModel",c.data.goToBedTime),m.Eb(3),m.Gc(m.kc(29,31,"Award.HomeworkCount")),m.Eb(2),m.oc("ngModel",c.data.homeWorkCount),m.Eb(3),m.Gc(m.kc(34,33,"Award.BodyExerciseCount")),m.Eb(2),m.oc("ngModel",c.data.bodyExerciseCount),m.Eb(1),m.oc("ngModel",c.data.errorsCollection),m.Eb(1),m.Gc(m.kc(38,35,"Award.ErrorsCollection")),m.Eb(2),m.oc("ngModel",c.data.handWriting),m.Eb(1),m.Gc(m.kc(41,37,"Award.HandWriting")),m.Eb(2),m.oc("ngModel",c.data.cleanDesk),m.Eb(1),m.Gc(m.kc(44,39,"Award.CleanDesk")),m.Eb(4),m.Gc(m.kc(48,41,"Award.HouseKeepingCount")),m.Eb(2),m.oc("ngModel",c.data.houseKeepingCount),m.Eb(3),m.Gc(m.kc(53,43,"Award.PoliteBehavior")),m.Eb(2),m.oc("ngModel",c.data.politeBehavior),m.Eb(4),m.oc("disabled",!c.data.isValid())("mat-dialog-close",c.data)}},directives:[l.h,l.e,n.u,n.n,n.o,C.c,C.g,F.b,n.c,n.m,n.p,k.d,k.f,C.i,k.c,n.q,it.a,l.c,g.b,l.d],pipes:[i.d],styles:[je]}),t})();const Ae=[{path:"",component:Z},{path:"rules",component:Oo},{path:"dailytrace",component:xe}];let Pe=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({imports:[[r.e.forChild(Ae)],r.e]}),t})(),Ie=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({imports:[[e.c,n.h,n.r,a.a,i.c,b.a,Pe]]}),t})()}}]);