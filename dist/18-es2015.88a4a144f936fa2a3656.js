(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{RVRs:function(t,e,o){"use strict";o.r(e),o.d(e,"UserCollectionModule",function(){return ot});var i=o("ofXK"),c=o("3Pt+"),n=o("0LvA"),a=o("lR5k"),r=o("QPBi"),l=o("jIBr"),s=o("dcRk"),m=o("iasb"),b=o("tyNb"),d=o("fXoL"),u=o("M9IT"),h=o("Dh3D"),p=o("VRyK"),f=o("LRne"),C=o("JX91"),g=o("eIep"),E=o("lJxs"),U=o("JIr8"),w=o("o0su"),D=o("/t3+"),V=o("bTqV"),v=o("Qu3c"),x=o("NFeN"),y=o("+0xr");function M(t,e){1&t&&(d.Vb(0,"th",16),d.Ec(1,"#"),d.Ub())}function j(t,e){if(1&t){const t=d.Wb();d.Vb(0,"td",17),d.Vb(1,"div"),d.Ec(2),d.Vb(3,"button",18),d.ic(4,"transloco"),d.Vb(5,"mat-icon"),d.Ec(6,"launch"),d.Ub(),d.Ub(),d.Vb(7,"button",2),d.dc("click",function(){d.wc(t);const o=e.$implicit;return d.hc().onPreview(o.ID)}),d.ic(8,"transloco"),d.Vb(9,"mat-icon"),d.Ec(10,"slideshow"),d.Ub(),d.Ub(),d.Vb(11,"button",19),d.ic(12,"transloco"),d.Vb(13,"mat-icon"),d.Ec(14,"edit"),d.Ub(),d.Ub(),d.Vb(15,"button",20),d.dc("click",function(){d.wc(t);const o=e.$implicit;return d.hc().onDeleteItem(o.ID)}),d.ic(16,"transloco"),d.Vb(17,"mat-icon"),d.Ec(18,"remove_circle"),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit,o=d.hc();d.Eb(2),d.Gc(" ",t.ID," "),d.Eb(1),d.pc("routerLink","display/",t.ID,""),d.oc("matTooltip",d.jc(4,11,"Common.Display")),d.nc("disabled",!o.isExpertMode),d.Eb(4),d.oc("matTooltip",d.jc(8,13,"Common.Preview")),d.nc("disabled",!(o.isExpertMode&&t.Items&&t.Items.length>0)),d.Eb(4),d.pc("routerLink","edit/",t.ID,""),d.oc("matTooltip",d.jc(12,15,"Common.Change")),d.nc("disabled",!o.isExpertMode),d.Eb(4),d.oc("matTooltip",d.jc(16,17,"Common.Delete")),d.nc("disabled",!o.isExpertMode)}}function I(t,e){1&t&&(d.Vb(0,"th",16),d.Ec(1),d.ic(2,"transloco"),d.Ub()),2&t&&(d.Eb(1),d.Fc(d.jc(2,1,"Common.Name")))}function S(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ec(1),d.Ub()),2&t){const t=e.$implicit;d.Eb(1),d.Fc(t.Name)}}function O(t,e){1&t&&(d.Vb(0,"th",16),d.Ec(1),d.ic(2,"transloco"),d.Ub()),2&t&&(d.Eb(1),d.Fc(d.jc(2,1,"Common.Comment")))}function F(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ec(1),d.Ub()),2&t){const t=e.$implicit;d.Eb(1),d.Fc(t.Comment)}}function R(t,e){1&t&&(d.Vb(0,"th",21),d.Ec(1),d.ic(2,"transloco"),d.Ub()),2&t&&(d.Eb(1),d.Fc(d.jc(2,1,"CreatedAt")))}function k(t,e){if(1&t&&(d.Vb(0,"td",17),d.Ec(1),d.ic(2,"date"),d.Ub()),2&t){const t=e.$implicit;d.Eb(1),d.Fc(d.kc(2,1,t.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function T(t,e){1&t&&d.Qb(0,"tr",22)}function P(t,e){1&t&&d.Qb(0,"tr",23)}let G=(()=>{class t{constructor(t,e){this.odataService=t,this.router=e,this.displayedColumns=["id","name","comment","createdat"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new d.o}get isExpertMode(){return this.odataService.expertMode}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(p.a)(this.sort.sortChange,this.paginator.page,this.refreshEvent).pipe(Object(C.a)({}),Object(g.a)(()=>{this.isLoadingResults=!0;const t=this.paginator.pageSize;return this.odataService.getUserCollections(t,t*this.paginator.pageIndex,this.sort.active,this.sort.direction)}),Object(E.a)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount,t.items)),Object(U.a)(()=>(this.isLoadingResults=!1,Object(f.a)([])))).subscribe(t=>this.dataSource=t)}onGoToSearch(){}onPreview(t){const e=[];this.dataSource.forEach(o=>{o.ID===t&&o.Items.forEach(t=>{e.push({refType:t.RefType,refId:t.RefID})})}),this.odataService.previewObjList=e,this.router.navigate(["preview"])}onDeleteItem(t){}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(w.b),d.Pb(b.b))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-user-collection"]],viewQuery:function(t,e){if(1&t&&(d.Jc(u.a,1),d.Jc(h.a,1)),2&t){let t;d.tc(t=d.ec())&&(e.paginator=t.first),d.tc(t=d.ec())&&(e.sort=t.first)}},decls:36,vars:20,consts:[[1,"toolbar-spacer"],["mat-icon-button","","color","primary","routerLink","create",3,"disabled","matTooltip"],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","comment"],["matColumnDef","createdat"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"disabled","routerLink","matTooltip"],["mat-icon-button","","color","accent",3,"disabled","routerLink","matTooltip"],["mat-icon-button","","color","warn",3,"disabled","matTooltip","click"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(d.Vb(0,"mat-toolbar-row"),d.Vb(1,"span"),d.Ec(2),d.ic(3,"transloco"),d.Ub(),d.Qb(4,"span",0),d.Vb(5,"section"),d.Vb(6,"button",1),d.ic(7,"transloco"),d.Vb(8,"mat-icon"),d.Ec(9,"add_circle"),d.Ub(),d.Ub(),d.Vb(10,"button",2),d.dc("click",function(){return e.onGoToSearch()}),d.ic(11,"transloco"),d.Vb(12,"mat-icon"),d.Ec(13,"search"),d.Ub(),d.Ub(),d.Vb(14,"button",2),d.dc("click",function(){return e.onRefreshList()}),d.ic(15,"transloco"),d.Vb(16,"mat-icon"),d.Ec(17,"refresh"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(18,"div",3),d.Vb(19,"div",4),d.Vb(20,"table",5),d.dc("matSortChange",function(){return e.resetPaging()}),d.Tb(21,6),d.Dc(22,M,2,0,"th",7),d.Dc(23,j,19,19,"td",8),d.Sb(),d.Tb(24,9),d.Dc(25,I,3,3,"th",7),d.Dc(26,S,2,1,"td",8),d.Sb(),d.Tb(27,10),d.Dc(28,O,3,3,"th",7),d.Dc(29,F,2,1,"td",8),d.Sb(),d.Tb(30,11),d.Dc(31,R,3,3,"th",12),d.Dc(32,k,3,4,"td",8),d.Sb(),d.Dc(33,T,1,0,"tr",13),d.Dc(34,P,1,0,"tr",14),d.Ub(),d.Ub(),d.Qb(35,"mat-paginator",15),d.Ub()),2&t&&(d.Eb(2),d.Fc(d.jc(3,12,"UserCollections")),d.Eb(4),d.oc("matTooltip",d.jc(7,14,"Common.Create")),d.nc("disabled",!e.isExpertMode),d.Eb(4),d.oc("matTooltip",d.jc(11,16,"Common.Search")),d.nc("disabled",!e.isExpertMode||e.dataSource.length<=0),d.Eb(4),d.oc("matTooltip",d.jc(15,18,"Common.Refresh")),d.nc("disabled",!e.isExpertMode),d.Eb(6),d.nc("dataSource",e.dataSource),d.Eb(13),d.nc("matHeaderRowDef",e.displayedColumns),d.Eb(1),d.nc("matRowDefColumns",e.displayedColumns),d.Eb(1),d.nc("length",e.resultsLength)("pageSize",20))},directives:[D.c,V.b,b.c,v.a,x.a,y.j,h.a,y.c,y.e,y.b,y.g,y.i,u.a,y.d,y.a,h.b,y.f,y.h],pipes:[r.d,i.e],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]}),t})();var L=o("jtHE"),_=o("rCpU"),H=o("VHTt"),N=o("0IaG"),Q=o("Wp6s"),A=o("kmnG"),$=o("qFsG"),z=o("XiUz");function J(t,e){if(1&t&&(d.Vb(0,"div",20),d.Vb(1,"div",21),d.Vb(2,"mat-form-field",1),d.Vb(3,"mat-label"),d.Ec(4),d.ic(5,"transloco"),d.Ub(),d.Qb(6,"input",22),d.ic(7,"transloco"),d.ic(8,"date"),d.Ub(),d.Ub(),d.Vb(9,"div",21),d.Vb(10,"mat-form-field",1),d.Vb(11,"mat-label"),d.Ec(12),d.ic(13,"transloco"),d.Ub(),d.Qb(14,"input",22),d.ic(15,"transloco"),d.ic(16,"date"),d.Ub(),d.Ub(),d.Ub()),2&t){const t=d.hc();d.Eb(4),d.Fc(d.jc(5,6,"CreatedAt")),d.Eb(2),d.oc("placeholder",d.jc(7,8,"CreatedAt")),d.nc("ngModel",d.kc(8,10,t.itemObject.CreatedAt,"yyyy-M-d HH:mm:ss")),d.Eb(6),d.Fc(d.jc(13,13,"ModifiedAt")),d.Eb(2),d.oc("placeholder",d.jc(15,15,"ModifiedAt")),d.nc("ngModel",d.kc(16,17,t.itemObject.ModifiedAt,"yyyy-M-d HH:mm:ss"))}}function K(t,e){1&t&&(d.Vb(0,"th",23),d.Ec(1,"ID"),d.Ub())}function X(t,e){if(1&t){const t=d.Wb();d.Vb(0,"td",24),d.Ec(1),d.Vb(2,"button",25),d.dc("click",function(){d.wc(t);const o=e.$implicit;return d.hc().onDeleteItem(o.RefID)}),d.ic(3,"transloco"),d.Vb(4,"mat-icon"),d.Ec(5,"remove_circle"),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Eb(1),d.Gc(" ",t.RefID," "),d.Eb(1),d.oc("matTooltip",d.jc(3,2,"Common.Delete"))}}function B(t,e){1&t&&(d.Vb(0,"th",23),d.Ec(1),d.ic(2,"transloco"),d.Ub()),2&t&&(d.Eb(1),d.Fc(d.jc(2,1,"Quiz.Date")))}function W(t,e){if(1&t&&(d.Vb(0,"td",24),d.Ec(1),d.ic(2,"date"),d.Ub()),2&t){const t=e.$implicit;d.Eb(1),d.Fc(d.kc(2,1,t.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function q(t,e){1&t&&d.Qb(0,"tr",26)}function Y(t,e){1&t&&d.Qb(0,"tr",27)}let Z=(()=>{class t{constructor(t,e,o,i){this.dialog=t,this.activateRoute=e,this.router=o,this.odataService=i,this.routerID=-1,this.displayedColumns=["refid","createdat"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.uiMode=_.b.Create,this.currentMode="",this.itemFormGroup=new c.f({idControl:new c.d({value:null,disabled:!0}),userControl:new c.d({value:this.odataService.currentUser,disabled:!0}),nameControl:new c.d,commentControl:new c.d})}get isDisplayMode(){return this.uiMode===_.b.Display}get isCreateMode(){return this.uiMode===_.b.Create}get isUpdateMode(){return this.uiMode===_.b.Update}get isEditable(){return this.uiMode===_.b.Create||this.uiMode===_.b.Update}ngOnInit(){this.destroyed$=new L.a(1),this.activateRoute.url.subscribe({next:t=>{t instanceof Array&&t.length>0&&("create"===t[0].path?(this.routerID=-1,this.uiMode=_.b.Create,this.currentMode="Common.Create"):"edit"===t[0].path?(this.routerID=+t[1].path,this.uiMode=_.b.Update,this.currentMode="Common.Change"):"display"===t[0].path&&(this.routerID=+t[1].path,this.uiMode=_.b.Display,this.currentMode="Common.Display")),-1!==this.routerID&&this.odataService.readUserCollection(this.routerID,this.uiMode===_.b.Update).subscribe({next:t=>{this.onSetHeaderData(t),this.itemObject=t,this.dataSource=t.Items},error:t=>{console.error(t)}})},error:t=>{console.error(t)}})}ngOnDestroy(){this.destroyed$&&(this.destroyed$.complete(),this.destroyed$=void 0)}onSetHeaderData(t){var e,o,i,c,n,a;null===(e=this.itemFormGroup.get("idControl"))||void 0===e||e.setValue(t.ID),null===(o=this.itemFormGroup.get("idControl"))||void 0===o||o.disable(),null===(i=this.itemFormGroup.get("userControl"))||void 0===i||i.setValue(this.odataService.currentUser),null===(c=this.itemFormGroup.get("userControl"))||void 0===c||c.disable(),null===(n=this.itemFormGroup.get("nameControl"))||void 0===n||n.setValue(t.Name),null===(a=this.itemFormGroup.get("commentControl"))||void 0===a||a.setValue(t.Comment),this.isDisplayMode?this.itemFormGroup.disable():this.itemFormGroup.markAsPristine()}onOK(){var t,e;if(this.isCreateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.error(this.itemFormGroup.errors));this.itemObject=new H.B,this.itemObject.Name=null===(t=this.itemFormGroup.get("nameControl"))||void 0===t?void 0:t.value,this.itemObject.Comment=null===(e=this.itemFormGroup.get("commentControl"))||void 0===e?void 0:e.value,this.itemObject.User=this.odataService.currentUser,this.odataService.createUserCollection(this.itemObject).subscribe({next:t=>{this.router.navigate(["/user-collection/display",t.ID])},error:t=>{console.error(t)}})}}onReturnToList(){this.router.navigate(["user-collection"])}onCreateNewOne(){this.router.navigate(["user-collection","create"])}onCreateItem(){}onDeleteItem(t){}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(N.b),d.Pb(b.a),d.Pb(b.b),d.Pb(w.b))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-user-collection-detail"]],decls:57,vars:31,consts:[[3,"formGroup"],["appearance","fill",1,"control-full-width"],["matInput","","type","text","placeholder","ID","formControlName","idControl"],["matInput","","type","text","placeholder","User","formControlName","userControl"],["matInput","","type","text","placeholder","Name","formControlName","nameControl"],["matInput","","type","text","placeholder","Comment","formControlName","commentControl"],["fxLayout","row","class","control-full-width",4,"ngIf"],[1,"toolbar-spacer"],["mat-icon-button","","color","primary",3,"matTooltip","click"],[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","",1,"example-table",3,"dataSource"],["matColumnDef","refid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdat"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],["fxLayout","row",1,"control-full-width"],["fxFlex","50"],["matInput","","type","text","disabled","",3,"placeholder","ngModel"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(d.Vb(0,"mat-card"),d.Vb(1,"mat-card-header"),d.Vb(2,"mat-card-title"),d.Ec(3),d.ic(4,"transloco"),d.Ub(),d.Vb(5,"mat-card-subtitle"),d.Ec(6),d.ic(7,"transloco"),d.Ub(),d.Ub(),d.Vb(8,"mat-card-content"),d.Vb(9,"form",0),d.Vb(10,"mat-form-field",1),d.Vb(11,"mat-label"),d.Ec(12,"#"),d.Ub(),d.Qb(13,"input",2),d.Ub(),d.Vb(14,"mat-form-field",1),d.Vb(15,"mat-label"),d.Ec(16,"User"),d.Ub(),d.Qb(17,"input",3),d.Ub(),d.Vb(18,"mat-form-field",1),d.Vb(19,"mat-label"),d.Ec(20),d.ic(21,"transloco"),d.Ub(),d.Qb(22,"input",4),d.Ub(),d.Vb(23,"mat-form-field",1),d.Vb(24,"mat-label"),d.Ec(25),d.ic(26,"transloco"),d.Ub(),d.Qb(27,"input",5),d.Ub(),d.Ub(),d.Dc(28,J,17,20,"div",6),d.Vb(29,"mat-toolbar-row"),d.Qb(30,"span",7),d.Vb(31,"section"),d.Vb(32,"button",8),d.dc("click",function(){return e.onCreateItem()}),d.ic(33,"transloco"),d.Vb(34,"mat-icon"),d.Ec(35,"add_circle"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(36,"div",9),d.Vb(37,"div",10),d.Vb(38,"table",11),d.Tb(39,12),d.Dc(40,K,2,0,"th",13),d.Dc(41,X,6,4,"td",14),d.Sb(),d.Tb(42,15),d.Dc(43,B,3,3,"th",13),d.Dc(44,W,3,4,"td",14),d.Sb(),d.Dc(45,q,1,0,"tr",16),d.Dc(46,Y,1,0,"tr",17),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(47,"mat-card-actions"),d.Vb(48,"button",18),d.dc("click",function(){return e.onOK()}),d.Ec(49),d.ic(50,"transloco"),d.Ub(),d.Vb(51,"button",19),d.dc("click",function(){return e.onReturnToList()}),d.Ec(52),d.ic(53,"transloco"),d.Ub(),d.Vb(54,"button",18),d.dc("click",function(){return e.onCreateNewOne()}),d.Ec(55),d.ic(56,"transloco"),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Eb(3),d.Fc(d.jc(4,15,"UserCollection")),d.Eb(3),d.Fc(d.jc(7,17,e.currentMode)),d.Eb(3),d.nc("formGroup",e.itemFormGroup),d.Eb(11),d.Fc(d.jc(21,19,"Common.Name")),d.Eb(5),d.Fc(d.jc(26,21,"Common.Comment")),d.Eb(3),d.nc("ngIf",!e.isCreateMode&&e.itemObject),d.Eb(4),d.oc("matTooltip",d.jc(33,23,"Common.Create")),d.Eb(6),d.nc("dataSource",e.dataSource),d.Eb(7),d.nc("matHeaderRowDef",e.displayedColumns),d.Eb(1),d.nc("matRowDefColumns",e.displayedColumns),d.Eb(2),d.nc("disabled",!(e.isEditable&&e.itemFormGroup.valid)),d.Eb(1),d.Fc(d.jc(50,25,"Save")),d.Eb(3),d.Fc(d.jc(53,27,"Common.ReturnToList")),d.Eb(2),d.nc("disabled",!e.isDisplayMode),d.Eb(1),d.Fc(d.jc(56,29,"Common.CreateAnotherOne")))},directives:[Q.a,Q.d,Q.g,Q.f,Q.c,c.u,c.n,c.g,A.c,A.g,$.b,c.c,c.m,c.e,i.m,D.c,V.b,v.a,x.a,y.j,y.c,y.e,y.b,y.g,y.i,Q.b,z.c,z.a,c.p,y.d,y.a,y.f,y.h],pipes:[r.d,i.e],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]}),t})();const tt=[{path:"",component:G},{path:"display/:id",component:Z},{path:"create",component:Z},{path:"edit/:id",component:Z}];let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({imports:[[b.e.forChild(tt)],b.e]}),t})(),ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({imports:[[i.c,c.h,c.r,l.a,s.a,n.b,a.b.forChild(),r.c,m.a,et]]}),t})()}}]);