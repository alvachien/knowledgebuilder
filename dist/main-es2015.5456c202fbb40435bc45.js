(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,s){e.exports=s("zUnb")},"3be6":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var i=s("fXoL");let r=(()=>{class e{transform(e,t){return e.filter(e=>void 0===t||e.group===t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Pb({name:"navItemFilter",type:e,pure:!0}),e})()},AytR:function(e,t,s){"use strict";s.d(t,"a",function(){return i});const i={production:!0,version:"0.1.90",mockdata:!1,basehref:"/math/",idServerUrl:"https://www.alvachien.com/idserver",loginCallbackUrl:"https://www.alvachien.com/math/logincallback.html",logoutCallbackUrl:"https://www.alvachien.com/math",loginSlientRevewCallbackUrl:"https://www.alvachien.com/math/silentrenewcallback.html",apiurlRoot:"https://www.alvachien.com/quizapi"}},BETK:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return QuizSection}),__webpack_require__.d(__webpack_exports__,"e",function(){return Quiz}),__webpack_require__.d(__webpack_exports__,"a",function(){return AdditionQuizItem}),__webpack_require__.d(__webpack_exports__,"g",function(){return SubtractionQuizItem}),__webpack_require__.d(__webpack_exports__,"d",function(){return MultiplicationQuizItem}),__webpack_require__.d(__webpack_exports__,"b",function(){return DivisionQuizItem}),__webpack_require__.d(__webpack_exports__,"c",function(){return MixedOperationQuizItem});class StorableObject{storeToString(){const e=this.storeToJsonObject();return JSON&&JSON.stringify(e)}restoreFromString(e){const t=JSON.parse(e);this.restoreFromJsonObject(t),this.canCalcResult()&&this.calcResult()}storeToJsonObject(){return{}}restoreFromJsonObject(e){}canCalcResult(){return!0}calcResult(){}}class QuizSection{constructor(e,t){this.itemCount=0,this.failedItemCount=0,this.timeSpent=0,this.isStarted=!1,this.sectionID=e,this.itemCount=t,this.isStarted=!1}get SectionID(){return this.sectionID}get ItemsCount(){return this.itemCount}get FailedItemsCount(){return this.failedItemCount}get IsStarted(){return this.isStarted}get TimeSpent(){return this.timeSpent}set TimeSpent(e){this.timeSpent=e}Start(){this.timeStarted=new Date}Complete(e){this.timeSpent=((new Date).getTime()-this.timeStarted.getTime())/1e3,this.isStarted=!1,this.failedItemCount=e||0}}class Quiz{constructor(e){this.elderSections=[],this.curSectionID=0,this.quizID=e,this.curSection=null}get QuizID(){return this.quizID}get ElderSections(){return this.elderSections}get ActiveSection(){return this.curSection}get NextSectionID(){return this.curSectionID+1}startNewSection(e){if(null!=this.curSection)throw"An active section not yet completed";if(e.SectionID<=this.curSectionID)throw"Invalid Section ID";this.curSectionID=e.SectionID,this.curSection=e,this.curSection.Start()}completeActionSection(e){if(!this.curSection)throw"Active section not available";this.curSection.Complete(e),this.elderSections.push(this.curSection),this.curSection=null}}class QuizItem extends StorableObject{constructor(){super(),this._index=0}get QuizIndex(){return this._index}set QuizIndex(e){this._index=e}IsCorrect(){return!!this.canCalcResult()}getQuizFormat(){return""}getCorrectFormula(){return""}getInputtedForumla(){return""}storeToJsonObject(){return super.storeToJsonObject()}restoreFromJsonObject(e){super.restoreFromJsonObject(e)}canCalcResult(){return!0}calcResult(){}}class PrimarySchoolMathQuizItem extends QuizItem{IsCorrect(){return!!super.IsCorrect()}getQuizFormat(){return super.getQuizFormat()}getCorrectFormula(){return super.getCorrectFormula()}getInputtedForumla(){return super.getInputtedForumla()}storeToJsonObject(){return super.storeToJsonObject()}restoreFromJsonObject(e){super.restoreFromJsonObject(e)}canCalcResult(){return!!super.canCalcResult()}calcResult(){}}class PrimarySchoolMathFAOQuizItem extends PrimarySchoolMathQuizItem{constructor(e,t,s){super(),this._leftNumber=0,this._rightNumber=0,this._decimalPlaces=s||0,e&&(this._leftNumber=this._decimalPlaces>0?parseFloat(e.toFixed(this._decimalPlaces)):Math.round(e)),t&&(this._rightNumber=this._decimalPlaces>0?parseFloat(t.toFixed(this._decimalPlaces)):Math.round(t)),this.canCalcResult()&&this.calcResult()}get LeftNumber(){return this._leftNumber}get RightNumber(){return this._rightNumber}get decimalPlaces(){return this._decimalPlaces}IsCorrect(){return!!super.IsCorrect()}getQuizFormat(){return super.getQuizFormat()}getCorrectFormula(){return super.getCorrectFormula()}getInputtedForumla(){return super.getInputtedForumla()}storeToJsonObject(){const e=super.storeToJsonObject();return e.leftNumber=this._leftNumber,e.rightNumber=this._rightNumber,e.decimalPlaces=this.decimalPlaces,e}restoreFromJsonObject(e){e&&e.leftNumber&&(this._leftNumber=+e.leftNumber),e&&e.rightNumber&&(this._rightNumber=+e.rightNumber),this._decimalPlaces=e&&e.decimalPlaces?+e.decimalPlaces:0}canCalcResult(){return!!super.canCalcResult()&&void 0!==this._leftNumber&&void 0!==this._rightNumber}calcResult(){super.calcResult()}}class PrimarySchoolMathQuizSection{constructor(e,t){this._itemCount=0,this._itemFailed=0,this._startPoint=0,this._timeSpent=0,this._sectionNumber=e,this.ItemsCount=t}get SectionNumber(){return this._sectionNumber}get ItemsCount(){return this._itemCount}set ItemsCount(e){this._itemCount=e}get ItemsFailed(){return this._itemFailed}set ItemsFailed(e){this._itemFailed=e}get TimeSpent(){return this._timeSpent}SectionStart(){this._startPoint=(new Date).getTime()}SectionComplete(){const e=(new Date).getTime();this._timeSpent=Math.round((e-this._startPoint)/1e3)}getSummaryInfo(){let e="BATCH#"+this.SectionNumber.toString()+";";return e=e+" total items: "+this.ItemsCount.toString()+"; "+(this.ItemsFailed>0?" Failed : "+this.ItemsFailed.toString():""),e=e+=" Time spent: "+this.TimeSpent.toString()+" s",e}}class AdditionQuizItem extends PrimarySchoolMathFAOQuizItem{constructor(e,t,s){super(e,t,s)}get Result(){return this._result}get InputtedResult(){return this._inputtedResult}set InputtedResult(e){this._inputtedResult=e}IsCorrect(){return!!super.IsCorrect()&&null!=this._inputtedResult&&this._inputtedResult===this._result}getCorrectFormula(){return this.LeftNumber.toString()+" + "+this.RightNumber.toString()+" = "+this.Result.toString()}getInputtedForumla(){return this.LeftNumber.toString()+" + "+this.RightNumber.toString()+" = "+(null!=this.InputtedResult?this.InputtedResult.toString():"")}getQuizFormat(){return super.getQuizFormat()+this.LeftNumber.toString()+" + "+this.RightNumber.toString()+" = "}storeToJsonObject(){return super.storeToJsonObject()}restoreFromJsonObject(e){super.restoreFromJsonObject(e)}calcResult(){super.calcResult(),this._result=this.LeftNumber+this.RightNumber,this._result=0===this._decimalPlaces?Math.round(this._result):parseFloat(this._result.toFixed(this._decimalPlaces))}}class SubtractionQuizItem extends PrimarySchoolMathFAOQuizItem{constructor(e,t,s){super(e,t,s)}get Result(){return this._result}get InputtedResult(){return this._inputtedResult}set InputtedResult(e){this._inputtedResult=e}IsCorrect(){return!!super.IsCorrect()&&null!=this._inputtedResult&&this._inputtedResult===this._result}getCorrectFormula(){return this.LeftNumber.toString()+" - "+this.RightNumber.toString()+" = "+this.Result.toString()}getInputtedForumla(){return this.LeftNumber.toString()+" - "+this.RightNumber.toString()+" = "+(null!=this.InputtedResult?this.InputtedResult.toString():"")}getQuizFormat(){return super.getQuizFormat()+this.LeftNumber.toString()+" - "+this.RightNumber.toString()+" = "}storeToJsonObject(){return super.storeToJsonObject()}restoreFromJsonObject(e){super.restoreFromJsonObject(e)}calcResult(){super.calcResult(),this._result=this.LeftNumber-this.RightNumber,this._result=0===this._decimalPlaces?Math.round(this._result):parseFloat(this._result.toFixed(this._decimalPlaces))}}class MultiplicationQuizItem extends PrimarySchoolMathFAOQuizItem{constructor(e,t,s){super(e,t,s)}get Result(){return this._result}get InputtedResult(){return this._inputtedResult}set InputtedResult(e){this._inputtedResult=e}IsCorrect(){return!!super.IsCorrect()&&null!=this._inputtedResult&&this._inputtedResult===this._result}getCorrectFormula(){return this.LeftNumber.toString()+" \xd7 "+this.RightNumber.toString()+" = "+this.Result.toString()}getInputtedForumla(){return this.LeftNumber.toString()+" \xd7 "+this.RightNumber.toString()+" = "+(null!=this.InputtedResult?this.InputtedResult.toString():"")}getQuizFormat(){return super.getQuizFormat()+this.LeftNumber.toString()+" \xd7 "+this.RightNumber.toString()+" = "}storeToJsonObject(){return super.storeToJsonObject()}restoreFromJsonObject(e){super.restoreFromJsonObject(e)}calcResult(){super.calcResult(),this._result=this.LeftNumber*this.RightNumber,this._result=0===this._decimalPlaces?Math.round(this._result):parseFloat(this._result.toFixed(this._decimalPlaces))}}class DivisionQuizItem extends PrimarySchoolMathFAOQuizItem{constructor(e,t,s){super(e,t,s)}get Dividend(){return this.LeftNumber}get Divisor(){return this.RightNumber}get Quotient(){return this._quotient}get Remainder(){return this._remainder}get InputtedQuotient(){return this._inputtedQuotient}set InputtedQuotient(e){this._inputtedQuotient=e}get InputtedRemainder(){return this._inputtedRemainder}set InputtedRemainder(e){this._inputtedRemainder=e}IsCorrect(){const e=super.IsCorrect();return e?null!=this._inputtedQuotient&&null!==this._inputtedRemainder&&null!==this._inputtedRemainder&&this._inputtedQuotient===this._quotient&&this._inputtedRemainder===this._remainder:e}getCorrectFormula(){return this.LeftNumber.toString()+" \xf7 "+this.RightNumber.toString()+" = "+this.Quotient.toString()+(0===this.Remainder?"":"... "+this.Remainder.toString())}getInputtedForumla(){return this.LeftNumber.toString()+" \xf7 "+this.RightNumber.toString()+" = "+(null!=this.InputtedQuotient?this.InputtedQuotient.toString():"")+(null!=this.InputtedRemainder?" ... "+this.InputtedRemainder.toString():"")}getQuizFormat(){return super.getQuizFormat()+this.LeftNumber.toString()+" \xf7 "+this.RightNumber.toString()+" = "}storeToJsonObject(){return super.storeToJsonObject()}restoreFromJsonObject(e){super.restoreFromJsonObject(e)}canCalcResult(){return!!super.canCalcResult()&&0!==this._rightNumber}calcResult(){super.calcResult(),this._quotient=this.LeftNumber/this.RightNumber,this._remainder=this.LeftNumber%this.RightNumber,this._quotient=this._decimalPlaces>0?parseFloat(this._quotient.toFixed(this._decimalPlaces)):Math.floor(this._quotient)}}class MixedOperationQuizItem extends PrimarySchoolMathQuizItem{constructor(e){super(),e&&(this._formula=e),this.canCalcResult()&&this.calcResult()}get Formula(){return this._formula}get Result(){return this._result}get decimalPlace(){return this._decimalPlace}get InputtedResult(){return this._inputtedResult}set InputtedResult(e){this._inputtedResult=e}set decimalPlace(e){this._decimalPlace=e}IsCorrect(){return!!super.IsCorrect()&&this._result===this._inputtedResult}getCorrectFormula(){return this.getQuizFormat()+this.Result.toString()}getInputtedForumla(){return this.getQuizFormat()+this.InputtedResult.toString()}getQuizFormat(){return super.getQuizFormat()+this._formula.replace("*","\xd7").replace("/","\xf7")+" = "}storeToJsonObject(){const e=super.storeToJsonObject();return e.forumla=this._formula,e}restoreFromJsonObject(e){super.restoreFromJsonObject(e),e&&e.forumla&&(this._formula=e.formula)}canCalcResult(){return!!super.canCalcResult()&&!(void 0===this._formula||this._formula.length<=0)}calcResult(){super.calcResult(),this._result=eval(this._formula),this._result=this._decimalPlace>0?parseFloat(this._result.toFixed(this._decimalPlace)):Math.floor(this._result)}}},NUjs:function(e,t,s){"use strict";s.d(t,"c",function(){return i}),s.d(t,"e",function(){return r}),s.d(t,"f",function(){return a}),s.d(t,"a",function(){return n}),s.d(t,"b",function(){return o}),s.d(t,"d",function(){return c});var i=function(e){return e[e.Question=0]="Question",e[e.SingleChoice=1]="SingleChoice",e[e.MultipleChoice=2]="MultipleChoice",e[e.ShortAnswer=3]="ShortAnswer",e[e.EssayQuestions=4]="EssayQuestions",e}({});const r=e=>{let t="";switch(e){case i.SingleChoice:t="ExerciseItemType.SingleChoice";break;case i.MultipleChoice:t="ExerciseItemType.MultipleChoices";break;case i.ShortAnswer:t="ExerciseItemType.ShortAnswer";break;case i.ShortAnswer:t="ExerciseItemType.EssayQuestion";break;case i.Question:default:t="ExerciseItemType.Question"}return t},a=()=>{const e=[];for(const t in i)Number.isNaN(+t)||e.push({value:+t,i18nterm:r(+t),displaystring:""});return e};class n{constructor(){this._tags=[],this.ID=-1,this.Content="",this.ItemType=i.Question}get KnowledgeItemID(){return this._knowledgeItemID}set KnowledgeItemID(e){this._knowledgeItemID=e}get CreatedAt(){return this._createdAt}set CreatedAt(e){this._createdAt=e}get ModifiedAt(){return this._modifiedAt}set ModifiedAt(e){this._modifiedAt=e}get Tags(){return this._tags}set Tags(e){this._tags=e.slice()}get Answer(){return this._answer}set Answer(e){this._answer=e}parseData(e){if(e&&e.ID&&(this.ID=+e.ID),e&&e.KnowledgeItemID&&(this.KnowledgeItemID=e.KnowledgeItemID),e&&e.ExerciseType&&(this.ItemType=isNaN(+e.ExerciseType)?i[e.ExerciseType]:+e.ExerciseType),e&&e.Content&&(this.Content=e.Content),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt)),e&&e.ModifiedAt&&(this.ModifiedAt=new Date(e.ModifiedAt)),e&&e.Answer&&(this.Answer=e.Answer.Content),e&&e.Tags){const t=e.Tags;this._tags=[],t.forEach(e=>{this._tags.push(e.TagTerm)})}}generateString(e){const t={Content:this.Content,ExerciseType:i[this.ItemType]};return e&&(t.ID=this.ID),this.KnowledgeItemID&&(t.KnowledgeItemID=this.KnowledgeItemID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),this.ModifiedAt&&(t.ModifiedAt=this.ModifiedAt.toISOString().slice(0,10)),this.Answer&&(t.Answer={Content:this.Answer}),this.Tags&&(t.Tags=[],this.Tags.forEach(e=>{t.Tags.push({TagTerm:e})})),JSON&&JSON.stringify(t)}}class o{constructor(){this.ID=-1,this.Content="",this.ItemType=i.Question,this.Tags=""}parseData(e){e&&e.ID&&(this.ID=e.ID),e&&e.Content&&(this.Content=e.Content),e&&e.ExerciseType&&(this.ItemType=isNaN(+e.ExerciseType)?i[e.ExerciseType]:+e.ExerciseType),e&&e.Tags&&(this.Tags=e.Tags)}}class c{constructor(){this.ID=-1,this.User="",this.RefID=-1,this.Score=0}parseData(e){e&&e.ID&&(this.ID=e.ID),e&&e.User&&(this.User=e.User),e&&e.RefID&&(this.RefID=e.RefID),e&&e.Score&&(this.Score=e.Score),e&&e.TakenDate&&(this.TakenDate=new Date(e.TakenDate))}writeJSONString(e){const t={User:this.User,RefID:this.RefID,Score:this.Score};return e&&(t.ID=this.ID),JSON&&JSON.stringify(t)}}},RnhZ:function(e,t,s){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id="RnhZ"},SNjr:function(e,t,s){"use strict";s.d(t,"f",function(){return i}),s.d(t,"a",function(){return r}),s.d(t,"c",function(){return a}),s.d(t,"d",function(){return n}),s.d(t,"b",function(){return o}),s.d(t,"e",function(){return c});const i="YYYY-MM-DD";var r=function(e){return e[e.home=0]="home",e[e.ps_basic=1]="ps_basic",e[e.ps_extend=2]="ps_extend",e[e.games=3]="games",e[e.award=4]="award",e[e.report=5]="report",e[e.help=6]="help",e[e.knowledge=7]="knowledge",e[e.others=10]="others",e}({}),a=function(e){return e[e.Equal=1]="Equal",e[e.NotEqual=2]="NotEqual",e[e.Between=3]="Between",e[e.LargerThan=4]="LargerThan",e[e.LargerEqual=5]="LargerEqual",e[e.LessThan=6]="LessThan",e[e.LessEqual=7]="LessEqual",e[e.Like=8]="Like",e}({}),n=function(e){return e[e.number=1]="number",e[e.string=2]="string",e[e.date=3]="date",e[e.boolean=4]="boolean",e}({});class o{constructor(){this.fieldName="",this.operator=a.Equal,this.valueType=n.string,this.value=[void 0,void 0]}}class c{static getGeneralFilterOperatorDisplayStrings(){const e=[];for(const t in a)Number.isNaN(+t)||e.push({value:+t,i18nterm:c.getGeneralFilterOperatorDisplayString(+t),displaystring:""});return e}static getGeneralFilterOperatorDisplayString(e){switch(e){case a.Between:return"Sys.Operator.Between";case a.Equal:return"Sys.Operator.Equal";case a.LargerEqual:return"Sys.Operator.LargerEqual";case a.LargerThan:return"Sys.Operator.LargerThan";case a.LessEqual:return"Sys.Operator.LessEqual";case a.LessThan:return"Sys.Operator.LessThan";case a.NotEqual:return"Sys.Operator.NotEqual";case a.Like:return"Sys.Operator.Like";default:return""}}}},VHTt:function(e,t,s){"use strict";s.d(t,"t",function(){return i}),s.d(t,"L",function(){return r}),s.d(t,"M",function(){return a}),s.d(t,"s",function(){return n}),s.d(t,"K",function(){return o.e}),s.d(t,"k",function(){return o.a}),s.d(t,"l",function(){return o.b}),s.d(t,"m",function(){return o.d}),s.d(t,"D",function(){return c}),s.d(t,"N",function(){return u}),s.d(t,"B",function(){return l}),s.d(t,"C",function(){return h}),s.d(t,"w",function(){return d}),s.d(t,"O",function(){return p.f}),s.d(t,"b",function(){return p.a}),s.d(t,"o",function(){return p.c}),s.d(t,"p",function(){return p.d}),s.d(t,"n",function(){return p.b}),s.d(t,"E",function(){return p.e}),s.d(t,"y",function(){return m.f}),s.d(t,"x",function(){return m.e}),s.d(t,"a",function(){return m.a}),s.d(t,"z",function(){return m.g}),s.d(t,"v",function(){return m.d}),s.d(t,"j",function(){return m.b}),s.d(t,"u",function(){return m.c}),s.d(t,"A",function(){return g}),s.d(t,"I",function(){return I}),s.d(t,"q",function(){return _}),s.d(t,"h",function(){return v.f}),s.d(t,"J",function(){return v.j}),s.d(t,"g",function(){return v.e}),s.d(t,"f",function(){return v.d}),s.d(t,"e",function(){return v.c}),s.d(t,"i",function(){return v.h}),s.d(t,"c",function(){return v.a}),s.d(t,"d",function(){return v.b}),s.d(t,"G",function(){return k}),s.d(t,"H",function(){return O}),s.d(t,"r",function(){return R}),s.d(t,"F",function(){return E});var i=function(e){return e[e.Concept=0]="Concept",e[e.Formula=1]="Formula",e}({});const r=e=>{let t="";switch(e){case i.Formula:t="KnowledgeItemCategory.Formula";break;case i.Concept:default:t="KnowledgeItemCategory.Concept"}return t},a=()=>{const e=[];for(const t in i)Number.isNaN(+t)||e.push({value:+t,i18nterm:r(+t),displaystring:""});return e};class n{constructor(){this._tags=[]}get ID(){return this._id}set ID(e){this._id=e}get Title(){return this._title}set Title(e){this._title=e}get Content(){return this._content}set Content(e){this._content=e}get ItemCategory(){return this._itemCtgy}set ItemCategory(e){this._itemCtgy=e}get Tags(){return this._tags}set Tags(e){this._tags=e.slice()}get CreatedAt(){return this._createdAt}set CreatedAt(e){this._createdAt=e}get ModifiedAt(){return this._modifiedAt}set ModifiedAt(e){this._modifiedAt=e}parseData(e){if(e&&e.ID&&(this.ID=+e.ID),e&&e.Category&&(this.ItemCategory=isNaN(+e.Category)?i[e.Category]:+e.Category),e&&e.Title&&(this._title=e.Title),e&&e.Content&&(this.Content=e.Content),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt)),e&&e.ModifiedAt&&(this.ModifiedAt=new Date(e.ModifiedAt)),e&&e.Tags){const t=e.Tags;this._tags=[],t.forEach(e=>{this._tags.push(e.TagTerm)})}}generateString(e){let t={Content:this._content,Title:this._title,Category:i[this.ItemCategory]};return e&&(t.ID=this.ID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString()),this.ModifiedAt&&(t.ModifiedAt=this.ModifiedAt.toISOString()),this.Tags&&(t.Tags=[],this.Tags.forEach(e=>{t.Tags.push({TagTerm:e})})),JSON&&JSON.stringify(t)}}var o=s("NUjs"),c=function(e){return e[e.KnowledgeItem=1]="KnowledgeItem",e[e.ExerciseItem=2]="ExerciseItem",e}({});const u=e=>{let t="";switch(e){case c.ExerciseItem:t="ExerciseItem";break;default:t="KnowledgeItem"}return t};class l{parseData(e){e&&e.TagTerm&&(this.TagTerm=e.TagTerm),e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?c[e.RefType]:+e.RefType),e&&e.RefID&&(this.RefID=e.RefID)}}class h{parseData(e){e&&e.Tag&&(this.TagTerm=e.Tag),e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?c[e.RefType]:e.RefType),e&&e.Count&&(this.Count=e.Count)}}class d{parseData(e){e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?c[e.RefType]:+e.RefType),e&&e.Count&&(this.Count=e.Count)}}var p=s("SNjr"),m=s("BETK");const g=9;class b{constructor(){this._dataCells=[];for(let e=0;e<3;e++)this._dataCells.push(0)}getCell(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataCells[e]}setCell(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataCells[e]=t}toString(){return this._dataCells.join(" ")}print2Log(){console.log(this.toString())}}class f{constructor(){this._dataRows=[];for(let e=0;e<3;e++){const e=new b;this._dataRows.push(e)}}static generateValidOne(){const e=new f,t=[];for(let s=0;s<g;s++)t.push(0);for(let s=0;s<g;s++){let e=Math.round(Math.random()*(g-1)+1);if(0===t[e])t[e]=s+1;else{for(e=0;e<g;){if(0===t[e]){t[e]=s+1;break}e++}if(e>g)throw new Error("Failed to initialize a 3*3!")}}for(let s=0;s<g;s++)e.setCell(Math.floor(s/3),Math.floor(s%3),t[s]);return e}getRow(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e]}setRow(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(null==t)throw new Error("Unit row is not assigned");this._dataRows[e]=t}getCell(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e].getCell(t)}setCell(e,t,s){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataRows[e].setCell(t,s)}swapRows(e,t){if(e<0||e>=3||t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");const s=new f;for(let i=0;i<3;i++)for(let r=0;r<3;r++)s.setCell(i===e?t:i===t?e:i,r,this.getCell(i,r));return s}swapColumns(e,t){if(e<0||e>=3||t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");const s=new f;for(let i=0;i<3;i++)for(let r=0;r<3;r++)s.setCell(i,r===e?t:r===t?e:r,this.getCell(i,r));return s}scrollUp(){return this.swapRows(0,1).swapRows(1,2)}scrollDown(){return this.swapRows(1,2).swapRows(0,1)}scrollLeft(){return this.swapColumns(0,1).swapColumns(1,2)}scrollRight(){return this.swapColumns(1,2).swapColumns(0,1)}print2Log(){for(let e=0;e<3;e++)this._dataRows[e].print2Log()}}class w{constructor(){this._dataCells=[];for(let e=0;e<3;e++)this._dataCells.push(new f)}getCell(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataCells[e]}setCell(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataCells[e]=t}}class j{constructor(){this._dataRows=[];for(let e=0;e<3;e++){const e=new w;this._dataRows.push(e)}}getRow(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e]}setRow(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(null==t)throw new Error("Unit row is not assigned");this._dataRows[e]=t}getUnitCell(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e].getCell(t)}setUnitCell(e,t,s){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataRows[e].setCell(t,s)}getDataCells(){const e=[];for(let t=0;t<g;t++){const t=[];for(let e=0;e<g;e++)t.push(0);e.push(t)}for(let t=0;t<3;t++)for(let s=0;s<3;s++){const i=this._dataRows[t].getCell(s);for(let r=0;r<3;r++){const a=3*t+r;for(let t=0;t<3;t++)e[a][3*s+t]=i.getCell(r,t)}}return e}print2Log(){const e=[];for(let t=0;t<g;t++)e.push("");for(let t=0;t<3;t++)for(let s=0;s<3;s++){const i=this._dataRows[t].getCell(s);for(let s=0;s<3;s++)e[3*t+s]+=i.getRow(s).toString()+" "}for(let t=0;t<g;t++)console.log(e[t])}print2String(){const e=[];for(let t=0;t<g;t++)e.push("");for(let t=0;t<3;t++)for(let s=0;s<3;s++){const i=this._dataRows[t].getCell(s);for(let s=0;s<3;s++)e[3*t+s]+=i.getRow(s).toString()+" "}return e.join(";")}}function I(){const e=new j,t=f.generateValidOne(),s=t.scrollUp(),i=t.scrollDown(),r=t.scrollRight(),a=t.scrollLeft(),n=i.scrollRight(),o=i.scrollLeft(),c=s.scrollRight(),u=s.scrollLeft();return e.setUnitCell(0,0,n),e.setUnitCell(0,1,r),e.setUnitCell(0,2,c),e.setUnitCell(1,0,i),e.setUnitCell(1,1,t),e.setUnitCell(1,2,s),e.setUnitCell(2,0,o),e.setUnitCell(2,1,a),e.setUnitCell(2,2,u),e}var y=s("rCpU");class S{constructor(){this.playerinput=void 0}}class A{}var x=function(e){return e[e.row=0]="row",e[e.column=1]="column",e[e.slash=2]="slash",e[e.backslash=4]="backslash",e}({});class C extends A{}class _{constructor(){this._playAnalysis=[],this._AIAnalysis=[],this._arSlashPos=[],this._arBackSlashPos=[],this._queuePositions=[],this._dimension=20,this._inited=!1,this._finished=!1}get Dimension(){return this._dimension}set Dimension(e){this._dimension=e}get Finished(){return this._finished}get AIAnalysisResult(){return this._AIAnalysis}get PlayerAnalysisResult(){return this._playAnalysis}get QueuePositions(){return this._queuePositions}init(){if(this._dimension<=0||this._dimension>50)throw new Error("Invalid dimension");this._finished=!1,this.cells=new Array;for(let t=0;t<this._dimension;t++){const e=new Array;for(let t=0;t<this._dimension;t++)e.push(new S);this.cells.push(e)}const e=new y.a(this._dimension,this._dimension);this._arSlashPos=e.getSlashOutputPos(),this._arBackSlashPos=e.getBackSlashOutputPos(),this._AIAnalysis=[],this._playAnalysis=[],this._queuePositions=[],this._inited=!0}isCellHasValue(e,t){if(!this._inited)throw new Error("Not initialed");if(e<0||e>=this._dimension||t<0||t>=this._dimension)throw new Error("Invalid row or column");return void 0!==this.cells[e][t].playerinput}setCellValue(e,t,s){if(!this._inited)throw new Error("Not initialed");if(this._finished)throw new Error("Already finished");if(e<0||e>=this._dimension||t<0||t>=this._dimension)throw new Error("Invalid row or column");this.cells[e][t].playerinput=s,this._queuePositions.push({row:e,column:t}),this.checkWinner(e,t,s)}workoutNextCellAIPosition(){if(this._finished)throw new Error("Game is over!");const e={row:0,column:0};if(this._queuePositions.length<=0)return e.row=Math.round(Math.random()*this._dimension/2),e.column=Math.round(Math.random()*this._dimension/2),e;if(1===this._queuePositions.length)return e.row=this._queuePositions[0].row,e.column=this._queuePositions[0].column+1<this._dimension?this._queuePositions[0].column+1:this._queuePositions[0].column-1,e;this.buildUpAIAnalyis();let t=-1;this._playAnalysis.forEach((e,s)=>{-1!==t||!0===e.headsealed&&!0===e.tailsealed?this._playAnalysis[t].risklevel<e.risklevel&&(!0!==e.headsealed||!0!==e.tailsealed)&&(t=s):t=s});let s=-1;if(this._AIAnalysis.forEach((e,t)=>{-1!==s||!0===e.headsealed&&!0===e.tailsealed?this._playAnalysis[s].risklevel<e.risklevel&&(!0!==e.headsealed||!0!==e.tailsealed)&&(s=t):s=t}),this._AIAnalysis[s].risklevel<this._playAnalysis[t].risklevel&&(4===this._playAnalysis[t].risklevel||3===this._playAnalysis[t].risklevel&&!this._playAnalysis[t].headsealed&&!this._playAnalysis[t].tailsealed)){if(this._playAnalysis[t].headsealed)switch(this._playAnalysis[t].direction){case x.row:e.row=this._playAnalysis[t].relid,e.column=this._playAnalysis[t].endidx+1;break;case x.column:e.row=this._playAnalysis[t].endidx+1,e.column=this._playAnalysis[t].relid;break;case x.slash:e.row=this._arSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].endidx+1].row,e.column=this._arSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].endidx+1].column;break;case x.backslash:e.row=this._arBackSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].endidx+1].row,e.column=this._arBackSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].endidx+1].column;break;default:throw new Error("Unsupported type!")}else switch(this._playAnalysis[t].direction){case x.row:e.row=this._playAnalysis[t].relid,e.column=this._playAnalysis[t].startidx-1;break;case x.column:e.row=this._playAnalysis[t].startidx-1,e.column=this._playAnalysis[t].relid;break;case x.slash:e.row=this._arSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].startidx-1].row,e.column=this._arSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].startidx-1].column;break;case x.backslash:e.row=this._arBackSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].startidx-1].row,e.column=this._arBackSlashPos[this._playAnalysis[t].relid][this._playAnalysis[t].startidx-1].column;break;default:throw new Error("Unsupported type!")}return e}if(this._AIAnalysis[s].headsealed)switch(this._AIAnalysis[s].direction){case x.row:e.row=this._AIAnalysis[s].relid,e.column=this._AIAnalysis[s].endidx+1;break;case x.column:e.row=this._AIAnalysis[s].endidx+1,e.column=this._AIAnalysis[s].relid;break;case x.slash:e.row=this._arSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].endidx+1].row,e.column=this._arSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].endidx+1].column;break;case x.backslash:e.row=this._arBackSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].endidx+1].row,e.column=this._arBackSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].endidx+1].column;break;default:throw new Error("Unsupported type!")}else switch(this._AIAnalysis[s].direction){case x.row:e.row=this._AIAnalysis[s].relid,e.column=this._AIAnalysis[s].startidx-1;break;case x.column:e.row=this._AIAnalysis[s].startidx-1,e.column=this._AIAnalysis[s].relid;break;case x.slash:e.row=this._arSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].startidx-1].row,e.column=this._arSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].startidx-1].column;break;case x.backslash:e.row=this._arBackSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].startidx-1].row,e.column=this._arBackSlashPos[this._AIAnalysis[s].relid][this._AIAnalysis[s].startidx-1].column;break;default:throw new Error("Unsupported type!")}return e}buildUpAIAnalyis(){this._playAnalysis=[],this._AIAnalysis=[];for(let e=0;e<this._dimension;e++){const t=this.buildUpAnalysisRow(this.cells[e]);for(const s of t)if(!0!==s.headsealed||!0!==s.tailsealed)if(!0===s.userinput){const t=new C;t.direction=x.row,t.relid=e,t.risklevel=s.endidx+1-s.startidx,t.startidx=s.startidx,t.endidx=s.endidx,t.headsealed=s.headsealed,t.tailsealed=s.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=s.userinput,this._playAnalysis.push(t)}else if(!1===s.userinput){const t=new C;t.direction=x.row,t.relid=e,t.risklevel=s.endidx+1-s.startidx,t.startidx=s.startidx,t.endidx=s.endidx,t.headsealed=s.headsealed,t.tailsealed=s.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=s.userinput,this._AIAnalysis.push(t)}}for(let e=0;e<this._dimension;e++){const t=[];for(let i=0;i<this._dimension;i++)t.push(this.cells[i][e]);const s=this.buildUpAnalysisRow(t);for(const i of s)if(!0!==i.headsealed||!0!==i.tailsealed)if(!0===i.userinput){const t=new C;t.direction=x.column,t.relid=e,t.risklevel=i.endidx+1-i.startidx,t.startidx=i.startidx,t.endidx=i.endidx,t.headsealed=i.headsealed,t.tailsealed=i.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=i.userinput,this._playAnalysis.push(t)}else if(!1===i.userinput){const t=new C;t.direction=x.column,t.relid=e,t.risklevel=i.endidx+1-i.startidx,t.startidx=i.startidx,t.endidx=i.endidx,t.headsealed=i.headsealed,t.tailsealed=i.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=i.userinput,this._AIAnalysis.push(t)}}for(let e=0;e<this._arSlashPos.length;e++){const t=[];for(const i of this._arSlashPos[e])t.push(this.cells[i.row][i.column]);const s=this.buildUpAnalysisRow(t);for(const i of s)if(!0!==i.headsealed||!0!==i.tailsealed)if(!0===i.userinput){const t=new C;t.direction=x.slash,t.relid=e,t.risklevel=i.endidx+1-i.startidx,t.startidx=i.startidx,t.endidx=i.endidx,t.headsealed=i.headsealed,t.tailsealed=i.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=i.userinput,this._playAnalysis.push(t)}else if(!1===i.userinput){const t=new C;t.direction=x.slash,t.relid=e,t.risklevel=i.endidx+1-i.startidx,t.startidx=i.startidx,t.endidx=i.endidx,t.headsealed=i.headsealed,t.tailsealed=i.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=i.userinput,this._AIAnalysis.push(t)}}for(let e=0;e<this._arBackSlashPos.length;e++){const t=[];for(const i of this._arBackSlashPos[e])t.push(this.cells[i.row][i.column]);const s=this.buildUpAnalysisRow(t);for(const i of s)if(!0===i.userinput){const t=new C;t.direction=x.backslash,t.relid=e,t.risklevel=i.endidx+1-i.startidx,t.startidx=i.startidx,t.endidx=i.endidx,t.headsealed=i.headsealed,t.tailsealed=i.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=i.userinput,this._playAnalysis.push(t)}else if(!1===i.userinput){const t=new C;t.direction=x.backslash,t.relid=e,t.risklevel=i.endidx+1-i.startidx,t.startidx=i.startidx,t.endidx=i.endidx,t.headsealed=i.headsealed,t.tailsealed=i.tailsealed,t.risklevel=t.endidx+1-t.startidx,t.userinput=i.userinput,this._AIAnalysis.push(t)}}}buildUpAnalysisRow(e){let t=-1,s=void 0;const i=[];for(let r=0;r<e.length;r++)if(!0===e[r].playerinput){if(-1===t)t=r,s=!0;else if(s!==e[r].playerinput){if(void 0!==s){const a=new A;a.startidx=t,a.endidx=r-1,a.userinput=s,0===t?a.headsealed=!0:void 0===e[t-1].playerinput?a.headsealed=!1:e[t-1].playerinput!==s&&(a.headsealed=!0),a.tailsealed=!0,i.push(a)}t=r,s=e[r].playerinput}}else if(!1===e[r].playerinput){if(-1===t)t=r,s=!1;else if(s!==e[r].playerinput){if(void 0!==s){const a=new A;a.startidx=t,a.endidx=r-1,a.userinput=s,0===t?a.headsealed=!0:void 0===e[t-1].playerinput?a.headsealed=!1:e[t-1].playerinput!==s&&(a.headsealed=!0),a.tailsealed=!0,i.push(a)}t=r,s=e[r].playerinput}}else if(void 0===e[r].playerinput)if(-1===t)t=r,s=void 0;else if(void 0===s);else{const a=new A;a.startidx=t,a.endidx=r-1,a.userinput=s,0===t||void 0!==e[t-1].playerinput?a.headsealed=!0:void 0===e[t-1].playerinput&&(a.headsealed=!1),a.tailsealed=!1,i.push(a),t=r,s=e[r].playerinput}if(void 0!==s){const r=new A;r.startidx=t,r.endidx=e.length-1,r.userinput=s,0===t?r.headsealed=!0:void 0!==s&&(r.headsealed=void 0!==e[t-1].playerinput),r.tailsealed=!0,i.push(r)}return i}checkWinner(e,t,s){let i=0,r=0,a=0,n=0;for(let o=0;o<this._dimension&&(this.cells[e][o].playerinput===s?i++:i=0,5!==i);o++);if(5!==i){for(let e=0;e<this._dimension&&(this.cells[e][t].playerinput===s?r++:r=0,5!==r);e++);if(5!==r){const i=e+t;for(let e=0;e<this._dimension&&(i<e||i>=e+this._dimension||(this.cells[e][i-e].playerinput===s?a++:a=0,5!==a));e++);if(5!==a){let i=e-t;if(i<0){i=Math.abs(i);for(let e=0;e<this._dimension&&(e+i>=this._dimension||(this.cells[e][e+i].playerinput===s?n++:n=0,5!==n));e++);}else for(let e=i;e<this._dimension&&(this.cells[e][e-i].playerinput===s?n++:n=0,5!==n);e++);}}}5!==i&&5!==r&&5!==a&&5!==n||(this._finished=!0)}}var v=s("tPNy");class k{constructor(){this.ID=-1,this.User="",this.Name="",this.Comment=void 0,this.Items=[]}get CreatedAt(){return this._createdAt}set CreatedAt(e){this._createdAt=e}get ModifiedAt(){return this._modifiedAt}set ModifiedAt(e){this._modifiedAt=e}parseData(e){e&&e.ID&&(this.ID=e.ID),e&&e.User&&(this.User=e.User),e&&e.Name&&(this.Name=e.Name),e&&e.Comment&&(this.Comment=e.Comment),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt)),e&&e.ModifiedAt&&(this.ModifiedAt=new Date(e.ModifiedAt)),this.Items=[],e&&e.Items&&e.Items.forEach(e=>{const t=new O;t.parseData(e),this.Items.push(t)})}writeJSONString(e){const t={User:this.User,Name:this.Name};return e&&(t.ID=this.ID),this.Comment&&this.Comment.length>0&&(t.Comment=this.Comment),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),this.ModifiedAt&&(t.ModifiedAt=this.ModifiedAt.toISOString().slice(0,10)),this.Items&&this.Items.length>0&&(t.Items=[],this.Items.forEach(s=>{t.Items.push(s.writeJSONObject(e))})),JSON&&JSON.stringify(t)}}class O{constructor(){this.ID=-1,this.RefType=c.ExerciseItem,this.RefID=-1}get CreatedAt(){return this._createdAt}set CreatedAt(e){this._createdAt=e}parseData(e){e&&e.ID&&(this.ID=e.ID),e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?c[e.RefType]:+e.RefType),e&&e.RefID&&(this.RefID=e.RefID),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt))}writeJSONObject(e){const t={RefType:c[this.RefType],RefID:this.RefID};return e&&(t.ID=this.ID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),t}writeJSONString(e){const t={RefType:c[this.RefType],RefID:this.RefID};return e&&(t.ID=this.ID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),JSON&&JSON.stringify(t)}}var T=s("wd/R"),D=s.n(T);class R{constructor(){this.userID="",this.userName="",this.displayAs="",this.createdAt=D()(),this.lastLogonAt=D()(),this.awardUsers=[]}get createdAtString(){return this.createdAt.format(p.f)}get lastLogonAtString(){return this.lastLogonAt.format(p.f)}parseData(e){e&&e.UserID&&(this.userID=e.UserID),e&&e.UserName&&(this.userName=e.UserName),e&&e.DisplayAs&&(this.displayAs=e.DisplayAs),e&&e.CreatedAt&&(this.createdAt=D()(e.CreatedAt)),e&&e.LastLoginAt&&(this.lastLogonAt=D()(e.LastLoginAt)),e&&e.AwardUsers&&e.AwardUsers.forEach(e=>{const t=new v.g;t.parseData(e),this.awardUsers.push(t)})}}class E{constructor(){this.currentUser=null,this.userName="",this.userId="",this.userMailbox="",this.accessToken="",this.isAuthorized=!1}setContent(e){e?(this.currentUser=e,this.isAuthorized=!0,this.userName=e.profile.name,this.userId=e.profile.sub,this.userMailbox=e.profile.mail,this.accessToken=e.access_token):this.cleanContent()}cleanContent(){this.currentUser=null,this.isAuthorized=!1,this.userName="",this.userId="",this.userMailbox="",this.accessToken=""}getUserName(){return this.userName?this.userName:""}getUserId(){return this.userId}getAccessToken(){return this.accessToken}getUserMailbox(){return this.userMailbox}}},jIBr:function(e,t,s){"use strict";s.d(t,"a",function(){return H});var i=s("u47x"),r=s("UXJo"),a=s("5+WD"),n=s("+rOU"),o=s("vxfF"),c=s("B/XX"),u=s("f6nW"),l=s("FvrZ"),h=s("/1cH"),d=s("TU8p"),p=s("2ChS"),m=s("bTqV"),g=s("jaxi"),b=s("Wp6s"),f=s("bSwM"),w=s("A5z7"),j=s("xHqg"),I=s("iadO"),y=s("0IaG"),S=s("f0Cb"),A=s("7EHt"),x=s("zkoq"),C=s("NFeN"),_=s("qFsG"),v=s("MutI"),k=s("STbY"),O=s("FKr1"),T=s("M9IT"),D=s("bv9b"),R=s("Xa2L"),E=s("QibW"),F=s("d3UM"),U=s("XhcP"),M=s("5RNC"),N=s("1jcm"),z=s("dNgK"),J=s("Dh3D"),L=s("+0xr"),P=s("wZkO"),V=s("/t3+"),W=s("Qu3c"),Q=s("8yBR"),B=s("YUcS"),$=s("1yaQ"),K=s("fXoL");let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=K.Ob({type:e}),e.\u0275inj=K.Nb({imports:[i.a,r.a,c.e,u.r,l.d,a.a,h.a,d.a,p.c,m.c,g.a,b.e,f.b,w.e,j.d,I.e,y.f,S.b,A.b,x.a,C.b,_.c,v.c,k.c,O.m,T.b,D.b,R.b,E.a,O.t,F.b,U.d,M.b,N.b,z.b,J.c,L.k,P.a,V.b,W.b,Q.a,n.f,o.d,B.a,$.a]}),e})()},o0su:function(e,t,s){"use strict";s.d(t,"d",function(){return b}),s.d(t,"e",function(){return f}),s.d(t,"c",function(){return w}),s.d(t,"f",function(){return S}),s.d(t,"b",function(){return g}),s.d(t,"a",function(){return A});var i=s("tk/3"),r=s("z6cu"),a=s("LRne"),n=s("XNiG"),o=s("lJxs"),c=s("JIr8"),u=s("VHTt"),l=s("AytR"),h=s("fXoL"),d=s("3Rfw"),p=s("2Vo4");const m={authority:l.a.idServerUrl,client_id:"knowledgebuilder.js",redirect_uri:l.a.loginCallbackUrl,post_logout_redirect_uri:l.a.logoutCallbackUrl,response_type:"id_token token",scope:"openid profile api.knowledgebuilder",filterProtocolClaims:!0,loadUserInfo:!0};let g=(()=>{class e{constructor(){this.authHeaders=null,this.authSubject=new p.a(new u.F),this.authContent=this.authSubject.asObservable(),this.userLoadededEvent=new h.o,this.mgr=new d.UserManager(m),this.mgr.getUser().then(e=>{e?(this.authSubject.value.setContent(e),this.userLoadededEvent.emit(e)):this.authSubject.value.cleanContent(),this.authSubject.next(this.authSubject.value)},e=>{}),this.mgr.events.addUserUnloaded(()=>{this.authSubject.value.cleanContent(),this.authSubject.next(this.authSubject.value)}),this.mgr.events.addAccessTokenExpiring(()=>{}),this.mgr.events.addAccessTokenExpired(()=>{this.doLogin()})}doLogin(){this.mgr&&this.mgr.signinRedirect().then(()=>{}).catch(e=>{})}doLogout(){this.mgr&&this.mgr.signoutRedirect().then(()=>{}).catch(e=>{})}clearState(){this.mgr.clearStaleState().then(()=>{}).catch(e=>{})}getUser(){this.mgr.getUser().then(e=>{this.userLoadededEvent.emit(e)}).catch(e=>{})}removeUser(){this.mgr.removeUser().then(()=>{this.userLoadededEvent.emit(void 0)}).catch(e=>{})}startSigninMainWindow(){this.mgr.signinRedirect({data:"some data"}).then(()=>{}).catch(e=>{})}endSigninMainWindow(){this.mgr.signinRedirectCallback().then(e=>{}).catch(e=>{})}startSignoutMainWindow(){this.mgr.signoutRedirect().then(e=>{setTimeout(()=>{},5e3)}).catch(e=>{})}endSignoutMainWindow(){this.mgr.signoutRedirectCallback().then(e=>{}).catch(e=>{})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),b=(()=>{class e{constructor(e,t){this.http=e,this.authService=t,this.apiUrl=l.a.apiurlRoot+"/",this.uploadUrl=l.a.apiurlRoot+"/api/ImageUpload",this.isMetadataLoaded=!1,this.metadataInfo="",this.mockedUserDetail=null,this.mockedKnowledgeItem=[],this.mockedExerciseItem=[],this.mockedUserCollection=[],this.bufferedKnowledgeItems=[],this.bufferedExerciseItems=[],this.bufferedUserCollection=[],this.bufferedAwardUser=[],this.bufferedAwardRuleGroup=[],this.currentUser=null,this.currentUserDetail=null,this.mockModeFailMsg="Cannot perform required opertion in mock mode",this.expertModeFailMsg="Cannot perform required opertion, need Login",this.contentType="Content-Type",this.appJson="application/json",this.strAccept="Accept"}get isLoggedin(){return null!==this.currentUser}getMetadata(e){if(!this.isMetadataLoaded||e){let e=new i.c;e=e.append(this.contentType,"application/xml,application/json").append(this.strAccept,"text/html,application/xhtml+xml,application/xml");let t=this.apiUrl+"$metadata";return l.a.mockdata&&(t=l.a.basehref+"assets/mockdata/metadata.xml"),this.http.get(t,{headers:e,responseType:"text"}).pipe(Object(o.a)(e=>(this.isMetadataLoaded=!0,this.metadataInfo=e,this.metadataInfo)),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}return Object(a.a)(this.metadataInfo)}getUserDetail(){if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);if(null!==this.currentUserDetail)return Object(a.a)(this.currentUserDetail);let e=new i.c;e=e.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let t=new i.d;return t=t.append("$expand","AwardUsers"),this.http.get(this.apiUrl+"InvitedUsers",{headers:e,params:t}).pipe(Object(o.a)(e=>{const t=e.value;return 1!==t.length&&Object(r.a)("Fatal error"),this.currentUserDetail=new u.r,this.currentUserDetail.parseData(t[0]),this.currentUserDetail}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getKnowledgeItems(e=30,t=0,s,n,h){if(l.a.mockdata&&this.mockedKnowledgeItem.length>0)return Object(a.a)({totalCount:this.mockedKnowledgeItem.length,items:this.mockedKnowledgeItem});if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let d=new i.c;d=d.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let p=new i.d;p=p.append("$top",e.toString()),p=p.append("$skip",t.toString()),p=p.append("$count","true"),s&&"createdat"===s&&(p=p.append("$orderby","CreatedAt "+n)),p=p.append("$select","ID,Category,Title,CreatedAt,ModifiedAt"),h&&(p=p.append("$filter",h));let m=this.apiUrl+"KnowledgeItems";return l.a.mockdata&&(m=l.a.basehref+"assets/mockdata/knowledge-items.json",p=new i.d),this.http.get(m,{headers:d,params:p}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.s;t.parseData(e),s.push(t)}),l.a.mockdata&&(this.mockedKnowledgeItem=s.slice()),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}readKnowledgeItem(e,t=!1){if(l.a.mockdata){const t=this.mockedKnowledgeItem.findIndex(t=>t.ID===e);return-1!==t?Object(a.a)(this.mockedKnowledgeItem[t]):Object(a.a)(new u.s)}if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);const s=this.bufferedKnowledgeItems.findIndex(t=>t.ID===e);if(!t&&-1!==s)return Object(a.a)(this.bufferedKnowledgeItems[s]);let n=new i.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$select","ID,Category,Title,Content,CreatedAt,ModifiedAt"),h=h.append("$expand","Tags"),this.http.get(`${this.apiUrl}KnowledgeItems(${e})`,{headers:n,params:h}).pipe(Object(o.a)(e=>{const t=e,i=new u.s;return i.parseData(t),-1===s?this.bufferedKnowledgeItems.push(i):this.bufferedKnowledgeItems[s]=i,i}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createKnowledgeItem(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.generateString();return this.http.post(this.apiUrl+"KnowledgeItems",s,{headers:t}).pipe(Object(o.a)(t=>{const s=t,i=new u.s;return i.parseData(s),e.Tags.length>0&&(i.Tags=e.Tags),this.bufferedKnowledgeItems.push(i),i}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}changeKnowledgeItem(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.generateString(!0);return this.http.put(`${this.apiUrl}KnowledgeItems(${e.ID})`,s,{headers:t}).pipe(Object(o.a)(t=>{const s=this.bufferedKnowledgeItems.findIndex(t=>t.ID===e.ID);return-1===s?this.bufferedKnowledgeItems.push(e):this.bufferedKnowledgeItems[s]=e,e}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteKnowledgeItem(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}KnowledgeItems(${e})`,{headers:t}).pipe(Object(o.a)(t=>{const s=this.bufferedKnowledgeItems.findIndex(t=>t.ID===e);return-1!==s&&this.bufferedKnowledgeItems.splice(s,1),!0}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getExerciseItems(e=30,t=0,s,n,h){if(l.a.mockdata&&this.mockedExerciseItem.length>0)return Object(a.a)({totalCount:this.mockedExerciseItem.length,items:this.mockedExerciseItem});if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let d=new i.c;d=d.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let p=new i.d;p=p.append("$top",e.toString()),p=p.append("$skip",t.toString()),p=p.append("$count","true"),s&&"createdat"===s&&(p=p.append("$orderby","CreatedAt "+n)),p=p.append("$select","ID,KnowledgeItemID,ExerciseType,CreatedAt"),h&&(p=p.append("$filter",h)),p=p.append("$expand","Tags");let m=this.apiUrl+"ExerciseItems";return l.a.mockdata&&(m=l.a.basehref+"assets/mockdata/exercise-items.json",p=new i.d),this.http.get(m,{headers:d,params:p}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.k;t.parseData(e),s.push(t)}),l.a.mockdata&&(this.mockedExerciseItem=s.slice()),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createExerciseItem(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.generateString();return this.http.post(this.apiUrl+"ExerciseItems",s,{headers:t}).pipe(Object(o.a)(t=>{const s=t,i=new u.k;return i.parseData(s),e.Tags.length>0&&(i.Tags=e.Tags.slice()),e.Answer&&(i.Answer=e.Answer),this.bufferedExerciseItems.push(i),i}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}changeExerciseItem(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.generateString(!0);return this.http.put(`${this.apiUrl}ExerciseItems(${e.ID})`,s,{headers:t}).pipe(Object(o.a)(t=>{const s=this.bufferedExerciseItems.findIndex(t=>t.ID===e.ID);return-1===s?this.bufferedExerciseItems.push(e):this.bufferedExerciseItems[s]=e,e}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}readExerciseItem(e,t=!1){if(l.a.mockdata){const t=this.mockedExerciseItem.findIndex(t=>t.ID===e);return-1!==t?Object(a.a)(this.mockedExerciseItem[t]):Object(a.a)(new u.k)}if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);const s=this.bufferedExerciseItems.findIndex(t=>t.ID===e);if(!t&&-1!==s)return Object(a.a)(this.bufferedExerciseItems[s]);let n=new i.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$select","ID,KnowledgeItemID,ExerciseType,Content,CreatedAt,ModifiedAt"),h=h.append("$expand","Tags,Answer"),this.http.get(`${this.apiUrl}ExerciseItems(${e})`,{headers:n,params:h}).pipe(Object(o.a)(e=>{const t=new u.k;return t.parseData(e),-1===s?this.bufferedExerciseItems.push(t):this.bufferedExerciseItems[s]=t,t}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteExerciseItem(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}ExerciseItems(${e})`,{headers:t}).pipe(Object(o.a)(t=>{const s=this.bufferedExerciseItems.findIndex(t=>t.ID===e);return-1!==s&&this.bufferedExerciseItems.splice(s,1),!0}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}searchExerciseItems(e=30,t=0,s){if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let a=new i.c;a=a.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let n=new i.d;n=n.append("$top",e.toString()),n=n.append("$skip",t.toString()),n=n.append("$count","true"),n=n.append("$select","ID,KnowledgeItemID,ExerciseType,Tags"),s&&(n=n.append("$filter",s));let h=this.apiUrl+"ExerciseItemWithTagViews";return l.a.mockdata&&(h=l.a.basehref+"assets/mockdata/exercise-items.json",n=new i.d),this.http.get(h,{headers:a,params:n}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.l;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getAwardRules(e=30,t=0,s,n){if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let l=new i.c;l=l.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$top",e.toString()),h=h.append("$skip",t.toString()),h=h.append("$count","true"),h=h.append("$select","ID,RuleType,TargetUser,Desp,ValidFrom,ValidTo,CountOfFactLow,CountOfFactHigh,DoneOfFact,TimeStart,TimeEnd,DaysFrom,DaysTo,Point"),n&&(h=h.append("$filter",n)),this.http.get(this.apiUrl+"AwardRules",{headers:l,params:h}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.e;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createAwardRule(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.writeJSONString(!0);return this.http.post(this.apiUrl+"AwardRules",s,{headers:t}).pipe(Object(o.a)(e=>{const t=e,s=new u.e;return s.parseData(t),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteAwardRule(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}AwardRules(${e})`,{headers:t}).pipe(Object(o.a)(e=>!0),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getAwardRuleGroups(e=30,t=0,s,n){if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let l=new i.c;l=l.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$top",e.toString()),h=h.append("$skip",t.toString()),h=h.append("$count","true"),h=h.append("$expand","Rules"),n&&(h=h.append("$filter",n)),this.http.get(this.apiUrl+"AwardRuleGroups",{headers:l,params:h}).pipe(Object(o.a)(e=>{const t=e,s=t.value;return this.bufferedAwardRuleGroup=[],s.forEach(e=>{const t=new u.g;t.parseData(e),this.bufferedAwardRuleGroup.push(t)}),{totalCount:t["@odata.count"],items:this.bufferedAwardRuleGroup}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}readAwardRuleGroup(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);const t=this.bufferedAwardRuleGroup.findIndex(t=>t.id===e);if(-1!==t)return Object(a.a)(this.bufferedAwardRuleGroup[t]);let s=new i.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let n=new i.d;return n=n.append("$expand","Rules"),n=n.append("$filter","ID eq "+e),this.http.get(this.apiUrl+"AwardRuleGroups",{headers:s,params:n}).pipe(Object(o.a)(e=>{const t=e.value,s=new u.g;return s.parseData(t),this.bufferedAwardRuleGroup.push(s),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createAwardRuleGroup(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.writeJSONString(!0);return this.http.post(this.apiUrl+"AwardRuleGroups",s,{headers:t}).pipe(Object(o.a)(e=>{const t=e,s=new u.g;return s.parseData(t),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteAwardRuleGroup(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}AwardRuleGroups(${e})`,{headers:t}).pipe(Object(o.a)(t=>{const s=this.bufferedAwardRuleGroup.findIndex(t=>t.id===e);return-1!==s&&this.bufferedAwardRuleGroup.splice(s,1),!0}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getDailyTrace(e=30,t=0,s,n){if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let l=new i.c;l=l.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$top",e.toString()),h=h.append("$skip",t.toString()),h=h.append("$count","true"),h=h.append("$select","RecordDate,TargetUser,SchoolWorkTime,GoToBedTime,HomeWorkCount,BodyExerciseCount,ErrorsCollection,HandWriting,CleanDesk,HouseKeepingCount,PoliteBehavior,Comment"),n&&(h=h.append("$filter",n)),this.http.get(this.apiUrl+"DailyTraces",{headers:l,params:h}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.i;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}simulatePoint(e){if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=new i.d,a=this.apiUrl+"DailyTraces/SimulatePoints",n={dt:e.writeJSONObject()};return this.http.post(a,n,{headers:t,params:s}).pipe(Object(o.a)(e=>{const t=[];return e.value.forEach(e=>{const s=new u.c;s.parseData(e),t.push(s)}),t}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createDailyTrace(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.writeJSONString();return this.http.post(this.apiUrl+"DailyTraces",s,{headers:t}).pipe(Object(o.a)(e=>{const t=e,s=new u.i;return s.parseData(t),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteDailyTrace(e,t){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let s=new i.c;return s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}DailyTraces(RecordDate=${t.format(u.O)},TargetUser='${e}')`,{headers:s}).pipe(Object(o.a)(e=>!0),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getAwardPoints(e=30,t=0,s,n){if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let l=new i.c;l=l.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$top",e.toString()),h=h.append("$skip",t.toString()),h=h.append("$count","true"),h=h.append("$select","ID,RecordDate,TargetUser,MatchedRuleID,CountOfDay,Point,Comment"),n&&(h=h.append("$filter",n)),this.http.get(this.apiUrl+"AwardPoints",{headers:l,params:h}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.c;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createAwardPoint(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.writeJSONString(!0);return this.http.post(this.apiUrl+"AwardPoints",s,{headers:t}).pipe(Object(o.a)(e=>{const t=e,s=new u.c;return s.parseData(t),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteAwardPoint(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}AwardPoints(${e})`,{headers:t}).pipe(Object(o.a)(e=>!0),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getAwardPointReports(e=30,t=0,s,n){if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let l=new i.c;l=l.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$top",e.toString()),h=h.append("$skip",t.toString()),h=h.append("$count","true"),n&&(h=h.append("$filter",n)),this.http.get(this.apiUrl+"AwardPointReports",{headers:l,params:h}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.d;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}uploadFiles(e){if(!this.isLoggedin)throw this.expertModeFailMsg;const t={};return e.forEach(e=>{const s=new FormData;s.append("file",e,e.name);const r=new i.e("POST",this.uploadUrl,s),a=new n.a;this.http.request(r).subscribe(e=>{if(e instanceof i.f){const t=e.body[0];a.next({delete_type:t.delete_type,delete_url:`${l.a.apiurlRoot}${t.delete_url}`,name:t.name,progress:1,size:t.size,thumbnail_url:`${l.a.apiurlRoot}${t.thumbnail_url}`,type:t.type,url:`${l.a.apiurlRoot}${t.url}`}),a.complete()}}),t[e.name]={result:a.asObservable()}}),t}getTagCounts(){if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let e=new i.c;e=e.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let t=new i.d;t=t.append("$top","100"),t=t.append("$count","true");let s=this.apiUrl+"TagCounts";return l.a.mockdata&&(s=l.a.basehref+"assets/mockdata/tag-counts.json",t=new i.d),this.http.get(s,{headers:e,params:t}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.C;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getTags(e,t){if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let s=new i.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let a=new i.d;a=a.append("$top","100"),a=a.append("$count","true");let n=`TagTerm eq '${e}'`;t===u.D.KnowledgeItem?n+=" and RefType eq 'KnowledgeItem'":t===u.D.ExerciseItem&&(n+=" and RefType eq 'ExerciseItem'"),a=a.append("$filter",n);let h=this.apiUrl+"Tags";return l.a.mockdata&&(h=l.a.basehref+"assets/mockdata/tags.json",a=new i.d),this.http.get(h,{headers:s,params:a}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.B;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getOverviewInfo(){if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let e=new i.c;e=e.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let t=this.apiUrl+"OverviewInfos";return l.a.mockdata&&(t=l.a.basehref+"assets/mockdata/overview-infos.json"),this.http.get(t,{headers:e}).pipe(Object(o.a)(e=>{const t=[];return e.value.forEach(e=>{const s=new u.w;s.parseData(e),t.push(s)}),t}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getUserCollections(e=30,t=0,s,n){var l,h;if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let d=new i.c;d=d.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let p=new i.d;return p=p.append("$top",e.toString()),p=p.append("$skip",t.toString()),p=p.append("$count","true"),p=p.append("$expand","Items"),p=p.append("$filter",n?`${n} and User eq '${null===(l=this.currentUser)||void 0===l?void 0:l.getUserId()}'`:`User eq '${null===(h=this.currentUser)||void 0===h?void 0:h.getUserId()}'`),this.http.get(this.apiUrl+"UserCollections",{headers:d,params:p}).pipe(Object(o.a)(e=>{const t=e,s=t.value;return this.bufferedUserCollection=[],s.forEach(e=>{const t=new u.G;t.parseData(e),this.bufferedUserCollection.push(t)}),{totalCount:t["@odata.count"],items:this.bufferedUserCollection}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createUserCollection(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.writeJSONString();return this.http.post(this.apiUrl+"UserCollections",s,{headers:t}).pipe(Object(o.a)(e=>{const t=e,s=new u.G;return s.parseData(t),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}readUserCollection(e,t=!1){if(l.a.mockdata){const t=this.mockedUserCollection.findIndex(t=>t.ID===e);return-1!==t?Object(a.a)(this.mockedUserCollection[t]):Object(a.a)(new u.G)}if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let s=-1;if(!t&&(s=this.bufferedUserCollection.findIndex(t=>t.ID===e),-1!==s))return Object(a.a)(this.bufferedUserCollection[s]);let n=new i.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let h=new i.d;return h=h.append("$expand","Items"),this.http.get(`${this.apiUrl}UserCollections(${e})`,{headers:n,params:h}).pipe(Object(o.a)(e=>{const t=e,i=new u.G;return i.parseData(t),-1===s?this.bufferedUserCollection.push(i):this.bufferedUserCollection[s]=i,i}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}addExerciseItemToCollection(e){var t;if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let s=new i.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const a={User:null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),UserCollectionItems:[]};e.forEach(e=>{a.UserCollectionItems.push(e.writeJSONObject(!0))});const n=new i.d;return this.http.post(this.apiUrl+"UserCollectionItems/AddItemToCollectionEx",a,{headers:s,params:n}).pipe(Object(o.a)(e=>{const t=[];return e.value.forEach(e=>{const s=new u.H;s.parseData(e),t.push(s)}),t}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}removeExerciseItemFromCollection(e){var t;if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let s=new i.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const a={User:null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),ID:e.ID,RefID:e.RefID,RefType:u.D[e.RefType]},n=new i.d;return this.http.post(this.apiUrl+"UserCollectionItems/RemoveItemFromCollection",a,{headers:s,params:n}).pipe(Object(o.a)(e=>e.value),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteUserCollection(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}UserCollections(${e})`,{headers:t}).pipe(Object(o.a)(e=>!0),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getExerciseItemUserScores(e=30,t=0,s){var n,l;if(!this.isLoggedin)return Object(a.a)({totalCount:0,items:[]});let h=new i.c;h=h.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());let d=new i.d;return d=d.append("$top",e.toString()),d=d.append("$skip",t.toString()),d=d.append("$count","true"),d=d.append("$filter",s?`${s} and User eq '${null===(n=this.currentUser)||void 0===n?void 0:n.getUserId()}'`:`User eq '${null===(l=this.currentUser)||void 0===l?void 0:l.getUserId()}'`),this.http.get(this.apiUrl+"ExerciseItemUserScores",{headers:h,params:d}).pipe(Object(o.a)(e=>{const t=e,s=[];return t.value.forEach(e=>{const t=new u.m;t.parseData(e),s.push(t)}),{totalCount:t["@odata.count"],items:s}}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}createExerciseItemUserScore(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const s=e.writeJSONString();return this.http.post(this.apiUrl+"ExerciseItemUserScores",s,{headers:t}).pipe(Object(o.a)(e=>{const t=e,s=new u.m;return s.parseData(t),s}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}deleteExerciseItemUserScore(e){if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let t=new i.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete(`${this.apiUrl}ExerciseItemUserScores(${e})`,{headers:t}).pipe(Object(o.a)(e=>!0),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}getLastestExerciseItemUserScore(e){var t;if(l.a.mockdata)return Object(r.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(r.a)(this.expertModeFailMsg);let s=new i.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());const a={User:null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),RefID:e};return this.http.post(this.apiUrl+"ExerciseItemUserScores/LatestUserScore",a,{headers:s}).pipe(Object(o.a)(e=>{const t=e;if(t){const e=new u.m;return e.parseData(t),e}return null}),Object(c.a)(e=>Object(r.a)(e.statusText+"; "+e.error+"; "+e.message)))}}return e.\u0275fac=function(t){return new(t||e)(h.ac(i.a),h.ac(g))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),f=(()=>{class e{constructor(){this.currentQuizID=0,this.elderQuizs=[],this.failedItems=[],this.currScore=0}get NextQuizID(){return this.currentQuizID+1}get ActiveQuiz(){return this.curQuiz}get ElderQuizs(){return this.elderQuizs}get FailedQuizItems(){return this.failedItems}set FailedQuizItems(e){this.failedItems=e}get CurrentScore(){return this.currScore}set CurrentScore(e){this.currScore=e}startNewQuiz(e){if(this.curQuiz)throw new Error("Active Quiz not yet completed");return this.curQuiz=new u.x(e),this.currentQuizID=e,this.curQuiz}completeActiveQuiz(){if(!this.curQuiz)throw new Error("Active Quiz not exist");if(this.curQuiz.ActiveSection)throw new Error("Active Quiz has active section");this.elderQuizs.push(this.curQuiz),this.curQuiz=void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w=(()=>{class e{canDeactivate(e){return!e.canDeactivate||e.canDeactivate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=s("tyNb"),I=s("0IaG"),y=s("dNgK");let S=(()=>{class e{constructor(e,t,s){this.router=e,this.dialog=t,this.snack=s,this.previewObjList=[]}navigateExerciseItemListPage(){this.router.navigate(["exercise-item"])}navigateExerciseItemCreatePage(){this.router.navigate(["exercise-item","create"])}navigateExerciseItemDisplayPage(e){this.router.navigate(["exercise-item","display",e.toString()])}navigateExerciseItemChangePage(e){this.router.navigate(["exercise-item","edit",e.toString()])}navigateExerciseItemSearchPage(){this.router.navigate(["exercise-item","search"])}navigatePreviewPage(e){this.previewObjList=e.slice(),this.router.navigate(["preview"])}navigateKnowledgeItemListPage(){this.router.navigate(["knowledge-item"])}navigateKnowledgeItemCreatePage(){this.router.navigate(["knowledge-item","create"])}navigateKnowledgeItemDisplayPage(e){this.router.navigate(["knowledge-item","display",e.toString()])}navigateKnowledgeItemChangePage(e){this.router.navigate(["knowledge-item","edit",e.toString()])}navigateKnowledgeItemSearchPage(){this.router.navigate(["knowledge-item","search"])}navigateUserCollectionListPage(){this.router.navigate(["user-collection"])}navigateUserCollectionCreatePage(){this.router.navigate(["user-collection","create"])}navigateUserCollectionChangePage(e){this.router.navigate(["user-collection","edit",e.toString()])}navigateUserCollectionDisplayPage(e){this.router.navigate(["user-collection","display",e.toString()])}navigateAwardRuleGenerationPage(){this.router.navigate(["award","rule-generation"])}navigateAwardRuleGroupListPage(){this.router.navigate(["award","rules"])}navigateAwardRuleGroupDisplayPage(e){this.router.navigate(["award","rule-group-display",e.toString()])}showSnackInfo(e,t=2e3){this.snack.open(e,void 0,{duration:t})}}return e.\u0275fac=function(t){return new(t||e)(h.ac(j.b),h.ac(I.b),h.ac(y.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),A=(()=>{class e{constructor(e){this.authService=e}canActivate(e,t){return this.checkLogin(t.url)}checkLogin(e){return!!this.authService.authSubject.getValue().isAuthorized||(this.authService.doLogin(),!1)}}return e.\u0275fac=function(t){return new(t||e)(h.ac(g))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},tPNy:function(e,t,s){"use strict";s.d(t,"f",function(){return n}),s.d(t,"i",function(){return o}),s.d(t,"j",function(){return c}),s.d(t,"e",function(){return u}),s.d(t,"d",function(){return l}),s.d(t,"c",function(){return h}),s.d(t,"h",function(){return d}),s.d(t,"a",function(){return p}),s.d(t,"b",function(){return m}),s.d(t,"g",function(){return g});var i=s("wd/R"),r=s.n(i),a=s("SNjr"),n=function(e){return e[e.GoToBedTime=1]="GoToBedTime",e[e.SchoolWorkTime=2]="SchoolWorkTime",e[e.HomeWorkCount=3]="HomeWorkCount",e[e.BodyExerciseCount=4]="BodyExerciseCount",e[e.ErrorCollectionHabit=5]="ErrorCollectionHabit",e[e.CleanDeakHabit=6]="CleanDeakHabit",e[e.HouseKeepingCount=7]="HouseKeepingCount",e[e.PoliteBehavior=8]="PoliteBehavior",e[e.HandWritingHabit=9]="HandWritingHabit",e}({});const o=e=>{let t="";switch(e){case n.GoToBedTime:t="Award.GoToBedTime";break;case n.SchoolWorkTime:t="Award.SchoolWorkTime";break;case n.HomeWorkCount:t="Award.HomeworkCount";break;case n.BodyExerciseCount:t="Award.BodyExerciseCount";break;case n.ErrorCollectionHabit:t="Award.ErrorsCollection";break;case n.CleanDeakHabit:t="Award.CleanDesk";break;case n.HouseKeepingCount:t="Award.HouseKeepingCount";break;case n.PoliteBehavior:t="Award.PoliteBehavior";break;case n.HandWritingHabit:t="Award.HandWriting";break;default:t=""}return t},c=()=>{const e=[];for(const t in n)Number.isNaN(+t)||e.push({value:+t,i18nterm:o(+t),displaystring:""});return e};class u{constructor(){this.id=-1,this.ruleType=n.GoToBedTime,this.targetUser="",this.desp="",this.validFrom=r()(),this.validTo=r()(),this.rules=[]}isValid(){return!!this.targetUser&&!!this.desp}parseData(e){e&&e.ID&&(this.id=+e.ID),e&&e.RuleType&&(this.ruleType=isNaN(+e.RuleType)?n[e.RuleType]:+e.RuleType),e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.Desp&&(this.desp=e.Desp),e&&e.ValidFrom&&(this.validFrom=r()(e.ValidFrom)),e&&e.ValidTo&&(this.validTo=r()(e.ValidTo)),this.rules=[],e&&e.Rules&&e.Rules.forEach(e=>{const t=new l;t.parseData(e),this.rules.push(t)})}writeJSONObject(e=!0){const t={};return e||(t.ID=this.id),t.RuleType=n[this.ruleType],t.TargetUser=this.targetUser,t.Desp=this.desp,t.ValidFrom=this.validFrom.format(a.f),t.ValidTo=this.validTo.format(a.f),this.rules&&this.rules.length>0&&(t.Rules=[],this.rules.forEach(s=>{t.Rules.push(s.writeJSONObject(e))})),t}writeJSONString(e=!0){return JSON&&JSON.stringify(this.writeJSONObject(e))}}class l{constructor(){this.id=-1,this.groupID=-1,this.point=0}get countString(){return`${this.countOfFactLow} - ${this.countOfFactHigh}`}get doneString(){return""+this.doneOfFact}get timeString(){return`${this.timeStart} - ${this.timeEnd}`}get dayString(){return`${this.daysFrom} - ${this.daysTo}`}isValid(e){switch(e){case n.GoToBedTime:case n.SchoolWorkTime:if(void 0===this.timeStart||void 0===this.timeEnd||this.timeStart>this.timeEnd)return!1;break;case n.HomeWorkCount:case n.BodyExerciseCount:case n.HouseKeepingCount:case n.PoliteBehavior:if(void 0===this.countOfFactLow)return!1;if(void 0===this.countOfFactHigh)return!1;if(this.countOfFactLow>this.countOfFactHigh)return!1;break;case n.ErrorCollectionHabit:case n.CleanDeakHabit:if(void 0===this.doneOfFact)return!1;break;default:return!1}return!0}parseData(e){e&&e.ID&&(this.id=+e.ID),e&&e.GroupID&&(this.groupID=+e.GroupID),e&&e.CountOfFactLow&&(this.countOfFactLow=e.CountOfFactLow),e&&e.CountOfFactHigh&&(this.countOfFactHigh=e.CountOfFactHigh),e&&e.DoneOfFact&&(this.doneOfFact=e.DoneOfFact),e&&e.TimeStart&&(this.timeStart=e.TimeStart),e&&e.TimeEnd&&(this.timeEnd=e.TimeEnd),e&&e.DaysFrom&&(this.daysFrom=e.DaysFrom),e&&e.DaysTo&&(this.daysTo=e.DaysTo),e&&e.Point&&(this.point=e.Point)}writeJSONObject(e=!0){const t={};return e||(t.ID=this.id,t.GroupID=this.groupID),null!=this.countOfFactLow&&(t.CountOfFactLow=this.countOfFactLow),null!=this.countOfFactHigh&&(t.CountOfFactHigh=this.countOfFactHigh),null!=this.doneOfFact&&(t.DoneOfFact=this.doneOfFact),null!=this.timeStart&&(t.TimeStart=this.timeStart),null!=this.timeEnd&&(t.TimeEnd=this.timeEnd),this.daysFrom&&(t.DaysFrom=this.daysFrom),this.daysTo&&(t.DaysTo=this.daysTo),t.Point=this.point,t}writeJSONString(e=!0){return JSON&&JSON.stringify(this.writeJSONObject(e))}}class h{constructor(){this.id=-1,this.ruleType=n.GoToBedTime,this.targetUser="",this.desp="",this.validFrom=r()(),this.validTo=r()(),this.point=0}copyFrom(e){this.ruleType=e.ruleType,this.targetUser=e.targetUser,this.desp=e.desp,this.validFrom=r()(e.validFrom.format(a.f)),this.validTo=r()(e.validTo.format(a.f)),this.countOfFactLow=e.countOfFactLow,this.countOfFactHigh=e.countOfFactHigh,this.doneOfFact=e.doneOfFact,this.timeStart=e.timeStart,this.timeEnd=e.timeEnd,this.daysFrom=e.daysFrom,this.daysTo=e.daysTo,this.point=e.point}parseData(e){}writeJSONObject(e=!0){return{}}writeJSONString(e=!0){return JSON&&JSON.stringify(this.writeJSONObject(e))}}class d{constructor(){this.targetUser="",this.recordDate=r()(),this.schoolWorkTime=null,this.goToBedTime=null,this.homeWorkCount=null,this.bodyExerciseCount=null,this.errorsCollection=null,this.handWriting=null,this.cleanDesk=null,this.houseKeepingCount=null,this.politeBehavior=null,this.comment=""}getRecordDateDisplayString(){return this.recordDate.format(a.f)}isValid(){return!!this.targetUser&&(null!==this.schoolWorkTime||null!==this.goToBedTime||null!==this.homeWorkCount||null!==this.bodyExerciseCount||null!==this.errorsCollection||null!==this.handWriting||null!==this.cleanDesk||null!==this.houseKeepingCount||null!==this.politeBehavior)}parseData(e){e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.RecordDate&&(this.recordDate=r()(e.RecordDate)),e&&null!=e.GoToBedTime&&(this.goToBedTime=e.GoToBedTime),e&&null!=e.SchoolWorkTime&&(this.schoolWorkTime=e.SchoolWorkTime),e&&null!=e.HomeWorkCount&&(this.homeWorkCount=e.HomeWorkCount),e&&null!=e.BodyExerciseCount&&(this.bodyExerciseCount=e.BodyExerciseCount),e&&null!=e.ErrorsCollection&&(this.errorsCollection=e.ErrorsCollection),e&&null!=e.HandWriting&&(this.handWriting=e.HandWriting),e&&null!=e.CleanDesk&&(this.cleanDesk=e.CleanDesk),e&&null!=e.HouseKeepingCount&&(this.houseKeepingCount=+e.HouseKeepingCount),e&&null!=e.PoliteBehavior&&(this.politeBehavior=e.PoliteBehavior),e&&e.Comment&&(this.comment=e.Comment)}writeJSONObject(){const e={};return e.TargetUser=this.targetUser,e.RecordDate=this.recordDate.format(a.f),null!==this.goToBedTime&&(e.GoToBedTime=this.goToBedTime),null!==this.schoolWorkTime&&(e.SchoolWorkTime=this.schoolWorkTime),null!==this.homeWorkCount&&(e.HomeWorkCount=this.homeWorkCount),null!==this.bodyExerciseCount&&(e.BodyExerciseCount=this.bodyExerciseCount),null!==this.errorsCollection&&(e.ErrorsCollection=this.errorsCollection),null!==this.handWriting&&(e.HandWriting=this.handWriting),null!==this.cleanDesk&&(e.CleanDesk=this.cleanDesk),null!==this.houseKeepingCount&&(e.HouseKeepingCount=this.houseKeepingCount),null!==this.politeBehavior&&(e.PoliteBehavior=this.politeBehavior),this.comment&&(e.Comment=this.comment),e}writeJSONString(){return JSON&&JSON.stringify(this.writeJSONObject())}}class p{constructor(){this.id=1,this.targetUser="",this.recordDate=r()(),this.point=0,this.comment=""}getRecordDateDisplayString(){return this.recordDate.format(a.f)}isValid(){return!!this.targetUser&&0!==this.point}parseData(e){e&&e.ID&&(this.id=e.ID),e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.RecordDate&&(this.recordDate=r()(e.RecordDate)),e&&e.MatchedRuleID&&(this.matchedRuleID=e.MatchedRuleID),e&&e.CountOfDay&&(this.countOfDay=e.CountOfDay),e&&e.Point&&(this.point=e.Point),e&&e.Comment&&(this.comment=e.Comment)}writeJSONObject(e=!0){const t={};return e||(t.ID=this.id),t.TargetUser=this.targetUser,t.RecordDate=this.recordDate.format(a.f),t.Point=this.point,t.Comment=this.comment,t}writeJSONString(e=!0){return JSON&&JSON.stringify(this.writeJSONObject(e))}}class m{constructor(){this.targetUser="",this.recordDate=r()(),this.point=0,this.aggPoint=0}getRecordDateDisplayString(){return this.recordDate.format(a.f)}parseData(e){e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.RecordDate&&(this.recordDate=r()(e.RecordDate)),e&&e.Point&&(this.point=+e.Point),e&&e.AggPoint&&(this.aggPoint=+e.AggPoint)}}class g extends class{constructor(){this.targetUser="",this.supervisor=""}parseData(e){e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.Supervisor&&(this.supervisor=e.Supervisor)}}{constructor(){super(...arguments),this.userName="",this.displayAs=""}parseData(e){super.parseData(e),e&&e.UserName&&(this.userName=e.UserName),e&&e.DisplayAs&&(this.displayAs=e.DisplayAs)}}},zUnb:function(e,t,s){"use strict";s.r(t);var i=s("fXoL"),r=s("AytR"),a=s("jhN1"),n=s("tk/3"),o=s("ofXK"),c=s("3Pt+"),u=s("tyNb"),l=s("o0su");const h=[{path:"",pathMatch:"full",redirectTo:"/welcome"},{path:"welcome",loadChildren:()=>s.e(19).then(s.bind(null,"TtBp")).then(e=>e.WelcomeModule)},{path:"knowledge-item",canActivate:[l.a],loadChildren:()=>Promise.all([s.e(0),s.e(13)]).then(s.bind(null,"U+IK")).then(e=>e.KnowledgeItemsModule)},{path:"exercise-item",canActivate:[l.a],loadChildren:()=>Promise.all([s.e(0),s.e(11)]).then(s.bind(null,"V7M2")).then(e=>e.ExerciseItemsModule)},{path:"tag",loadChildren:()=>s.e(17).then(s.bind(null,"Bbvb")).then(e=>e.TagModule)},{path:"user-collection",canActivate:[l.a],loadChildren:()=>Promise.all([s.e(0),s.e(18)]).then(s.bind(null,"RVRs")).then(e=>e.UserCollectionModule)},{path:"help",loadChildren:()=>s.e(12).then(s.bind(null,"6RTz")).then(e=>e.HelpModule)},{path:"primary-school-math",loadChildren:()=>s.e(8).then(s.bind(null,"GtZ7")).then(e=>e.PrimarySchoolMathModule)},{path:"puzzle-games",loadChildren:()=>s.e(9).then(s.bind(null,"1Ans")).then(e=>e.PuzzleGameModule)},{path:"quiz-summary",loadChildren:()=>s.e(16).then(s.bind(null,"TYNk")).then(e=>e.QuizSummaryModule)},{path:"award",canActivate:[l.a],loadChildren:()=>Promise.all([s.e(0),s.e(10)]).then(s.bind(null,"82/d")).then(e=>e.AwardModule)},{path:"preview",loadChildren:()=>s.e(15).then(s.bind(null,"caho")).then(e=>e.PreviewModule)},{path:"**",loadChildren:()=>s.e(14).then(s.bind(null,"jSwP")).then(e=>e.NotFoundModule)}];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({imports:[[u.e.forRoot(h)],u.e]}),e})();var p=s("VHTt"),m=s("0MNC"),g=s("QPBi"),b=s("FKr1"),f=s("0IaG"),w=s("/t3+"),j=s("bTqV"),I=s("NFeN"),y=s("Qu3c"),S=s("STbY"),A=s("XhcP"),x=s("7EHt"),C=s("MutI"),_=s("3be6"),v=s("kmnG"),k=s("qFsG"),O=s("+0xr");function T(e,t){1&e&&(i.Wb(0,"h1",19),i.Fc(1,"KB"),i.Vb())}function D(e,t){1&e&&(i.Wb(0,"h1",19),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e&&(i.Eb(1),i.Gc(i.kc(2,1,"KnowledgeBuilder")))}function R(e,t){1&e&&(i.Wb(0,"mat-icon"),i.Fc(1,"check"),i.Vb())}function E(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",20),i.ec("click",function(){i.xc(e);const s=t.$implicit;return i.ic().switchLanguage(s.value)}),i.Ec(1,R,2,0,"mat-icon",11),i.Fc(2),i.jc(3,"transloco"),i.Vb()}if(2&e){const e=t.$implicit,s=i.ic();i.Eb(1),i.oc("ngIf",s.selectedLanguage===e.value),i.Eb(1),i.Hc(" ",i.kc(3,2,e.displayas)," ")}}function F(e,t){if(1&e&&(i.Wb(0,"span"),i.Fc(1),i.Vb()),2&e){const e=i.ic();i.Eb(1),i.Gc(e.versionInfo)}}const U=function(e){return[e]};function M(e,t){if(1&e&&(i.Wb(0,"a",21),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e){const e=t.$implicit;i.oc("routerLink",i.sc(4,U,e.route)),i.Eb(1),i.Hc(" ",i.kc(2,2,e.name)," ")}}function N(e,t){if(1&e&&(i.Wb(0,"a",21),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e){const e=t.$implicit;i.oc("routerLink",i.sc(4,U,e.route)),i.Eb(1),i.Hc(" ",i.kc(2,2,e.name)," ")}}function z(e,t){if(1&e&&(i.Wb(0,"a",21),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e){const e=t.$implicit;i.oc("routerLink",i.sc(4,U,e.route)),i.Eb(1),i.Hc(" ",i.kc(2,2,e.name)," ")}}function J(e,t){if(1&e&&(i.Wb(0,"a",21),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e){const e=t.$implicit;i.oc("routerLink",i.sc(4,U,e.route)),i.Eb(1),i.Hc(" ",i.kc(2,2,e.name)," ")}}function L(e,t){if(1&e&&(i.Wb(0,"a",21),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e){const e=t.$implicit;i.oc("routerLink",i.sc(4,U,e.route)),i.Eb(1),i.Hc(" ",i.kc(2,2,e.name)," ")}}function P(e,t){if(1&e&&(i.Wb(0,"a",21),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e){const e=t.$implicit;i.oc("routerLink",i.sc(4,U,e.route)),i.Eb(1),i.Hc(" ",i.kc(2,2,e.name)," ")}}function V(e,t){1&e&&(i.Wb(0,"th",18),i.Fc(1,"ID"),i.Vb())}function W(e,t){if(1&e&&(i.Wb(0,"td",19),i.Fc(1),i.Vb()),2&e){const e=t.$implicit;i.Eb(1),i.Hc(" ",e.targetUser," ")}}function Q(e,t){1&e&&(i.Wb(0,"th",18),i.Fc(1),i.jc(2,"transloco"),i.Vb()),2&e&&(i.Eb(1),i.Gc(i.kc(2,1,"Common.Name")))}function B(e,t){if(1&e&&(i.Wb(0,"td",19),i.Fc(1),i.Vb()),2&e){const e=t.$implicit;i.Eb(1),i.Hc(" ",e.userName," ")}}function $(e,t){1&e&&(i.Wb(0,"th",18),i.Fc(1,"DISPLAY AS"),i.Vb())}function K(e,t){if(1&e&&(i.Wb(0,"td",19),i.Fc(1),i.Vb()),2&e){const e=t.$implicit;i.Eb(1),i.Hc(" ",e.displayAs," ")}}function H(e,t){1&e&&i.Rb(0,"tr",20)}function G(e,t){1&e&&i.Rb(0,"tr",21)}let q=(()=>{class e{constructor(e,t,s,i,r,a,n,o,c){this.translocoService=s,this.dateAdapter=i,this.dialog=r,this.oDataSrv=a,this.authSrv=n,this.zone=o,this.uiUtilSrv=c,this.title="Knowledge Builder",this.navItems=[],this.availableLanguages=[{displayas:"Languages.en",value:"en"},{displayas:"Languages.zh",value:"zh"}],this.selectedLanguage="zh",this.mobileQuery=t.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addEventListener("change",this._mobileQueryListener),this.navItems=[{name:"WelcomePage",route:"/welcome",group:p.b.home},{name:"MathExercise.AdditionExercises",route:"/primary-school-math/add-ex",group:p.b.ps_basic},{name:"MathExercise.SubtractionExercises",route:"/primary-school-math/sub-ex",group:p.b.ps_basic},{name:"MathExercise.MultiplicationExercises",route:"/primary-school-math/multi-ex",group:p.b.ps_basic},{name:"MathExercise.DivisionExercises",route:"/primary-school-math/div-ex",group:p.b.ps_basic},{name:"MathExercise.MixedOperations",route:"/primary-school-math/mixed-op",group:p.b.ps_basic},{name:"Quiz.PrintableQuizGenerator",route:"/primary-school-math/printable-quiz",group:p.b.ps_basic},{name:"KnowledgeItem",route:"/knowledge-item",group:p.b.knowledge},{name:"ExerciseItem",route:"/exercise-item",group:p.b.knowledge},{name:"Tags",route:"/tag",group:p.b.knowledge},{name:"UserCollections",route:"/user-collection",group:p.b.knowledge},{name:"PracticeHistories",route:"/exercise-item/score",group:p.b.knowledge},{name:"PuzzleGames.Calculate24",route:"/puzzle-games/cal24",group:p.b.games},{name:"PuzzleGames.Sudou",route:"/puzzle-games/sudou",group:p.b.games},{name:"PuzzleGames.TypingTutor",route:"puzzle-games/typegame",group:p.b.games},{name:"PuzzleGames.Gobang",route:"puzzle-games/gobang",group:p.b.games},{name:"Award.Overview",route:"/award",group:p.b.award},{name:"Award.Rules",route:"/award/rules",group:p.b.award},{name:"Award.DailyTrace",route:"/award/dailytrace",group:p.b.award},{name:"Help.About",route:"/help/about",group:p.b.help},{name:"Help.Credits",route:"/help/credits",group:p.b.help}],this.authSrv.authContent.subscribe(e=>{this.zone.run(()=>{e&&e.isAuthorized&&(this.oDataSrv.currentUser=e,this.oDataSrv.getUserDetail().subscribe())})})}switchLanguage(e){this.selectedLanguage=e,"en"===e?(this.translocoService.setActiveLang("en"),this.dateAdapter.setLocale("en")):(this.translocoService.setActiveLang("zh"),this.dateAdapter.setLocale("zh"))}ngOnDestroy(){this.mobileQuery.removeEventListener("change",this._mobileQueryListener)}openCodeRepo(){window.open("https://github.com/alvachien/knowledgebuilder","_blank")}get versionInfo(){return r.a.version}onUserInfo(){this.oDataSrv.isLoggedin?this.oDataSrv.getUserDetail().subscribe({next:e=>{this.dialog.open(Y,{width:"600px",closeOnNavigation:!1}).afterClosed().subscribe()},error:e=>{this.uiUtilSrv.showSnackInfo(e)}}):this.authSrv.doLogin()}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(i.h),i.Qb(m.c),i.Qb(g.e),i.Qb(b.c),i.Qb(f.b),i.Qb(l.d),i.Qb(l.b),i.Qb(i.B),i.Qb(l.f))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-root"]],decls:92,vars:62,consts:[[1,"example-container"],["color","primary",1,"example-toolbar"],["mat-icon-button","",3,"click"],["class","example-app-name",4,"ngIf"],[1,"toolbar-spacer"],["mat-icon-button","","mat-button","",3,"matTooltip","matMenuTriggerFor"],["overlapTrigger","false","xPosition","after","yPosition","below"],["matMenuLanguage","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"matTooltip","click"],["aria-hidden","false","aria-label","Code Repo"],[4,"ngIf"],[1,"example-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport"],["snav",""],["hideToggle","false"],["color","primary"],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],[1,"example-app-name"],["mat-menu-item","",3,"click"],["mat-list-item","",3,"routerLink"]],template:function(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",0),i.Wb(1,"mat-toolbar",1),i.Wb(2,"button",2),i.ec("click",function(){return i.xc(e),i.vc(25).toggle()}),i.Wb(3,"mat-icon"),i.Fc(4,"menu"),i.Vb(),i.Vb(),i.Ec(5,T,2,0,"h1",3),i.Ec(6,D,3,3,"h1",3),i.Rb(7,"span",4),i.Wb(8,"button",5),i.jc(9,"transloco"),i.Wb(10,"mat-icon"),i.Fc(11,"language"),i.Vb(),i.Vb(),i.Wb(12,"mat-menu",6,7),i.Ec(14,E,4,4,"button",8),i.Vb(),i.Wb(15,"button",9),i.ec("click",function(){return t.onUserInfo()}),i.jc(16,"transloco"),i.Wb(17,"mat-icon"),i.Fc(18,"account_box"),i.Vb(),i.Vb(),i.Wb(19,"button",2),i.ec("click",function(){return t.openCodeRepo()}),i.Wb(20,"mat-icon",10),i.Fc(21,"code"),i.Vb(),i.Vb(),i.Ec(22,F,2,1,"span",11),i.Vb(),i.Wb(23,"mat-sidenav-container",12),i.Wb(24,"mat-sidenav",13,14),i.Wb(26,"mat-expansion-panel",15),i.Wb(27,"mat-expansion-panel-header"),i.Wb(28,"mat-panel-title"),i.Wb(29,"mat-icon",16),i.Fc(30,"home"),i.Vb(),i.Fc(31),i.jc(32,"transloco"),i.Vb(),i.Vb(),i.Wb(33,"mat-nav-list"),i.Ec(34,M,3,6,"a",17),i.jc(35,"navItemFilter"),i.Vb(),i.Vb(),i.Wb(36,"mat-expansion-panel",15),i.Wb(37,"mat-expansion-panel-header"),i.Wb(38,"mat-panel-title"),i.Wb(39,"mat-icon",16),i.Fc(40,"school"),i.Vb(),i.Fc(41),i.jc(42,"transloco"),i.Vb(),i.Vb(),i.Wb(43,"mat-nav-list"),i.Ec(44,N,3,6,"a",17),i.jc(45,"navItemFilter"),i.Vb(),i.Vb(),i.Wb(46,"mat-expansion-panel",15),i.Wb(47,"mat-expansion-panel-header"),i.Wb(48,"mat-panel-title"),i.Wb(49,"mat-icon",16),i.Fc(50,"library_books"),i.Vb(),i.Fc(51),i.jc(52,"transloco"),i.Vb(),i.Vb(),i.Wb(53,"mat-nav-list"),i.Ec(54,z,3,6,"a",17),i.jc(55,"navItemFilter"),i.Vb(),i.Vb(),i.Wb(56,"mat-expansion-panel",15),i.Wb(57,"mat-expansion-panel-header"),i.Wb(58,"mat-panel-title"),i.Wb(59,"mat-icon",16),i.Fc(60,"snooze"),i.Vb(),i.Fc(61),i.jc(62,"transloco"),i.Vb(),i.Vb(),i.Wb(63,"mat-nav-list"),i.Ec(64,J,3,6,"a",17),i.jc(65,"navItemFilter"),i.Vb(),i.Vb(),i.Wb(66,"mat-expansion-panel",15),i.Wb(67,"mat-expansion-panel-header"),i.Wb(68,"mat-panel-title"),i.Wb(69,"mat-icon",16),i.Fc(70,"card_membership"),i.Vb(),i.Fc(71),i.jc(72,"transloco"),i.Vb(),i.Vb(),i.Wb(73,"mat-nav-list"),i.Ec(74,L,3,6,"a",17),i.jc(75,"navItemFilter"),i.Vb(),i.Vb(),i.Wb(76,"mat-expansion-panel",15),i.Wb(77,"mat-expansion-panel-header"),i.Wb(78,"mat-panel-title"),i.Wb(79,"mat-icon",16),i.Fc(80,"help_outline"),i.Vb(),i.Fc(81),i.jc(82,"transloco"),i.Vb(),i.Vb(),i.Wb(83,"mat-nav-list"),i.Ec(84,P,3,6,"a",17),i.jc(85,"navItemFilter"),i.Vb(),i.Vb(),i.Wb(86,"mat-nav-list"),i.Wb(87,"a",18),i.ec("click",function(){return i.xc(e),i.vc(25).close()}),i.Fc(88),i.jc(89,"transloco"),i.Vb(),i.Vb(),i.Vb(),i.Wb(90,"mat-sidenav-content"),i.Rb(91,"router-outlet"),i.Vb(),i.Vb(),i.Vb()}if(2&e){const e=i.vc(13);i.Ib("example-is-mobile",t.mobileQuery.matches),i.Eb(5),i.oc("ngIf",t.mobileQuery.matches),i.Eb(1),i.oc("ngIf",!t.mobileQuery.matches),i.Eb(2),i.pc("matTooltip",i.kc(9,26,"Language")),i.oc("matMenuTriggerFor",e),i.Eb(6),i.oc("ngForOf",t.availableLanguages),i.Eb(1),i.pc("matTooltip",i.kc(16,28,"Common.Logon")),i.Eb(7),i.oc("ngIf",!t.mobileQuery.matches),i.Eb(1),i.Bc("margin-top",t.mobileQuery.matches?56:0,"px"),i.Eb(1),i.oc("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),i.Eb(7),i.Hc(" ",i.kc(32,30,"WelcomePage")," "),i.Eb(3),i.oc("ngForOf",i.lc(35,32,t.navItems,0)),i.Eb(7),i.Hc("",i.kc(42,35,"MathExercise.PrimarySchoolBasicMath")," "),i.Eb(3),i.oc("ngForOf",i.lc(45,37,t.navItems,1)),i.Eb(7),i.Hc("",i.kc(52,40,"KnowledgeAndExercise")," "),i.Eb(3),i.oc("ngForOf",i.lc(55,42,t.navItems,7)),i.Eb(7),i.Hc("",i.kc(62,45,"PuzzleGames.PuzzleGames")," "),i.Eb(3),i.oc("ngForOf",i.lc(65,47,t.navItems,3)),i.Eb(7),i.Hc("",i.kc(72,50,"Award.HabitBuilder")," "),i.Eb(3),i.oc("ngForOf",i.lc(75,52,t.navItems,4)),i.Eb(7),i.Hc("",i.kc(82,55,"Help.About")," "),i.Eb(3),i.oc("ngForOf",i.lc(85,57,t.navItems,6)),i.Eb(4),i.Gc(i.kc(89,60,"Common.Close"))}},directives:[w.a,j.b,I.a,o.m,y.a,S.d,S.a,o.l,A.b,A.a,x.c,x.e,x.f,C.e,C.b,A.c,u.f,S.b,u.d],pipes:[g.d,_.a],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.mat-sidenav[_ngcontent-%COMP%]{min-width:200px}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.example-is-mobile[_ngcontent-%COMP%]   .example-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}"]}),e})(),Y=(()=>{class e{constructor(e,t){this.dialogRef=e,this.oDataSrv=t,this.displayedColumns=["userid","username","displayas"]}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(f.g),i.Qb(l.d))},e.\u0275cmp=i.Kb({type:e,selectors:[["app-current-user-dlg"]],decls:45,vars:26,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","usrid",3,"ngModel","ngModelChange"],["matInput","","disabled","","name","usrname",3,"ngModel"],["matInput","","disabled","","name","displayas",3,"ngModel"],["matInput","","disabled","","name","createdat",3,"ngModel"],["matInput","","disabled","","name","lastlogon",3,"ngModel"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","userid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","displayas"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(i.Wb(0,"h1",0),i.Fc(1),i.jc(2,"transloco"),i.Vb(),i.Wb(3,"div",1),i.Wb(4,"form"),i.Wb(5,"mat-form-field",2),i.Wb(6,"mat-label"),i.Fc(7),i.jc(8,"transloco"),i.Vb(),i.Wb(9,"input",3),i.ec("ngModelChange",function(e){return t.oDataSrv.currentUserDetail.userID=e}),i.Vb(),i.Vb(),i.Wb(10,"mat-form-field",2),i.Wb(11,"mat-label"),i.Fc(12),i.jc(13,"transloco"),i.Vb(),i.Rb(14,"input",4),i.Vb(),i.Wb(15,"mat-form-field",2),i.Wb(16,"mat-label"),i.Fc(17),i.jc(18,"transloco"),i.Vb(),i.Rb(19,"input",5),i.Vb(),i.Wb(20,"mat-form-field",2),i.Wb(21,"mat-label"),i.Fc(22),i.jc(23,"transloco"),i.Vb(),i.Rb(24,"input",6),i.Vb(),i.Wb(25,"mat-form-field",2),i.Wb(26,"mat-label"),i.Fc(27),i.jc(28,"transloco"),i.Vb(),i.Rb(29,"input",7),i.Vb(),i.Vb(),i.Wb(30,"table",8),i.Ub(31,9),i.Ec(32,V,2,0,"th",10),i.Ec(33,W,2,1,"td",11),i.Tb(),i.Ub(34,12),i.Ec(35,Q,3,3,"th",10),i.Ec(36,B,2,1,"td",11),i.Tb(),i.Ub(37,13),i.Ec(38,$,2,0,"th",10),i.Ec(39,K,2,1,"td",11),i.Tb(),i.Ec(40,H,1,0,"tr",14),i.Ec(41,G,1,0,"tr",15),i.Vb(),i.Vb(),i.Wb(42,"div",16),i.Wb(43,"button",17),i.Fc(44,"OK"),i.Vb(),i.Vb()),2&e&&(i.Eb(1),i.Gc(i.kc(2,14,"Common.CurrentUser")),i.Eb(6),i.Gc(i.kc(8,16,"Common.ID")),i.Eb(2),i.oc("ngModel",t.oDataSrv.currentUserDetail.userID),i.Eb(3),i.Gc(i.kc(13,18,"Common.Name")),i.Eb(2),i.oc("ngModel",t.oDataSrv.currentUserDetail.userName),i.Eb(3),i.Gc(i.kc(18,20,"Common.DisplayAs")),i.Eb(2),i.oc("ngModel",t.oDataSrv.currentUserDetail.displayAs),i.Eb(3),i.Gc(i.kc(23,22,"CreatedAt")),i.Eb(2),i.oc("ngModel",t.oDataSrv.currentUserDetail.createdAtString),i.Eb(3),i.Gc(i.kc(28,24,"CreatedAt")),i.Eb(2),i.oc("ngModel",t.oDataSrv.currentUserDetail.lastLogonAtString),i.Eb(1),i.oc("dataSource",t.oDataSrv.currentUserDetail.awardUsers),i.Eb(10),i.oc("matHeaderRowDef",t.displayedColumns),i.Eb(1),i.oc("matRowDefColumns",t.displayedColumns))},directives:[f.h,f.e,c.v,c.o,c.p,v.c,v.g,k.b,c.c,c.n,c.q,O.j,O.c,O.e,O.b,O.g,O.i,f.c,j.b,f.d,O.d,O.a,O.f,O.h],pipes:[g.d],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})();var X=s("R1ws"),Z=s("jIBr"),ee=s("0LvA"),te=s("lR5k");const se={provide:g.b,useClass:(()=>{class e{constructor(e){this.http=e}getTranslation(e){return this.http.get(`${r.a.basehref}assets/i18n/${e}.json`)}}return e.\u0275fac=function(t){return new(t||e)(i.ac(n.a))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()};let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.Ob({type:e,bootstrap:[q]}),e.\u0275inj=i.Nb({providers:[l.d,l.f,l.e,l.b,l.a,{provide:g.a,useValue:Object(g.f)({availableLangs:["en","zh"],defaultLang:"zh",reRenderOnLangChange:!0,prodMode:r.a.production})},se],imports:[[o.c,c.i,c.s,a.a,d,X.b,n.b,g.c,ee.b,te.b.forRoot({loader:n.a,markedOptions:{provide:te.c,useValue:{gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}),Z.a]]}),e})();r.a.production&&Object(i.V)(),a.c().bootstrapModule(ie).catch(e=>console.error(e))},zn8P:function(e,t){function s(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id="zn8P"}},[[0,1,6]]]);