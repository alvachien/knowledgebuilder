"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[0],{3e3:(Y,A,a)=>{a.r(A),a.d(A,{PuzzleGameModule:()=>f});var k=a(6895),h=a(4006),x=a(1525),O=a(6127),w=a(9132),t=a(4650);class m{}m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-puzzle-game"]],decls:2,vars:0,template:function(e,n){1&e&&(t.TgZ(0,"p"),t._uU(1,"puzzle-game works!"),t.qZA())}});var d=a(5938),T=a(4859),q=a(6709);class c{constructor(e,n){this.dialogRef=e,this.data=n}onNoClick(){this.dialogRef.close()}}c.\u0275fac=function(e){return new(e||c)(t.Y36(d.so),t.Y36(d.WI))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-result-dialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"p"),t._uU(4,"What's your next step?"),t.qZA(),t.TgZ(5,"mat-checkbox",2),t.NdJ("ngModelChange",function(l){return n.data.haveAnotherTry=l}),t._uU(6," Have another try? "),t.qZA()(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return n.onNoClick()}),t._uU(9,"No Thanks"),t.qZA(),t.TgZ(10,"button",5),t._uU(11,"Ok"),t.qZA()()),2&e&&(t.xp6(1),t.hij(" ",n.data.youWin?"You Win":"You Lost","\n"),t.xp6(4),t.Q6J("ngModel",n.data.haveAnotherTry),t.xp6(5),t.Q6J("mat-dialog-close",n.data.haveAnotherTry))},dependencies:[T.lW,q.oG,d.ZT,d.uh,d.xY,d.H8,h.JJ,h.On]});var g=a(5629),_=a(3546),R=a(4144),G=a(9549);function I(s,e){1&s&&(t.TgZ(0,"span"),t._uU(1,","),t.qZA())}function J(s,e){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,I,2,0,"span",13),t.qZA()),2&s){const n=e.$implicit,i=e.index,l=t.oxw(2);t.xp6(1),t.Oqu(n),t.xp6(1),t.Q6J("ngIf",i!==l.Cal24items.length-1)}}function E(s,e){if(1&s){const n=t.EpF();t.TgZ(0,"div",1)(1,"h2",1),t.YNc(2,J,3,2,"span",10),t.qZA(),t.TgZ(3,"h2",1)(4,"p",11),t._uU(5),t.ALo(6,"transloco"),t.qZA()(),t.TgZ(7,"div",1)(8,"mat-form-field")(9,"input",12),t.NdJ("ngModelChange",function(l){t.CHM(n);const o=t.oxw();return t.KtG(o.Cal24Input=l)}),t.ALo(10,"transloco"),t.qZA()()()()}if(2&s){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.Cal24items),t.xp6(3),t.hij(" ",t.lcZ(6,4,"PuzzleGames.Cal24Detail")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(10,6,"PuzzleGames.Calculate24")),t.Q6J("ngModel",n.Cal24Input)}}function M(s,e){if(1&s){const n=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.OnCal24Surrender())}),t._uU(1),t.ALo(2,"transloco"),t.qZA()}2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"PuzzleGames.Surrender")))}class C{constructor(e){this.dialog=e,this.isStarted=!1,this.Cal24Input="",this.Cal24items=[],this.Cal24NumberRangeBgn=1,this.Cal24NumberRangeEnd=10,this.Cal24SurrendString=""}CanCal24Start(){return!this.isStarted}IsButtonDisabled(e){return!this.isStarted||!this.Cal24items.includes(e)}OnCal24Start(){for(this.Cal24Input="",this.Cal24items=[];this.Cal24items.length<4;){let e=Math.round(Math.random()*(this.Cal24NumberRangeEnd-this.Cal24NumberRangeBgn))+this.Cal24NumberRangeBgn;e>this.Cal24NumberRangeEnd?e=this.Cal24NumberRangeEnd:e<this.Cal24NumberRangeBgn&&(e=this.Cal24NumberRangeBgn),-1===this.Cal24items.findIndex(i=>i===e)&&this.Cal24items.push(e)}this.isStarted=!0}CanCal24Submit(){return!(!this.isStarted||this.Cal24Input.length<=0)}OnCal24Append(e){this.Cal24Input+=e}OnCal24Backspace(){this.Cal24Input=this.Cal24Input.length>1?this.Cal24Input.substring(0,this.Cal24Input.length-1):""}OnCal24Reset(){this.Cal24Input=""}OnCal24Submit(){let e=0,n="",i=!1,l=!1;try{let u=this.Cal24Input.replace("\xd7","*");u=u.replace("\xf7","/");let U=new g.qR;U.init(u),e=U.evaulate(),24!==e||(l=!0)}catch(u){l=!1,n=u?.toString()??""}this.dialog.open(c,{width:"300px",data:{youWin:l}}).afterClosed().subscribe(u=>{console.log(u),i=u,i?this.OnCal24Start():this.isStarted=!1})}OnCal24Surrender(){let e=!1;this.dialog.open(c,{width:"300px",data:{youWin:!1}}).afterClosed().subscribe(i=>{console.log(i),e=i,e?this.OnCal24Start():this.isStarted=!1})}}C.\u0275fac=function(e){return new(e||C)(t.Y36(d.uw))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-calculate24"]],decls:56,vars:37,consts:[["appearance","outlined",1,"control-full-width"],[1,"control-full-width"],["cal24btntbr",""],["mat-mini-fab","","color","primary",3,"disabled","click"],["mat-mini-fab","","color","accent",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"],["class","control-full-width",4,"ngIf"],["mat-button","",3,"disabled","click"],["mat-button","","color","primary",3,"disabled","click"],["mat-raised-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"lead"],["matInput","","type","text","name","cal24inp","readonly","","required","",3,"placeholder","ngModel","ngModelChange"],[4,"ngIf"],["mat-raised-button","",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"transloco"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",1)(7,"div",null,2)(9,"button",3),t.NdJ("click",function(){return n.OnCal24Append("1")}),t._uU(10,"1"),t.qZA(),t.TgZ(11,"button",3),t.NdJ("click",function(){return n.OnCal24Append("2")}),t._uU(12,"2"),t.qZA(),t.TgZ(13,"button",3),t.NdJ("click",function(){return n.OnCal24Append("3")}),t._uU(14,"3"),t.qZA(),t.TgZ(15,"button",3),t.NdJ("click",function(){return n.OnCal24Append("4")}),t._uU(16,"4"),t.qZA(),t.TgZ(17,"button",3),t.NdJ("click",function(){return n.OnCal24Append("5")}),t._uU(18,"5"),t.qZA(),t.TgZ(19,"button",3),t.NdJ("click",function(){return n.OnCal24Append("6")}),t._uU(20,"6"),t.qZA(),t.TgZ(21,"button",3),t.NdJ("click",function(){return n.OnCal24Append("7")}),t._uU(22,"7"),t.qZA(),t.TgZ(23,"button",3),t.NdJ("click",function(){return n.OnCal24Append("8")}),t._uU(24,"8"),t.qZA(),t.TgZ(25,"button",3),t.NdJ("click",function(){return n.OnCal24Append("9")}),t._uU(26,"9"),t.qZA(),t.TgZ(27,"button",3),t.NdJ("click",function(){return n.OnCal24Append("10")}),t._uU(28,"10"),t.qZA()(),t.TgZ(29,"button",4),t.NdJ("click",function(){return n.OnCal24Append("+")}),t._uU(30,"+"),t.qZA(),t.TgZ(31,"button",4),t.NdJ("click",function(){return n.OnCal24Append("-")}),t._uU(32,"-"),t.qZA(),t.TgZ(33,"button",4),t.NdJ("click",function(){return n.OnCal24Append("\xd7")}),t._uU(34,"\xd7"),t.qZA(),t.TgZ(35,"button",4),t.NdJ("click",function(){return n.OnCal24Append("\xf7")}),t._uU(36,"\xf7"),t.qZA(),t.TgZ(37,"button",4),t.NdJ("click",function(){return n.OnCal24Append("(")}),t._uU(38,"("),t.qZA(),t.TgZ(39,"button",4),t.NdJ("click",function(){return n.OnCal24Append(")")}),t._uU(40,")"),t.qZA(),t.TgZ(41,"button",5),t.NdJ("click",function(){return n.OnCal24Backspace()}),t._uU(42),t.ALo(43,"transloco"),t.qZA(),t.TgZ(44,"button",5),t.NdJ("click",function(){return n.OnCal24Reset()}),t._uU(45),t.ALo(46,"transloco"),t.qZA()(),t.YNc(47,E,11,8,"div",6),t.qZA(),t.TgZ(48,"mat-card-actions")(49,"button",7),t.NdJ("click",function(){return n.OnCal24Start()}),t._uU(50),t.ALo(51,"transloco"),t.qZA(),t.TgZ(52,"button",8),t.NdJ("click",function(){return n.OnCal24Submit()}),t._uU(53),t.ALo(54,"transloco"),t.qZA(),t.YNc(55,M,3,3,"button",9),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,27,"PuzzleGames.Calculate24")),t.xp6(6),t.Q6J("disabled",n.IsButtonDisabled(1)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(2)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(3)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(4)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(5)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(6)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(7)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(8)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(9)),t.xp6(2),t.Q6J("disabled",n.IsButtonDisabled(10)),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(1),t.Oqu(t.lcZ(43,29,"Common.Backspace")),t.xp6(2),t.Q6J("disabled",!n.isStarted),t.xp6(1),t.Oqu(t.lcZ(46,31,"Common.Reset")),t.xp6(2),t.Q6J("ngIf",n.isStarted),t.xp6(2),t.Q6J("disabled",n.isStarted),t.xp6(1),t.Oqu(t.lcZ(51,33,"Common.Start")),t.xp6(2),t.Q6J("disabled",!n.CanCal24Submit()),t.xp6(1),t.Oqu(t.lcZ(54,35,"Common.Submit")),t.xp6(2),t.Q6J("ngIf",n.isStarted))},dependencies:[k.sg,k.O5,T.lW,T.nh,_.a8,_.hq,_.dn,_.dk,_.n5,R.Nt,G.KE,h.Fj,h.JJ,h.Q7,h.On,x.Ot],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}"]});var r=a(2701),S=a(2340);const N=["canvasgobang"];class y{onGobangCanvasMouseDown(e){const n=(0,g.z0)(e.target,e),i=(0,g.oy)(n,this._cellwidth,this._cellheight);this.onProcessStep(i)}constructor(e){this.dialog=e,this._cellsize=15,this._cellheight=40,this._cellwidth=40,this._userStep=!0,this._instance=new r.u2}ngAfterContentInit(){this._instance.Dimension=this._cellsize,this._instance.init(),this.canvasGobang.nativeElement.width=this._cellwidth*this._cellsize,this.canvasGobang.nativeElement.height=this._cellheight*this._cellsize,this.drawWholeRect()}drawWholeRect(){const e=this.canvasGobang.nativeElement.getContext("2d");e.clearRect(0,0,this.canvasGobang.nativeElement.width,this.canvasGobang.nativeElement.height),e.save(),e.fillStyle="rgba(0, 0, 100, 0.2)",e.fillRect(0,0,this.canvasGobang.nativeElement.width,this.canvasGobang.nativeElement.height),e.restore();for(let n=0;n<=this._cellsize;n++)e.beginPath(),e.moveTo(0,n*this._cellheight),e.lineTo(this._cellheight*this._cellsize,n*this._cellheight),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(n*this._cellwidth,0),e.lineTo(n*this._cellheight,this._cellwidth*this._cellsize),e.closePath(),e.stroke()}drawChess(e){const n=this.canvasGobang.nativeElement.getContext("2d"),i=new Image;i.src=this._userStep?S.N.basehref+"assets/image/gobangresource/blackchess.png":S.N.basehref+"assets/image/gobangresource/whitechess.png",i.onload=()=>{n.drawImage(i,e.column*this._cellwidth,e.row*this._cellheight,this._cellwidth,this._cellheight)}}onProcessStep(e){if(!this._instance.Finished&&!this._instance.isCellHasValue(e.row,e.column))if(this.drawChess(e),this._instance.setCellValue(e.row,e.column,this._userStep),this._instance.Finished){let n=!1;this.dialog.open(c,{width:"300px",data:{youWin:!!this._userStep}}).afterClosed().subscribe(o=>{console.log(o),n=o,n?(this._userStep=!0,this._instance=new r.u2,this._instance.Dimension=this._cellsize,this._instance.init(),this.canvasGobang.nativeElement.width=this._cellwidth*this._cellsize,this.canvasGobang.nativeElement.height=this._cellheight*this._cellsize,this.drawWholeRect()):this._userStep=!1})}else this._userStep=!this._userStep,!1===this._userStep&&setTimeout(()=>{const n=this._instance.workoutNextCellAIPosition();this.onProcessStep(n)},500)}}y.\u0275fac=function(e){return new(e||y)(t.Y36(d.uw))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-gobang-game"]],viewQuery:function(e,n){if(1&e&&t.Gf(N,7),2&e){let i;t.iGM(i=t.CRH())&&(n.canvasGobang=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(l){return n.onGobangCanvasMouseDown(l)})},decls:2,vars:0,consts:[["width","800px","height","600px"],["canvasgobang",""]],template:function(e,n){1&e&&t._UZ(0,"canvas",0,1)}});const W=["expword"],z=["inpword"],D=["inpword2"],P=["keyboard"];class b{constructor(){this.finishEvent=new t.vpe,this.expectedString="",this.inputtedString="",this.fakedContent="",this.arComparison=[],this.currHittingKeyID=""}ngOnInit(){this.inputtedString="",this.generateExpectedString(),this.updateComparison()}ngAfterViewInit(){this.inpWordER.nativeElement.addEventListener("focus",()=>{this.inpWord2ER.nativeElement.focus()}),this.inpWord2ER.nativeElement.focus()}updateComparison(e){if(e){const n=this.inputtedString?.length??0;let i=!0;n!==this.arComparison.length&&(i=!1);for(let l=0;l<n;l++)this.arComparison[l].inputted=this.inputtedString?.charAt(l)??"",i&&this.arComparison[l].expected!==(this.inputtedString?.charAt(l)??"")&&(i=!1);i&&this.finishEvent.emit(null);for(let l=n;l<this.arComparison.length;l++)this.arComparison[l].inputted="";if(null!=this.inpWordER){let l="";for(const o of this.arComparison)null!==o.inputted&&o.inputted!==o.expected?l+='<span style="color: #FF0000;">'+o.inputted+"</span>":null!==o.inputted&&(l+="<span>"+o.inputted+"</span>");this.inpWordER.nativeElement.innerHTML=l}}else if(void 0!==this.expectedString&&this.expectedString.length>0){this.arComparison=[];for(const n of this.expectedString)this.arComparison.push({expected:n,inputted:""});if(null!=this.expWordER){let n="";for(const i of this.expectedString)n+="<span>"+i+"</span>";this.expWordER.nativeElement.innerHTML=n}}}generateExpectedString(){let e="abcdefghijklmnopqrstuvwxyz";e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e+="0123456789",this.expectedString="";for(let n=0;n<20;n++){const i=e.charAt(Math.floor(Math.random()*e.length));this.expectedString+=i}}onPGTypingTourKeyDown(e){if(e.preventDefault&&e.preventDefault(),"Backspace"===e.key)this.inputtedString=(this.inputtedString??"").length>=2?(this.inputtedString??"").slice(0,length-2):"",this.updateComparison(!0);else if(-1!=="`1234567890-=~!@#$%^&*()_+[]\\{}|;':\",./<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".indexOf(e.key)){if(null!=this.keyboardER){const n=this.getElementIDByKey(e.key);void 0!==n&&n.length>0&&(this.currHittingKeyID=n,this.keyboardER.nativeElement.querySelector("#"+n).classList.add("keyhitting"))}this.inputtedString=this.inputtedString+e.key,this.updateComparison(!0)}}onPGTypingTourKeyUp(e){null!=this.keyboardER&&void 0!==this.currHittingKeyID&&this.currHittingKeyID.length>0&&this.keyboardER.nativeElement.querySelector("#"+this.currHittingKeyID).classList.remove("keyhitting")}getElementIDByKey(e){return-1!=="`~".indexOf(e)?"keykeybackquote":-1!=="1!".indexOf(e)?"key1":-1!=="2@".indexOf(e)?"key2":-1!=="3#".indexOf(e)?"key3":-1!=="4$".indexOf(e)?"key4":-1!=="5%".indexOf(e)?"key5":-1!=="6^".indexOf(e)?"key6":-1!=="7&".indexOf(e)?"key7":-1!=="8*".indexOf(e)?"key8":-1!=="9(".indexOf(e)?"key9":-1!=="0)".indexOf(e)?"key0":-1!=="-_".indexOf(e)?"keyminus":-1!=="=+".indexOf(e)?"keyequal":-1!=="qQ".indexOf(e)?"keyq":-1!=="wW".indexOf(e)?"keyw":-1!=="eE".indexOf(e)?"keye":-1!=="rR".indexOf(e)?"keyr":-1!=="tT".indexOf(e)?"keyt":-1!=="Yy".indexOf(e)?"keyy":-1!=="uU".indexOf(e)?"keyu":-1!=="iI".indexOf(e)?"keyi":-1!=="oO".indexOf(e)?"keyo":-1!=="pP".indexOf(e)?"keyp":-1!=="[{".indexOf(e)?"keyleftbr":-1!=="]}".indexOf(e)?"keyrightbr":-1!=="|\\".indexOf(e)?"keybackslash":-1!=="aA".indexOf(e)?"keya":-1!=="sS".indexOf(e)?"keys":-1!=="dD".indexOf(e)?"keyd":-1!=="fF".indexOf(e)?"keyf":-1!=="gG".indexOf(e)?"keyg":-1!=="hH".indexOf(e)?"keyh":-1!=="jJ".indexOf(e)?"keyj":-1!=="kK".indexOf(e)?"keyk":-1!=="lL".indexOf(e)?"keyl":-1!==";:".indexOf(e)?"keysemicolon":-1!=="'\"".indexOf(e)?"keyquote":-1!=="zZ".indexOf(e)?"keyz":-1!=="xX".indexOf(e)?"keyx":-1!=="cC".indexOf(e)?"keyc":-1!=="vV".indexOf(e)?"keyv":-1!=="bB".indexOf(e)?"keyb":-1!=="nN".indexOf(e)?"keyn":-1!=="mM".indexOf(e)?"keym":-1!=="<,".indexOf(e)?"keycomma":-1!==">.".indexOf(e)?"keydot":-1!=="/?".indexOf(e)?"keyslash":void 0}}b.\u0275fac=function(e){return new(e||b)},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-typing-game"]],viewQuery:function(e,n){if(1&e&&(t.Gf(W,7),t.Gf(z,7),t.Gf(D,7),t.Gf(P,7)),2&e){let i;t.iGM(i=t.CRH())&&(n.expWordER=i.first),t.iGM(i=t.CRH())&&(n.inpWordER=i.first),t.iGM(i=t.CRH())&&(n.inpWord2ER=i.first),t.iGM(i=t.CRH())&&(n.keyboardER=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(l){return n.onPGTypingTourKeyDown(l)})("keyup",function(l){return n.onPGTypingTourKeyUp(l)})},outputs:{finishEvent:"finishEvent"},decls:109,vars:0,consts:[[1,"demo-full-width",2,"background-color","#fffff0","color","blue"],["align","center"],["expword",""],[1,"demo-full-width",2,"background-color","#fffff0","color","black"],["align","center","contenteditable","true",2,"cursor","none"],["inpword",""],["type","number","contenteditable","true",1,"input-hidden"],["inpword2",""],[2,"border","1px dotted gray","padding","20px","width","600px","text-align","center","margin","0 auto"],["keyboard",""],[1,"m-2"],["id","keybackquote"],["id","key1"],["id","key2"],["id","key3"],["id","key4"],["id","key5"],["id","key6"],["id","key7"],["id","key8"],["id","key9"],["id","key0"],["id","keyminus"],["id","keyequal"],["id","keyq"],["id","keyw"],["id","keye"],["id","keyr"],["id","keyt"],["id","keyy"],["id","keyu"],["id","keyi"],["id","keyo"],["id","keyp"],["id","keyleftbr"],["id","keyrightbr"],["id","keybackslash"],["id","keya"],["id","keys"],["id","keyd"],["id","keyf"],["id","keyg"],["id","keyh"],["id","keyj"],["id","keyk"],["id","keyl"],["id","keysemicolon"],["id","keyquote"],["id","keyz"],["id","keyx"],["id","keyc"],["id","keyv"],["id","keyb"],["id","keyn"],["id","keym"],["id","keycomma"],["id","keydot"],["id","keyslash"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"h2",0),t._UZ(2,"div",1,2),t.qZA(),t.TgZ(4,"h2",3),t._UZ(5,"div",4,5)(7,"input",6,7),t.qZA()(),t.TgZ(9,"div",8,9)(11,"div",10)(12,"span",11),t._uU(13,"`"),t.qZA(),t.TgZ(14,"span",12),t._uU(15,"1"),t.qZA(),t.TgZ(16,"span",13),t._uU(17,"2"),t.qZA(),t.TgZ(18,"span",14),t._uU(19,"3"),t.qZA(),t.TgZ(20,"span",15),t._uU(21,"4"),t.qZA(),t.TgZ(22,"span",16),t._uU(23,"5"),t.qZA(),t.TgZ(24,"span",17),t._uU(25,"6"),t.qZA(),t.TgZ(26,"span",18),t._uU(27,"7"),t.qZA(),t.TgZ(28,"span",19),t._uU(29,"8"),t.qZA(),t.TgZ(30,"span",20),t._uU(31,"9"),t.qZA(),t.TgZ(32,"span",21),t._uU(33,"0"),t.qZA(),t.TgZ(34,"span",22),t._uU(35,"-"),t.qZA(),t.TgZ(36,"span",23),t._uU(37,"="),t.qZA()(),t.TgZ(38,"div",10)(39,"span",24),t._uU(40,"q"),t.qZA(),t.TgZ(41,"span",25),t._uU(42,"w"),t.qZA(),t.TgZ(43,"span",26),t._uU(44,"e"),t.qZA(),t.TgZ(45,"span",27),t._uU(46,"r"),t.qZA(),t.TgZ(47,"span",28),t._uU(48,"t"),t.qZA(),t.TgZ(49,"span",29),t._uU(50,"y"),t.qZA(),t.TgZ(51,"span",30),t._uU(52,"u"),t.qZA(),t.TgZ(53,"span",31),t._uU(54,"i"),t.qZA(),t.TgZ(55,"span",32),t._uU(56,"o"),t.qZA(),t.TgZ(57,"span",33),t._uU(58,"p"),t.qZA(),t.TgZ(59,"span",34),t._uU(60,"["),t.qZA(),t.TgZ(61,"span",35),t._uU(62,"]"),t.qZA(),t.TgZ(63,"span",36),t._uU(64,"\\"),t.qZA()(),t.TgZ(65,"div",10)(66,"span",37),t._uU(67,"a"),t.qZA(),t.TgZ(68,"span",38),t._uU(69,"s"),t.qZA(),t.TgZ(70,"span",39),t._uU(71,"d"),t.qZA(),t.TgZ(72,"span",40),t._uU(73,"f"),t.qZA(),t.TgZ(74,"span",41),t._uU(75,"g"),t.qZA(),t.TgZ(76,"span",42),t._uU(77,"h"),t.qZA(),t.TgZ(78,"span",43),t._uU(79,"j"),t.qZA(),t.TgZ(80,"span",44),t._uU(81,"k"),t.qZA(),t.TgZ(82,"span",45),t._uU(83,"l"),t.qZA(),t.TgZ(84,"span",46),t._uU(85,";"),t.qZA(),t.TgZ(86,"span",47),t._uU(87,"'"),t.qZA()(),t.TgZ(88,"div",10)(89,"span",48),t._uU(90,"z"),t.qZA(),t.TgZ(91,"span",49),t._uU(92,"x"),t.qZA(),t.TgZ(93,"span",50),t._uU(94,"c"),t.qZA(),t.TgZ(95,"span",51),t._uU(96,"v"),t.qZA(),t.TgZ(97,"span",52),t._uU(98,"b"),t.qZA(),t.TgZ(99,"span",53),t._uU(100,"n"),t.qZA(),t.TgZ(101,"span",54),t._uU(102,"m"),t.qZA(),t.TgZ(103,"span",55),t._uU(104,","),t.qZA(),t.TgZ(105,"span",56),t._uU(106,"."),t.qZA(),t.TgZ(107,"span",57),t._uU(108,"/"),t.qZA()()())},styles:["span[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px;margin-right:5px;font-family:Courier New,monospace;font-size:20pt;border:1px solid gray;padding:5px;color:#121212;background-color:ivory;border-width:0 1px 1px 0}.m-2[_ngcontent-%COMP%]{margin:1.25rem!important}.demo-full-width[_ngcontent-%COMP%]{width:100%}.input-fail[_ngcontent-%COMP%]{color:red}input.input-hidden[_ngcontent-%COMP%]{color:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;top:0}.keyhitting[_ngcontent-%COMP%]{background-color:#0dd}"]});const B=["canvassudou"];class H{constructor(){this.num=null,this.fixed=!0,this.inConflict=!1}toString(){return null==this.num?"":this.num.toString()}}function v(s,e){for(const n in e)if(e[n]===s)return!0;return!1}class Q{constructor(e,n,i,l,o,u){this._nlist=[],this._x=e,this._y=n,this._itemWidth=i,this._nlist=l,this._w=3*this._itemWidth,this._h=4*this._itemWidth,this._drawX=this._x-this._w/2,this._drawY=this._y-this._h/2,this._drawX<0&&(this._drawX=0),this._drawY<0&&(this._drawY=0),this._drawX+this._w>o&&(this._drawX=o-this._w),this._drawY+this._h>u&&(this._drawY=u-this._h)}Draw(e){e.fillStyle="pink",e.fillRect(this._drawX,this._drawY,this._w,this._h),e.strokeStyle="#000000",e.lineWidth=2,e.strokeRect(this._drawX,this._drawY,this._w,this._h),e.strokeStyle="#000000",e.lineWidth=1;for(let n=1;n<=r.Uc;n++){const i=this._drawX+(n-1)%3*this._itemWidth,l=this._drawY+Math.floor((n-1)/3)*this._itemWidth;e.strokeStyle="#000000",e.strokeRect(i,l,this._itemWidth,this._itemWidth),v(n,this._nlist)&&(e.fillStyle="green",e.font="Bold "+this._itemWidth/2+"px Arial",e.fillText(n.toString(),i+this._itemWidth/3,l+this._itemWidth/1.5))}}GetHitNumber(e,n){const i=Math.floor((e-this._drawX)/this._itemWidth),l=Math.floor((n-this._drawY)/this._itemWidth);if(i<0||i>2||l<0||l>3)return-1;if(3===l)return null;const o=3*l+i+1;return v(o,this._nlist)?o:null}}class Z{constructor(e){this.dialog=e,this._objSudou=null,this._width=0,this._height=0,this._editingCellIndex=null,this._editPanel=null,this._dataCells=[],this._started=!1}ngOnInit(){this._started=!0,this._objSudou=(0,r.rD)()}ngAfterContentInit(){this._width=this.canvasSudou.nativeElement.width,this._height=this.canvasSudou.nativeElement.height,this._itemWidth=this._width/r.Uc,this._itemHeight=this._height/r.Uc,this.onStartCore()}onStartCore(){if(this._started&&null!=this._objSudou){const e=this._objSudou.getDataCells();this._dataCells=[];for(let n=0;n<r.Uc;n++){const i=[];for(let l=0;l<r.Uc;l++)i.push(0);this._dataCells.push(i)}for(let n=0;n<r.Uc;n++)for(let i=0;i<r.Uc;i++){const l=new H;6*Math.random()<2?(l.fixed=!1,l.num=null):(l.fixed=!0,l.num=e[n][i]),l.exp_num=e[n][i],this._dataCells[n][i]=l}this.onDraw()}}onDraw(){const e=this.canvasSudou.nativeElement.getContext("2d");e.fillStyle="#ffffff",e.fillRect(0,0,this._width,this._height),e.font="Bold "+this._itemWidth/1.5+"px Roboto";for(let n=0;n<r.Uc;n++)for(let i=0;i<r.Uc;i++){const l=this._dataCells[n][i];l.fixed&&(e.fillStyle="#dddddd",e.fillRect(i*this._itemWidth,n*this._itemHeight,this._itemWidth,this._itemHeight)),e.fillStyle="#008800",null===l.num||(e.fillStyle=l.inConflict?"red":l.fixed?"#000000":"#008800",e.fillText(l.num.toString(),(i+.3)*this._itemWidth,(n+.8)*this._itemHeight))}e.lineWidth=1,e.strokeStyle="#000000";for(let n=0;n<10;n++)e.lineWidth=n%3==0?3:1,e.beginPath(),e.moveTo(n*this._itemWidth,0),e.lineTo(n*this._itemWidth,this._height),e.moveTo(0,n*this._itemHeight),e.lineTo(this._width,n*this._itemHeight),e.stroke()}onSudouCanvasMouseDown(e){}onSudouCanvasMouseUp(e){const n=(0,g.z0)(e.target,e);this.ProcessMouseClick(n)}ProcessMouseClick(e){if(null===this._editingCellIndex){const n=(0,g.oy)(e,this._itemWidth,this._itemHeight);if(n.row<0||n.row>8||n.column<0||n.column>8)return this._editingCellIndex=null,this._editPanel=null,void this.onDraw();if(!0===this._dataCells[n.row][n.column].fixed)return this._editingCellIndex=null,this._editPanel=null,void this.onDraw();this._editingCellIndex=n,this._editPanel=new Q(e.x,e.y,this._itemWidth/1.5,[1,2,3,4,5,6,7,8,9],this._width,this._height);const o=this.canvasSudou.nativeElement.getContext("2d");this._editPanel.Draw(o)}else{const n=this._editPanel.GetHitNumber(e.x,e.y);if(null==n)this._dataCells[this._editingCellIndex.row][this._editingCellIndex.column].N=null;else{if(-1===n)return this._editingCellIndex=null,this._editPanel=null,this.onDraw(),void this.ProcessMouseClick(e);this._dataCells[this._editingCellIndex.row][this._editingCellIndex.column].num=n}if(this._editingCellIndex=null,this._editPanel=null,this.checkAllConflicts(),this.onDraw(),this.checkFinish()){let i=!1;this.dialog.open(c,{width:"300px",data:{youWin:!0}}).afterClosed().subscribe(u=>{console.log(u),i=u,i?(this._started=!0,this._objSudou=(0,r.rD)(),this.onStartCore()):this._started=!1})}}}checkFinish(){this.checkAllConflicts();for(let e=0;e<r.Uc;e++)for(let n=0;n<r.Uc;n++)if(null===this._dataCells[e][n].num||this._dataCells[e][n].InConflict)return!1;return!0}checkAllConflicts(){for(let e=0;e<r.Uc;e++)for(let n=0;n<r.Uc;n++)this._dataCells[e][n].inConflict=this.checkConflict({row:e,column:n})}checkConflict(e){const n=this._dataCells[e.row][e.column];if(null==n.num)return!1;for(let o=0;o<r.Uc;o++)if(this._dataCells[e.row][o].num===n.num&&o!==e.column)return!0;for(let o=0;o<r.Uc;o++)if(this._dataCells[o][e.column].num===n.num&&o!==e.row)return!0;const i=3*Math.floor(e.row/3),l=3*Math.floor(e.column/3);for(let o=i;o<i+3;o++)for(let u=l;u<l+3;u++)if(this._dataCells[o][u].num===n.num&&o!==e.row&&u!==e.column)return!0;return!1}}Z.\u0275fac=function(e){return new(e||Z)(t.Y36(d.uw))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-sudou"]],viewQuery:function(e,n){if(1&e&&t.Gf(B,7),2&e){let i;t.iGM(i=t.CRH())&&(n.canvasSudou=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(l){return n.onSudouCanvasMouseDown(l)})("mouseup",function(l){return n.onSudouCanvasMouseUp(l)})},decls:3,vars:0,consts:[[2,"text-align","center","margin","0 auto","border","1px"],["width","640px","height","640px"],["canvassudou",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"canvas",1,2),t.qZA())}});const F=[{path:"",component:m},{path:"cal24",component:C},{path:"gobang",component:y},{path:"typegame",component:b},{path:"sudou",component:Z},{path:"chinesechess",loadChildren:()=>a.e(905).then(a.bind(a,8905)).then(s=>s.ChineseChessModule)},{path:"battlecity",loadChildren:()=>a.e(697).then(a.bind(a,5697)).then(s=>s.BattleCityModule)}];class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[w.Bz.forChild(F),w.Bz]});class f{}f.\u0275fac=function(e){return new(e||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[k.ez,O.U,p,x.y4,h.u5]})}}]);