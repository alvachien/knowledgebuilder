!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Bbvb:function(e,n,i){"use strict";i.r(n),i.d(n,"TagModule",function(){return et});var c=i("ofXK"),o=i("3Pt+"),r=i("QPBi"),s=i("jIBr"),l=i("tyNb"),b=i("M9IT"),u=i("Dh3D"),f=i("VRyK"),d=i("LRne"),p=i("JX91"),m=i("eIep"),g=i("lJxs"),h=i("JIr8"),T=i("VHTt"),v=i("fXoL"),y=i("o0su"),D=i("Wp6s"),C=i("+0xr"),w=i("Xa2L"),R=i("bTqV");function x(t,e){1&t&&v.Pb(0,"mat-progress-spinner")}function I(t,e){1&t&&(v.Ub(0,"th",13),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t&&(v.Db(1),v.Ec(v.ic(2,1,"Tag")))}function O(t,e){if(1&t&&(v.Ub(0,"td",14),v.Dc(1),v.Tb()),2&t){var a=e.$implicit;v.Db(1),v.Fc(" ",a.TagTerm," ")}}function S(t,e){1&t&&(v.Ub(0,"th",13),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t&&(v.Db(1),v.Ec(v.ic(2,1,"Type")))}function U(t,e){if(1&t&&(v.Ub(0,"td",14),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t){var a=e.$implicit,n=v.gc();v.Db(1),v.Ec(v.ic(2,1,n.getTagReferenceTypeName(a.RefType)))}}function k(t,e){1&t&&(v.Ub(0,"th",13),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t&&(v.Db(1),v.Ec(v.ic(2,1,"Count")))}function P(t,e){if(1&t){var a=v.Vb();v.Ub(0,"td",14),v.Ub(1,"a",15),v.cc("click",function(){v.vc(a);var t=e.$implicit;return v.gc().onCountClicked(t)}),v.Dc(2),v.Tb(),v.Tb()}if(2&t){var n=e.$implicit;v.Db(2),v.Ec(n.Count)}}function L(t,e){1&t&&v.Pb(0,"tr",16)}function j(t,e){1&t&&v.Pb(0,"tr",17)}var E,M=((E=function(){function e(a,n){t(this,e),this.odataService=a,this.router=n,this.displayedColumns=["tag","reftype","count"],this.data=[],this.resultsLength=0,this.isLoadingResults=!1}return a(e,[{key:"getTagReferenceTypeName",value:function(t){return Object(T.E)(t)}},{key:"isExpertMode",get:function(){return this.odataService.expertMode}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(p.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTagCounts()}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(d.a)([])})).subscribe(function(e){return t.data=e})}},{key:"onCountClicked",value:function(t){this.router.navigate(t.RefType===T.y.KnowledgeItem?["/tag/displayki",t.TagTerm]:t.RefType===T.y.ExerciseItem?["/tag/displayei",t.TagTerm]:["/tag/display",t.TagTerm])}}]),e}()).\u0275fac=function(t){return new(t||E)(v.Ob(y.b),v.Ob(l.b))},E.\u0275cmp=v.Ib({type:E,selectors:[["app-tag"]],viewQuery:function(t,e){var a;1&t&&(v.Ic(b.a,1),v.Ic(u.a,1)),2&t&&(v.sc(a=v.dc())&&(e.paginator=a.first),v.sc(a=v.dc())&&(e.sort=a.first))},decls:23,vars:9,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-loading-shade"],[4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(v.Ub(0,"mat-card"),v.Ub(1,"mat-card-header"),v.Ub(2,"mat-card-title"),v.Dc(3),v.hc(4,"transloco"),v.Tb(),v.Tb(),v.Ub(5,"mat-card-content"),v.Ub(6,"div",0),v.Ub(7,"div",1),v.Cc(8,x,1,0,"mat-progress-spinner",2),v.Tb(),v.Ub(9,"div",3),v.Ub(10,"table",4),v.Sb(11,5),v.Cc(12,I,3,3,"th",6),v.Cc(13,O,2,1,"td",7),v.Rb(),v.Sb(14,8),v.Cc(15,S,3,3,"th",6),v.Cc(16,U,3,3,"td",7),v.Rb(),v.Sb(17,9),v.Cc(18,k,3,3,"th",6),v.Cc(19,P,3,1,"td",7),v.Rb(),v.Cc(20,L,1,0,"tr",10),v.Cc(21,j,1,0,"tr",11),v.Tb(),v.Tb(),v.Pb(22,"mat-paginator",12),v.Tb(),v.Tb(),v.Tb()),2&t&&(v.Db(3),v.Ec(v.ic(4,7,"Tags")),v.Db(5),v.mc("ngIf",e.isLoadingResults),v.Db(2),v.mc("dataSource",e.data),v.Db(10),v.mc("matHeaderRowDef",e.displayedColumns),v.Db(1),v.mc("matRowDefColumns",e.displayedColumns),v.Db(1),v.mc("length",e.resultsLength)("pageSize",30))},directives:[D.a,D.d,D.g,D.c,c.m,C.j,u.a,C.c,C.e,C.b,C.g,C.i,b.a,w.a,C.d,C.a,R.a,C.f,C.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),E),_=i("/t3+"),z=i("f0Cb");function $(t,e){1&t&&v.Pb(0,"mat-progress-spinner")}function H(t,e){if(1&t&&(v.Ub(0,"div",15),v.Cc(1,$,1,0,"mat-progress-spinner",16),v.Tb()),2&t){var a=v.gc();v.Db(1),v.mc("ngIf",a.isLoadingResults)}}function V(t,e){1&t&&(v.Ub(0,"th",17),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t&&(v.Db(1),v.Ec(v.ic(2,1,"Tag")))}function A(t,e){if(1&t&&(v.Ub(0,"td",18),v.Dc(1),v.Tb()),2&t){var a=e.$implicit;v.Db(1),v.Ec(a.TagTerm)}}function J(t,e){1&t&&(v.Ub(0,"th",17),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t&&(v.Db(1),v.Ec(v.ic(2,1,"Type")))}function K(t,e){if(1&t&&(v.Ub(0,"td",18),v.Dc(1),v.hc(2,"transloco"),v.Tb()),2&t){var a=e.$implicit,n=v.gc();v.Db(1),v.Ec(v.ic(2,1,n.getTagReferenceTypeName(a.RefType)))}}function N(t,e){1&t&&(v.Ub(0,"th",17),v.Dc(1,"Ref. ID"),v.Tb())}function X(t,e){if(1&t){var a=v.Vb();v.Ub(0,"td",18),v.Ub(1,"a",19),v.cc("click",function(){v.vc(a);var t=e.$implicit;return v.gc().onRefIDClicked(t)}),v.Dc(2),v.Tb(),v.Tb()}if(2&t){var n=e.$implicit;v.Db(2),v.Ec(n.RefID)}}function B(t,e){1&t&&v.Pb(0,"tr",20)}function G(t,e){1&t&&v.Pb(0,"tr",21)}var Q,q,F,W=((Q=function(){function e(a,n,i){t(this,e),this.odataService=a,this.activateRoute=n,this.router=i,this.displayedColumns=["tag","reftype","refid"],this.dataSource=[],this.currenttag="",this.resultsLength=0,this.isLoadingResults=!0,this.refType=void 0,this.getTagReferenceTypeName=T.E}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.activateRoute.url.subscribe({next:function(e){e instanceof Array&&e.length>0&&("display"===e[0].path?(t.currenttag=e[1].path,t.refType=void 0):"displayki"===e[0].path?(t.currenttag=e[1].path,t.refType=T.y.KnowledgeItem):"displayei"===e[0].path&&(t.currenttag=e[1].path,t.refType=T.y.ExerciseItem))},error:function(t){console.error(t)}})}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(p.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTags(t.currenttag,t.refType)}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(d.a)([])})).subscribe(function(e){return t.dataSource=e})}},{key:"onRefIDClicked",value:function(t){t.RefType===T.y.ExerciseItem?this.router.navigate(["exercise-item/display",t.RefID]):t.RefType===T.y.KnowledgeItem&&this.router.navigate(["knowledge-item/display",t.RefID])}},{key:"onGoToPreview",value:function(){var t=[];this.dataSource.forEach(function(e){e.RefType&&e.RefID&&t.push({refType:e.RefType,refId:e.RefID})}),this.odataService.previewObjList=t,this.router.navigate(["preview"])}}]),e}()).\u0275fac=function(t){return new(t||Q)(v.Ob(y.b),v.Ob(l.a),v.Ob(l.b))},Q.\u0275cmp=v.Ib({type:Q,selectors:[["app-tag-detail"]],viewQuery:function(t,e){var a;1&t&&(v.Ic(b.a,1),v.Ic(u.a,1)),2&t&&(v.sc(a=v.dc())&&(e.paginator=a.first),v.sc(a=v.dc())&&(e.sort=a.first))},decls:27,vars:13,consts:[[1,"toolbar-spacer"],[1,"example-button-row"],["mat-raised-button","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","refid"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(v.Ub(0,"mat-toolbar-row"),v.Ub(1,"span"),v.Dc(2),v.hc(3,"transloco"),v.Tb(),v.Pb(4,"span",0),v.Ub(5,"section"),v.Ub(6,"div",1),v.Ub(7,"button",2),v.cc("click",function(){return e.onGoToPreview()}),v.Dc(8),v.hc(9,"transloco"),v.Tb(),v.Tb(),v.Tb(),v.Tb(),v.Pb(10,"mat-divider"),v.Ub(11,"div",3),v.Cc(12,H,2,1,"div",4),v.Ub(13,"div",5),v.Ub(14,"table",6),v.Sb(15,7),v.Cc(16,V,3,3,"th",8),v.Cc(17,A,2,1,"td",9),v.Rb(),v.Sb(18,10),v.Cc(19,J,3,3,"th",8),v.Cc(20,K,3,3,"td",9),v.Rb(),v.Sb(21,11),v.Cc(22,N,2,0,"th",8),v.Cc(23,X,3,1,"td",9),v.Rb(),v.Cc(24,B,1,0,"tr",12),v.Cc(25,G,1,0,"tr",13),v.Tb(),v.Tb(),v.Pb(26,"mat-paginator",14),v.Tb()),2&t&&(v.Db(2),v.Gc("",v.ic(3,9,"Tag"),": ",e.currenttag,""),v.Db(6),v.Ec(v.ic(9,11,"Common.Preview")),v.Db(4),v.mc("ngIf",e.isLoadingResults),v.Db(2),v.mc("dataSource",e.dataSource),v.Db(10),v.mc("matHeaderRowDef",e.displayedColumns),v.Db(1),v.mc("matRowDefColumns",e.displayedColumns),v.Db(1),v.mc("length",e.resultsLength)("pageSize",20))},directives:[_.c,R.b,z.a,c.m,C.j,u.a,C.c,C.e,C.b,C.g,C.i,b.a,w.a,C.d,C.a,R.a,C.f,C.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-button-row[_ngcontent-%COMP%]{display:table-cell}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),Q),Y=[{path:"",component:M},{path:"display/:content",component:W},{path:"displayki/:content",component:W},{path:"displayei/:content",component:W}],Z=((q=function e(){t(this,e)}).\u0275fac=function(t){return new(t||q)},q.\u0275mod=v.Mb({type:q}),q.\u0275inj=v.Lb({imports:[[l.d.forChild(Y)],l.d]}),q),tt=i("lR5k"),et=((F=function e(){t(this,e)}).\u0275fac=function(t){return new(t||F)},F.\u0275mod=v.Mb({type:F}),F.\u0275inj=v.Lb({imports:[[c.c,o.h,o.r,s.a,Z,tt.b.forChild(),r.c]]}),F)}}])}();