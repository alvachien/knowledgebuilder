"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[770],{2770:(F,h,l)=>{l.r(h),l.d(h,{QuizSummaryModule:()=>$});var s=l(6814),_=l(6223),p=l(2164),y=l(5437),r=l(2787),Z=l(9611),t=l(5879),S=l(7093),m=l(4643),c=l(5195),u=l(9538);function T(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"#"),t.qZA())}function Q(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.ID," ")}}function C(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.Total")))}function z(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.Count," ")}}function g(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.TimeSpentInSeconds")))}function x(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.TimeSpent,".2"))}}function A(e,o){1&e&&t._UZ(0,"mat-header-row")}function D(e,o){1&e&&t._UZ(0,"mat-row")}let v=(()=>{class e{constructor(a){this.quizSrv=a,this.data=[],this.displayedColumns=["qid","count","timespent"]}ngOnInit(){this.data=[],this.quizSrv.ElderQuizs.forEach(a=>{this.data.push({ID:a.QuizID,Count:a.ElderSections.length,TimeSpent:a.ElderSections.reduce((n,d)=>{const f=new Z.oB(0,0);return f.TimeSpent=n.TimeSpent+d.TimeSpent,f}).TimeSpent})})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(S.vA))},e.\u0275cmp=t.Xpm({type:e,selectors:[["hkb-quiz-summary"]],decls:19,vars:6,consts:[["appearance","outlined"],[1,"example-table-container"],["mat-table","",1,"example-table",3,"dataSource"],["cdkColumnDef","qid"],[4,"cdkHeaderCellDef"],[4,"cdkCellDef"],["cdkColumnDef","count"],["cdkColumnDef","timespent"],[4,"cdkHeaderRowDef"],[4,"cdkRowDef","cdkRowDefColumns"]],template:function(a,n){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"transloco"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",1)(7,"table",2),t.ynx(8,3),t.YNc(9,T,2,0,"mat-header-cell",4),t.YNc(10,Q,2,1,"mat-cell",5),t.BQk(),t.ynx(11,6),t.YNc(12,C,3,3,"mat-header-cell",4),t.YNc(13,z,2,1,"mat-cell",5),t.BQk(),t.ynx(14,7),t.YNc(15,g,3,3,"mat-header-cell",4),t.YNc(16,x,3,4,"mat-cell",5),t.BQk(),t.YNc(17,A,1,0,"mat-header-row",8),t.YNc(18,D,1,0,"mat-row",9),t.qZA()()()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"Quiz.Summary")),t.xp6(4),t.Q6J("dataSource",n.data),t.xp6(10),t.Q6J("cdkHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("cdkRowDefColumns",n.displayedColumns))},dependencies:[m.Sq,m.O_,m.D5,m.fo,m.s$,c.a8,c.dn,c.dk,c.n5,u.BZ,u.ge,u.ev,u.XQ,u.Gk,s.JJ,p.Ot],styles:[".example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}"]}),e})();var q=l(2296);function w(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"#"),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.sectionid," ")}}function U(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.Total")))}function O(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.totalcnt," ")}}function Y(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.Failure")))}function I(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",a.failedcnt," ")}}function N(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.TimeSpentInSeconds")))}function b(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,a.timespent,".2")," ")}}function L(e,o){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.AvgTimeSpentEachInSeconds")))}function R(e,o){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,a.avgtimespent,".2")," ")}}function B(e,o){1&e&&t._UZ(0,"mat-header-row")}function M(e,o){1&e&&t._UZ(0,"mat-row")}const j=[{path:"",component:v},{path:"display/:id",component:(()=>{class e{constructor(a,n){this.activateRoute=a,this.quizService=n,this.displayedColumns=["secid","totalcnt","failedcnt","timespent","avgtimespent"],this.data=[],this.routerID=-1,this.totalScore=0,this.totalAvgTime=0}ngOnInit(){this.activateRoute.url.subscribe({next:a=>{a instanceof Array&&a.length>0&&"display"===a[0].path&&(this.routerID=+a[1].path),this.data=[],this.totalScore=0,this.totalAvgTime=0;let n=0,d=0;-1!==this.routerID&&(this.quizService.ElderQuizs.find(i=>i.QuizID===this.routerID)?.ElderSections.forEach(i=>{const E={sectionid:i.SectionID,totalcnt:i.ItemsCount,failedcnt:i.FailedItemsCount,timespent:i.TimeSpent,avgtimespent:Math.round(i.TimeSpent/i.ItemsCount)};this.totalAvgTime+=i.TimeSpent,n+=i.ItemsCount,d+=i.FailedItemsCount,this.data.push(E)}),n>0&&(this.totalScore=Math.round(100*(n-d)/n),this.totalAvgTime=this.totalAvgTime/n))},error:a=>{console.error(a)}})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(r.gz),t.Y36(S.vA))},e.\u0275cmp=t.Xpm({type:e,selectors:[["khb-quiz-summary-detail"]],decls:46,vars:23,consts:[["appearance","outlined"],[1,"control-full-width"],[1,"example-table-container"],["mat-table","",1,"example-table",3,"dataSource"],["cdkColumnDef","secid"],[4,"cdkHeaderCellDef"],[4,"cdkCellDef"],["cdkColumnDef","totalcnt"],["cdkColumnDef","failedcnt"],["cdkColumnDef","timespent"],["cdkColumnDef","avgtimespent"],[4,"cdkHeaderRowDef"],[4,"cdkRowDef","cdkRowDefColumns"],["mat-stroked-button","","routerLink","/quiz-summary"]],template:function(a,n){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"mat-card-subtitle"),t.qZA(),t.TgZ(6,"mat-card-content")(7,"div",1)(8,"h3")(9,"span"),t._uU(10),t.ALo(11,"transloco"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"number"),t.qZA()()(),t.TgZ(15,"div",1)(16,"h3")(17,"span"),t._uU(18),t.ALo(19,"transloco"),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"number"),t.qZA()()(),t.TgZ(23,"div",2)(24,"table",3),t.ynx(25,4),t.YNc(26,w,2,0,"mat-header-cell",5),t.YNc(27,k,2,1,"mat-cell",6),t.BQk(),t.ynx(28,7),t.YNc(29,U,3,3,"mat-header-cell",5),t.YNc(30,O,2,1,"mat-cell",6),t.BQk(),t.ynx(31,8),t.YNc(32,Y,3,3,"mat-header-cell",5),t.YNc(33,I,2,1,"mat-cell",6),t.BQk(),t.ynx(34,9),t.YNc(35,N,3,3,"mat-header-cell",5),t.YNc(36,b,3,4,"mat-cell",6),t.BQk(),t.ynx(37,10),t.YNc(38,L,3,3,"mat-header-cell",5),t.YNc(39,R,3,4,"mat-cell",6),t.BQk(),t.YNc(40,B,1,0,"mat-header-row",11),t.YNc(41,M,1,0,"mat-row",12),t.qZA()()(),t.TgZ(42,"mat-card-actions")(43,"a",13),t._uU(44),t.ALo(45,"transloco"),t.qZA()()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,9,"Quiz.Summary")),t.xp6(7),t.hij("",t.lcZ(11,11,"Quiz.Score"),": "),t.xp6(3),t.Oqu(t.xi3(14,13,n.totalScore,".2")),t.xp6(5),t.hij("",t.lcZ(19,16,"Quiz.AvgTimeSpentEachInSeconds"),": "),t.xp6(3),t.Oqu(t.xi3(22,18,n.totalAvgTime,".2")),t.xp6(3),t.Q6J("dataSource",n.data),t.xp6(16),t.Q6J("cdkHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("cdkRowDefColumns",n.displayedColumns),t.xp6(3),t.Oqu(t.lcZ(45,21,"Quiz.DisplayAllResult")))},dependencies:[m.Sq,m.O_,m.D5,m.fo,m.s$,q.zs,c.a8,c.hq,c.dn,c.dk,c.$j,c.n5,u.BZ,u.ge,u.ev,u.XQ,u.Gk,r.rH,s.JJ,p.Ot],styles:[".example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%], .control-full-width[_ngcontent-%COMP%]{width:100%}"]}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(j),r.Bz]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,_.u5,_.UX,y.U,J,p.y4]}),e})()}}]);