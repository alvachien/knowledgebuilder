!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{caho:function(i,n,c){"use strict";c.r(n),c.d(n,"PreviewModule",function(){return O});var r=c("ofXK"),s=c("3Pt+"),o=c("QPBi"),b=c("jIBr"),d=c("tyNb"),a=c("VHTt"),l=c("fXoL"),v=c("o0su"),u=c("bTqV"),w=c("f0Cb"),h=c("lR5k");function m(e,t){if(1&e&&(l.Ub(0,"div",3),l.Ub(1,"div",4),l.Ub(2,"span"),l.Dc(3,"ID: "),l.Tb(),l.Dc(4),l.Tb(),l.Pb(5,"mat-divider"),l.Ub(6,"div",4),l.Ub(7,"span"),l.Dc(8),l.hc(9,"transloco"),l.Tb(),l.Dc(10),l.Tb(),l.Pb(11,"mat-divider"),l.Ub(12,"div",4),l.Pb(13,"markdown",5),l.Tb(),l.Tb()),2&e){var i=l.gc();l.Db(4),l.Ec(i.selectedKnowledge.ID),l.Db(4),l.Fc("",l.ic(9,5,"Title"),": "),l.Db(2),l.Ec(i.selectedKnowledge.Title),l.Db(3),l.mc("data",i.selectedKnowledge.Content)("katexOptions",i.mathOptions)}}function p(e,t){if(1&e&&(l.Ub(0,"div",3),l.Ub(1,"div",4),l.Ub(2,"span"),l.Dc(3,"ID: "),l.Tb(),l.Dc(4),l.Tb(),l.Pb(5,"mat-divider"),l.Ub(6,"div",4),l.Ub(7,"span"),l.Dc(8),l.hc(9,"transloco"),l.Tb(),l.Dc(10),l.Tb(),l.Pb(11,"mat-divider"),l.Ub(12,"div",4),l.Pb(13,"markdown",5),l.Tb(),l.Pb(14,"mat-divider"),l.Ub(15,"div",4),l.Pb(16,"markdown",5),l.Tb(),l.Tb()),2&e){var i=l.gc();l.Db(4),l.Ec(i.selectedExercise.ID),l.Db(4),l.Fc("",l.ic(9,7,"Tags"),": "),l.Db(2),l.Ec(i.selectedExercise.Tags.toString()),l.Db(3),l.mc("data",i.selectedExercise.Content)("katexOptions",i.mathOptions),l.Db(3),l.mc("data",i.selectedExercise.Answer)("katexOptions",i.mathOptions)}}var f,P,x,I=[{path:"",component:(f=function(){function i(t){e(this,i),this.odataSvc=t,this.listPreviewObjects=[],this.mathOptions={displayMode:!0,throwOnError:!1,errorColor:"#cc0000"},this.previewIdx=-1}var n,c,r;return n=i,(c=[{key:"ngOnInit",value:function(){this.listPreviewObjects=this.odataSvc.previewObjList.slice(),this.odataSvc.previewObjList=[],this.listPreviewObjects.length>0&&(this.previewIdx=-1,this.onNextPreviewItem())}},{key:"onPreviousPreviewItem",value:function(){this.previewIdx>0&&(this.previewIdx--,this.selectedObj=this.listPreviewObjects[this.previewIdx],this.fetchPreviewItem())}},{key:"onNextPreviewItem",value:function(){this.previewIdx<this.listPreviewObjects.length&&(this.previewIdx++,this.selectedObj=this.listPreviewObjects[this.previewIdx],this.fetchPreviewItem())}},{key:"isNextPreviewButtonEnabled",get:function(){return this.previewIdx<this.listPreviewObjects.length-1}},{key:"isPreviousButtonEnabled",get:function(){return this.previewIdx>0}},{key:"fetchPreviewItem",value:function(){var e,t,i=this;this.previewIdx>-1&&this.previewIdx<this.listPreviewObjects.length&&((null===(e=this.selectedObj)||void 0===e?void 0:e.refType)===a.y.KnowledgeItem?this.odataSvc.readKnowledgeItem(this.listPreviewObjects[this.previewIdx].refId).subscribe({next:function(e){i.selectedKnowledge=e},error:function(e){console.error(e)}}):(null===(t=this.selectedObj)||void 0===t?void 0:t.refType)===a.y.ExerciseItem&&this.odataSvc.readExerciseItem(this.listPreviewObjects[this.previewIdx].refId).subscribe({next:function(e){i.selectedExercise=e},error:function(e){console.error(e)}}))}}])&&t(n.prototype,c),r&&t(n,r),i}(),f.\u0275fac=function(e){return new(e||f)(l.Ob(v.b))},f.\u0275cmp=l.Ib({type:f,selectors:[["app-preview"]],decls:18,vars:18,consts:[[1,"button-row"],["mat-raised-button","",3,"disabled","click"],["style","margin: 8px;",4,"ngIf"],[2,"margin","8px"],[1,"control-full-width"],["katex","",3,"data","katexOptions"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ub(1,"button",1),l.cc("click",function(){return t.onPreviousPreviewItem()}),l.Dc(2),l.hc(3,"transloco"),l.Tb(),l.Ub(4,"button",1),l.cc("click",function(){return t.onNextPreviewItem()}),l.Dc(5),l.hc(6,"transloco"),l.Tb(),l.Tb(),l.Pb(7,"mat-divider"),l.Cc(8,m,14,7,"div",2),l.Cc(9,p,17,9,"div",2),l.Pb(10,"mat-divider"),l.Ub(11,"div",0),l.Ub(12,"button",1),l.cc("click",function(){return t.onPreviousPreviewItem()}),l.Dc(13),l.hc(14,"transloco"),l.Tb(),l.Ub(15,"button",1),l.cc("click",function(){return t.onNextPreviewItem()}),l.Dc(16),l.hc(17,"transloco"),l.Tb(),l.Tb()),2&e&&(l.Db(1),l.mc("disabled",!t.isPreviousButtonEnabled),l.Db(1),l.Ec(l.ic(3,10,"Common.Previous")),l.Db(2),l.mc("disabled",!t.isNextPreviewButtonEnabled),l.Db(1),l.Ec(l.ic(6,12,"Common.Next")),l.Db(3),l.mc("ngIf",t.selectedObj&&1===t.selectedObj.refType&&t.selectedKnowledge),l.Db(1),l.mc("ngIf",t.selectedObj&&2===t.selectedObj.refType&&t.selectedExercise),l.Db(3),l.mc("disabled",!t.isPreviousButtonEnabled),l.Db(1),l.Ec(l.ic(14,14,"Common.Previous")),l.Db(2),l.mc("disabled",!t.isNextPreviewButtonEnabled),l.Db(1),l.Ec(l.ic(17,16,"Common.Next")))},directives:[u.b,w.a,r.m,h.a],pipes:[o.d],styles:[".button-row[_ngcontent-%COMP%]{margin:auto;width:80%}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:8px}"]}),f)}],D=((x=function t(){e(this,t)}).\u0275fac=function(e){return new(e||x)},x.\u0275mod=l.Mb({type:x}),x.\u0275inj=l.Lb({imports:[[d.d.forChild(I)],d.d]}),x),O=((P=function t(){e(this,t)}).\u0275fac=function(e){return new(e||P)},P.\u0275mod=l.Mb({type:P}),P.\u0275inj=l.Lb({imports:[[r.c,s.h,s.r,o.c,b.a,h.b,D]]}),P)}}])}();