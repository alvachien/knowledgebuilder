"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[734],{7734:(F,Z,n)=>{n.r(Z),n.d(Z,{QuizSummaryModule:()=>r});var h=n(6895),T=n(4006),_=n(1525),C=n(6127),p=n(9132),Q=n(2701),t=n(4650),y=n(410),i=n(5013),m=n(3546),c=n(3626);function z(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"#"),t.qZA())}function g(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.ID," ")}}function x(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.Total")))}function A(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.Count," ")}}function D(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.TimeSpentInSeconds")))}function v(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.TimeSpent,".2"))}}function q(e,a){1&e&&t._UZ(0,"mat-header-row")}function w(e,a){1&e&&t._UZ(0,"mat-row")}class d{constructor(a){this.quizSrv=a,this.data=[],this.displayedColumns=["qid","count","timespent"]}ngOnInit(){this.data=[],this.quizSrv.ElderQuizs.forEach(a=>{this.data.push({ID:a.QuizID,Count:a.ElderSections.length,TimeSpent:a.ElderSections.reduce((o,f)=>{const S=new Q.oB(0,0);return S.TimeSpent=o.TimeSpent+f.TimeSpent,S}).TimeSpent})})}}d.\u0275fac=function(a){return new(a||d)(t.Y36(y.vA))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-quiz-summary"]],decls:19,vars:6,consts:[["appearance","outlined"],[1,"example-table-container"],["mat-table","",1,"example-table",3,"dataSource"],["cdkColumnDef","qid"],[4,"cdkHeaderCellDef"],[4,"cdkCellDef"],["cdkColumnDef","count"],["cdkColumnDef","timespent"],[4,"cdkHeaderRowDef"],[4,"cdkRowDef","cdkRowDefColumns"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"transloco"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",1)(7,"table",2),t.ynx(8,3),t.YNc(9,z,2,0,"mat-header-cell",4),t.YNc(10,g,2,1,"mat-cell",5),t.BQk(),t.ynx(11,6),t.YNc(12,x,3,3,"mat-header-cell",4),t.YNc(13,A,2,1,"mat-cell",5),t.BQk(),t.ynx(14,7),t.YNc(15,D,3,3,"mat-header-cell",4),t.YNc(16,v,3,4,"mat-cell",5),t.BQk(),t.YNc(17,q,1,0,"mat-header-row",8),t.YNc(18,w,1,0,"mat-row",9),t.qZA()()()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"Quiz.Summary")),t.xp6(4),t.Q6J("dataSource",o.data),t.xp6(10),t.Q6J("cdkHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("cdkRowDefColumns",o.displayedColumns))},dependencies:[i.Sq,i.O_,i.D5,i.fo,i.s$,m.a8,m.dn,m.dk,m.n5,c.BZ,c.ge,c.ev,c.XQ,c.Gk,h.JJ,_.Ot],styles:[".example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}"]});var U=n(4859);function k(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"#"),t.qZA())}function O(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.sectionid," ")}}function Y(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.Total")))}function I(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.totalcnt," ")}}function N(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.Failure")))}function L(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.failedcnt," ")}}function b(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.TimeSpentInSeconds")))}function B(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.timespent,".2")," ")}}function R(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Quiz.AvgTimeSpentEachInSeconds")))}function j(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.avgtimespent,".2")," ")}}function J(e,a){1&e&&t._UZ(0,"mat-header-row")}function M(e,a){1&e&&t._UZ(0,"mat-row")}class s{constructor(a,o){this.activateRoute=a,this.quizService=o,this.displayedColumns=["secid","totalcnt","failedcnt","timespent","avgtimespent"],this.data=[],this.routerID=-1,this.totalScore=0,this.totalAvgTime=0}ngOnInit(){this.activateRoute.url.subscribe({next:a=>{a instanceof Array&&a.length>0&&"display"===a[0].path&&(this.routerID=+a[1].path),this.data=[],this.totalScore=0,this.totalAvgTime=0;let o=0,f=0;-1!==this.routerID&&(this.quizService.ElderQuizs.find(l=>l.QuizID===this.routerID)?.ElderSections.forEach(l=>{const E={sectionid:l.SectionID,totalcnt:l.ItemsCount,failedcnt:l.FailedItemsCount,timespent:l.TimeSpent,avgtimespent:Math.round(l.TimeSpent/l.ItemsCount)};this.totalAvgTime+=l.TimeSpent,o+=l.ItemsCount,f+=l.FailedItemsCount,this.data.push(E)}),o>0&&(this.totalScore=Math.round(100*(o-f)/o),this.totalAvgTime=this.totalAvgTime/o))},error:a=>{console.error(a)}})}}s.\u0275fac=function(a){return new(a||s)(t.Y36(p.gz),t.Y36(y.vA))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-quiz-summary-detail"]],decls:46,vars:23,consts:[["appearance","outlined"],[1,"control-full-width"],[1,"example-table-container"],["mat-table","",1,"example-table",3,"dataSource"],["cdkColumnDef","secid"],[4,"cdkHeaderCellDef"],[4,"cdkCellDef"],["cdkColumnDef","totalcnt"],["cdkColumnDef","failedcnt"],["cdkColumnDef","timespent"],["cdkColumnDef","avgtimespent"],[4,"cdkHeaderRowDef"],[4,"cdkRowDef","cdkRowDefColumns"],["mat-stroked-button","","routerLink","/quiz-summary"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.ALo(4,"transloco"),t.qZA(),t._UZ(5,"mat-card-subtitle"),t.qZA(),t.TgZ(6,"mat-card-content")(7,"div",1)(8,"h3")(9,"span"),t._uU(10),t.ALo(11,"transloco"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"number"),t.qZA()()(),t.TgZ(15,"div",1)(16,"h3")(17,"span"),t._uU(18),t.ALo(19,"transloco"),t.qZA(),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"number"),t.qZA()()(),t.TgZ(23,"div",2)(24,"table",3),t.ynx(25,4),t.YNc(26,k,2,0,"mat-header-cell",5),t.YNc(27,O,2,1,"mat-cell",6),t.BQk(),t.ynx(28,7),t.YNc(29,Y,3,3,"mat-header-cell",5),t.YNc(30,I,2,1,"mat-cell",6),t.BQk(),t.ynx(31,8),t.YNc(32,N,3,3,"mat-header-cell",5),t.YNc(33,L,2,1,"mat-cell",6),t.BQk(),t.ynx(34,9),t.YNc(35,b,3,3,"mat-header-cell",5),t.YNc(36,B,3,4,"mat-cell",6),t.BQk(),t.ynx(37,10),t.YNc(38,R,3,3,"mat-header-cell",5),t.YNc(39,j,3,4,"mat-cell",6),t.BQk(),t.YNc(40,J,1,0,"mat-header-row",11),t.YNc(41,M,1,0,"mat-row",12),t.qZA()()(),t.TgZ(42,"mat-card-actions")(43,"a",13),t._uU(44),t.ALo(45,"transloco"),t.qZA()()()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,9,"Quiz.Summary")),t.xp6(7),t.hij("",t.lcZ(11,11,"Quiz.Score"),": "),t.xp6(3),t.Oqu(t.xi3(14,13,o.totalScore,".2")),t.xp6(5),t.hij("",t.lcZ(19,16,"Quiz.AvgTimeSpentEachInSeconds"),": "),t.xp6(3),t.Oqu(t.xi3(22,18,o.totalAvgTime,".2")),t.xp6(3),t.Q6J("dataSource",o.data),t.xp6(16),t.Q6J("cdkHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("cdkRowDefColumns",o.displayedColumns),t.xp6(3),t.Oqu(t.lcZ(45,21,"Quiz.DisplayAllResult")))},dependencies:[i.Sq,i.O_,i.D5,i.fo,i.s$,U.zs,m.a8,m.hq,m.dn,m.dk,m.$j,m.n5,c.BZ,c.ge,c.ev,c.XQ,c.Gk,p.rH,h.JJ,_.Ot],styles:[".example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%], .control-full-width[_ngcontent-%COMP%]{width:100%}"]});const $=[{path:"",component:d},{path:"display/:id",component:s}];class u{}u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[p.Bz.forChild($),p.Bz]});class r{}r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[h.ez,T.u5,T.UX,C.U,u,_.y4]})}}]);