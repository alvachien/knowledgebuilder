"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[592],{558:(f,_,t)=>{t.d(_,{D:()=>e});var d=t(4650);class e{}e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({})},9909:(f,_,t)=>{t.d(_,{J:()=>p});var d=t(4128),e=t(4650),s=t(5938),n=t(410),o=t(6895),c=t(4859),m=t(3238),i=t(6338),g=t(3162);const h=["file"];function E(u,l){1&u&&e._UZ(0,"mat-progress-bar",11)}function C(u,l){if(1&u&&(e.TgZ(0,"mat-list-item")(1,"h4",9),e._uU(2),e.qZA(),e.YNc(3,E,1,0,"mat-progress-bar",10),e.qZA()),2&u){const a=l.$implicit,r=e.oxw();e.xp6(2),e.Oqu(a.name),e.xp6(1),e.Q6J("ngIf",r.results)}}function O(u,l){1&u&&(e.TgZ(0,"button",12),e._uU(1,"Cancel"),e.qZA())}class p{constructor(l,a){this.dialogRef=l,this.uploadService=a,this.files=new Set,this.canBeClosed=!0,this.primaryButtonText="Upload",this.showCancelButton=!0,this.uploading=!1,this.uploadSuccessful=!1,this.uploadResults=[]}onFilesAdded(){const l=this.file.nativeElement.files;for(const a in l)isNaN(parseInt(a))||this.files.add(l[a])}addFiles(){this.file.nativeElement.click()}closeDialog(){if(this.uploadSuccessful)return this.dialogRef.close(this.uploadResults);this.uploading=!0,this.results=this.uploadService.uploadFiles(this.files);for(const a in this.results)this.results[a].result.subscribe(r=>{this.uploadResults.push(r)});const l=[];for(const a in this.results)l.push(this.results[a].result);this.primaryButtonText="Finish",this.canBeClosed=!1,this.dialogRef.disableClose=!0,this.showCancelButton=!1,(0,d.D)(l).subscribe(()=>{this.canBeClosed=!0,this.dialogRef.disableClose=!1,this.uploadSuccessful=!0,this.uploading=!1})}}p.\u0275fac=function(l){return new(l||p)(e.Y36(s.so),e.Y36(n.CB))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-image-upload"]],viewQuery:function(l,a){if(1&l&&e.Gf(h,5),2&l){let r;e.iGM(r=e.CRH())&&(a.file=r.first)}},decls:15,vars:5,consts:[["type","file","multiple","",2,"display","none",3,"change"],["file",""],[1,"container","column"],["mat-dialog-title",""],["mat-raised-button","","color","primary",1,"add-files-btn",3,"disabled","click"],[4,"ngFor","ngForOf"],[1,"actions"],["mat-button","","mat-dialog-close","",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-line",""],["mode","determinate","value","100",4,"ngIf"],["mode","determinate","value","100"],["mat-button","","mat-dialog-close",""]],template:function(l,a){1&l&&(e.TgZ(0,"input",0,1),e.NdJ("change",function(){return a.onFilesAdded()}),e.qZA(),e.TgZ(2,"div",2)(3,"h1",3),e._uU(4,"Upload Files"),e.qZA(),e.TgZ(5,"div")(6,"button",4),e.NdJ("click",function(){return a.addFiles()}),e._uU(7," Add Files "),e.qZA()(),e.TgZ(8,"mat-dialog-content")(9,"mat-list"),e.YNc(10,C,4,2,"mat-list-item",5),e.qZA()(),e.TgZ(11,"mat-dialog-actions",6),e.YNc(12,O,2,0,"button",7),e.TgZ(13,"button",8),e.NdJ("click",function(){return a.closeDialog()}),e._uU(14),e.qZA()()()),2&l&&(e.xp6(6),e.Q6J("disabled",a.uploading||a.uploadSuccessful),e.xp6(4),e.Q6J("ngForOf",a.files),e.xp6(2),e.Q6J("ngIf",a.showCancelButton),e.xp6(1),e.Q6J("disabled",!a.canBeClosed),e.xp6(1),e.hij(" ",a.primaryButtonText," "))},dependencies:[o.sg,o.O5,c.lW,s.ZT,s.uh,s.xY,s.H8,m.X2,i.i$,i.Tg,g.pW],styles:[".add-files-btn[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]{height:100%;display:flex;flex:1;flex-direction:column}.actions[_ngcontent-%COMP%]{justify-content:flex-end}.container[_ngcontent-%COMP%]{height:100%}"]})},5146:(f,_,t)=>{t.d(_,{l:()=>o});var d=t(6895),e=t(4006),s=t(6127),n=t(4650);class o{}o.\u0275fac=function(m){return new(m||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[d.ez,e.u5,e.UX,s.U]})},7467:(f,_,t)=>{t.d(_,{M:()=>n}),t(9835);var e=t(2701),s=t(4650);class n{transform(c,m){return c.filter(i=>{if(m)switch(m){case e._g.string:return i.value===e.Nu.Like||i.value===e.Nu.Equal;case e._g.boolean:return i.value===e.Nu.Equal;case e._g.number:case e._g.date:return!(i.value===e.Nu.Like||i.value===e.Nu.Between)}return!0})}}n.\u0275fac=function(c){return new(c||n)},n.\u0275pipe=s.Yjl({name:"operatorFilter",type:n,pure:!0})}}]);