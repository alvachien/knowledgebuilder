(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Bbvb:function(t,e,a){"use strict";a.r(e),a.d(e,"TagModule",function(){return q});var n=a("ofXK"),i=a("3Pt+"),c=a("QPBi"),o=a("jIBr"),s=a("tyNb"),r=a("M9IT"),l=a("Dh3D"),b=a("VRyK"),d=a("LRne"),m=a("JX91"),u=a("eIep"),p=a("lJxs"),g=a("JIr8"),f=a("VHTt"),h=a("fXoL"),D=a("o0su"),C=a("Wp6s"),T=a("+0xr"),R=a("Xa2L"),w=a("bTqV");function v(t,e){1&t&&h.Pb(0,"mat-progress-spinner")}function y(t,e){if(1&t&&(h.Ub(0,"div",12),h.Cc(1,v,1,0,"mat-progress-spinner",13),h.Tb()),2&t){const t=h.gc();h.Db(1),h.mc("ngIf",t.isLoadingResults)}}function x(t,e){1&t&&(h.Ub(0,"th",14),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t&&(h.Db(1),h.Ec(h.ic(2,1,"Tag")))}function O(t,e){if(1&t&&(h.Ub(0,"td",15),h.Dc(1),h.Tb()),2&t){const t=e.$implicit;h.Db(1),h.Fc(" ",t.TagTerm," ")}}function S(t,e){1&t&&(h.Ub(0,"th",14),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t&&(h.Db(1),h.Ec(h.ic(2,1,"Type")))}function U(t,e){if(1&t&&(h.Ub(0,"td",15),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t){const t=e.$implicit,a=h.gc();h.Db(1),h.Ec(h.ic(2,1,a.getTagReferenceTypeName(t.RefType)))}}function I(t,e){1&t&&(h.Ub(0,"th",14),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t&&(h.Db(1),h.Ec(h.ic(2,1,"Count")))}function P(t,e){if(1&t){const t=h.Vb();h.Ub(0,"td",15),h.Ub(1,"a",16),h.cc("click",function(){h.vc(t);const a=e.$implicit;return h.gc().onCountClicked(a)}),h.Dc(2),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit;h.Db(2),h.Ec(t.Count)}}function L(t,e){1&t&&h.Pb(0,"tr",17)}function j(t,e){1&t&&h.Pb(0,"tr",18)}let k=(()=>{class t{constructor(t,e){this.odataService=t,this.router=e,this.displayedColumns=["tag","reftype","count"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0}getTagReferenceTypeName(t){return Object(f.z)(t)}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(b.a)(this.sort.sortChange,this.paginator.page).pipe(Object(m.a)({}),Object(u.a)(()=>(this.isLoadingResults=!0,this.odataService.getTagCounts())),Object(p.a)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount,t.items)),Object(g.a)(()=>(this.isLoadingResults=!1,Object(d.a)([])))).subscribe(t=>this.data=t)}onCountClicked(t){this.router.navigate(["/tag/display",t.TagTerm])}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(D.b),h.Ob(s.b))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-tag"]],viewQuery:function(t,e){if(1&t&&(h.Hc(r.a,1),h.Hc(l.a,1)),2&t){let t;h.sc(t=h.dc())&&(e.paginator=t.first),h.sc(t=h.dc())&&(e.sort=t.first)}},decls:22,vars:9,consts:[[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.Ub(0,"mat-card"),h.Ub(1,"mat-card-header"),h.Ub(2,"mat-card-title"),h.Dc(3),h.hc(4,"transloco"),h.Tb(),h.Tb(),h.Ub(5,"mat-card-content"),h.Ub(6,"div",0),h.Cc(7,y,2,1,"div",1),h.Ub(8,"div",2),h.Ub(9,"table",3),h.Sb(10,4),h.Cc(11,x,3,3,"th",5),h.Cc(12,O,2,1,"td",6),h.Rb(),h.Sb(13,7),h.Cc(14,S,3,3,"th",5),h.Cc(15,U,3,3,"td",6),h.Rb(),h.Sb(16,8),h.Cc(17,I,3,3,"th",5),h.Cc(18,P,3,1,"td",6),h.Rb(),h.Cc(19,L,1,0,"tr",9),h.Cc(20,j,1,0,"tr",10),h.Tb(),h.Tb(),h.Pb(21,"mat-paginator",11),h.Tb(),h.Tb(),h.Tb()),2&t&&(h.Db(3),h.Ec(h.ic(4,7,"Tags")),h.Db(4),h.mc("ngIf",e.isLoadingResults),h.Db(2),h.mc("dataSource",e.data),h.Db(10),h.mc("matHeaderRowDef",e.displayedColumns),h.Db(1),h.mc("matRowDefColumns",e.displayedColumns),h.Db(1),h.mc("length",e.resultsLength)("pageSize",30))},directives:[C.a,C.d,C.g,C.c,n.m,T.j,l.a,T.c,T.e,T.b,T.g,T.i,r.a,R.a,T.d,T.a,w.a,T.f,T.h],pipes:[c.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),t})();var M=a("/t3+"),E=a("f0Cb");function H(t,e){1&t&&h.Pb(0,"mat-progress-spinner")}function _(t,e){if(1&t&&(h.Ub(0,"div",15),h.Cc(1,H,1,0,"mat-progress-spinner",16),h.Tb()),2&t){const t=h.gc();h.Db(1),h.mc("ngIf",t.isLoadingResults)}}function z(t,e){1&t&&(h.Ub(0,"th",17),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t&&(h.Db(1),h.Ec(h.ic(2,1,"Tag")))}function $(t,e){if(1&t&&(h.Ub(0,"td",18),h.Dc(1),h.Tb()),2&t){const t=e.$implicit;h.Db(1),h.Ec(t.TagTerm)}}function V(t,e){1&t&&(h.Ub(0,"th",17),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t&&(h.Db(1),h.Ec(h.ic(2,1,"Type")))}function A(t,e){if(1&t&&(h.Ub(0,"td",18),h.Dc(1),h.hc(2,"transloco"),h.Tb()),2&t){const t=e.$implicit,a=h.gc();h.Db(1),h.Ec(h.ic(2,1,a.getTagReferenceTypeName(t.RefType)))}}function J(t,e){1&t&&(h.Ub(0,"th",17),h.Dc(1,"Ref. ID"),h.Tb())}function N(t,e){if(1&t){const t=h.Vb();h.Ub(0,"td",18),h.Ub(1,"a",19),h.cc("click",function(){h.vc(t);const a=e.$implicit;return h.gc().onRefIDClicked(a)}),h.Dc(2),h.Tb(),h.Tb()}if(2&t){const t=e.$implicit;h.Db(2),h.Ec(t.RefID)}}function X(t,e){1&t&&h.Pb(0,"tr",20)}function B(t,e){1&t&&h.Pb(0,"tr",21)}const G=[{path:"",component:k},{path:"display/:content",component:(()=>{class t{constructor(t,e,a){this.odataService=t,this.activateRoute=e,this.router=a,this.displayedColumns=["tag","reftype","refid"],this.dataSource=[],this.currenttag="",this.resultsLength=0,this.isLoadingResults=!0,this.getTagReferenceTypeName=f.z}ngOnInit(){this.activateRoute.url.subscribe({next:t=>{t instanceof Array&&t.length>0&&"display"===t[0].path&&(this.currenttag=t[1].path)},error:t=>{console.error(t)}})}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),Object(b.a)(this.sort.sortChange,this.paginator.page).pipe(Object(m.a)({}),Object(u.a)(()=>(this.isLoadingResults=!0,this.odataService.getTags(this.currenttag))),Object(p.a)(t=>(this.isLoadingResults=!1,this.resultsLength=t.totalCount,t.items)),Object(g.a)(()=>(this.isLoadingResults=!1,Object(d.a)([])))).subscribe(t=>this.dataSource=t)}onRefIDClicked(t){t.RefType===f.t.ExerciseItem?this.router.navigate(["exercise-item/display",t.RefID]):t.RefType===f.t.KnowledgeItem&&this.router.navigate(["knowledge-item/display",t.RefID])}onGoToPreview(){const t=[];this.dataSource.forEach(e=>{e.RefType&&e.RefID&&t.push({refType:e.RefType,refId:e.RefID})}),this.odataService.previewObjList=t,this.router.navigate(["preview"])}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(D.b),h.Ob(s.a),h.Ob(s.b))},t.\u0275cmp=h.Ib({type:t,selectors:[["app-tag-detail"]],viewQuery:function(t,e){if(1&t&&(h.Hc(r.a,1),h.Hc(l.a,1)),2&t){let t;h.sc(t=h.dc())&&(e.paginator=t.first),h.sc(t=h.dc())&&(e.sort=t.first)}},decls:27,vars:13,consts:[[1,"toolbar-spacer"],[1,"example-button-row"],["mat-raised-button","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","refid"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h.Ub(0,"mat-toolbar-row"),h.Ub(1,"span"),h.Dc(2),h.hc(3,"transloco"),h.Tb(),h.Pb(4,"span",0),h.Ub(5,"section"),h.Ub(6,"div",1),h.Ub(7,"button",2),h.cc("click",function(){return e.onGoToPreview()}),h.Dc(8),h.hc(9,"transloco"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Pb(10,"mat-divider"),h.Ub(11,"div",3),h.Cc(12,_,2,1,"div",4),h.Ub(13,"div",5),h.Ub(14,"table",6),h.Sb(15,7),h.Cc(16,z,3,3,"th",8),h.Cc(17,$,2,1,"td",9),h.Rb(),h.Sb(18,10),h.Cc(19,V,3,3,"th",8),h.Cc(20,A,3,3,"td",9),h.Rb(),h.Sb(21,11),h.Cc(22,J,2,0,"th",8),h.Cc(23,N,3,1,"td",9),h.Rb(),h.Cc(24,X,1,0,"tr",12),h.Cc(25,B,1,0,"tr",13),h.Tb(),h.Tb(),h.Pb(26,"mat-paginator",14),h.Tb()),2&t&&(h.Db(2),h.Gc("",h.ic(3,9,"Tag"),": ",e.currenttag,""),h.Db(6),h.Ec(h.ic(9,11,"Common.Preview")),h.Db(4),h.mc("ngIf",e.isLoadingResults),h.Db(2),h.mc("dataSource",e.dataSource),h.Db(10),h.mc("matHeaderRowDef",e.displayedColumns),h.Db(1),h.mc("matRowDefColumns",e.displayedColumns),h.Db(1),h.mc("length",e.resultsLength)("pageSize",20))},directives:[M.c,w.b,E.a,n.m,T.j,l.a,T.c,T.e,T.b,T.g,T.i,r.a,R.a,T.d,T.a,w.a,T.f,T.h],pipes:[c.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-button-row[_ngcontent-%COMP%]{display:table-cell}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),t})()}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Mb({type:t}),t.\u0275inj=h.Lb({imports:[[s.d.forChild(G)],s.d]}),t})();var Q=a("lR5k");let q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Mb({type:t}),t.\u0275inj=h.Lb({imports:[[n.c,i.h,i.r,o.a,K,Q.b.forChild(),c.c]]}),t})()}}]);