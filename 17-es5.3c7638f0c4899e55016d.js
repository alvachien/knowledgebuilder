!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Bbvb:function(e,n,i){"use strict";i.r(n),i.d(n,"TagModule",function(){return tt});var c=i("ofXK"),o=i("3Pt+"),r=i("QPBi"),s=i("jIBr"),l=i("tyNb"),b=i("M9IT"),u=i("Dh3D"),f=i("VRyK"),p=i("LRne"),d=i("JX91"),m=i("eIep"),g=i("lJxs"),h=i("JIr8"),v=i("VHTt"),y=i("fXoL"),w=i("o0su"),C=i("Wp6s"),T=i("+0xr"),D=i("bTqV");function E(t,e){1&t&&(y.Vb(0,"th",11),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Tag")))}function R(t,e){if(1&t&&(y.Vb(0,"td",12),y.Ec(1),y.Ub()),2&t){var a=e.$implicit;y.Eb(1),y.Gc(" ",a.TagTerm," ")}}function x(t,e){1&t&&(y.Vb(0,"th",11),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Type")))}function V(t,e){if(1&t&&(y.Vb(0,"td",12),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t){var a=e.$implicit,n=y.hc();y.Eb(1),y.Fc(y.jc(2,1,n.getTagReferenceTypeName(a.RefType)))}}function j(t,e){1&t&&(y.Vb(0,"th",11),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Count")))}function S(t,e){if(1&t){var a=y.Wb();y.Vb(0,"td",12),y.Vb(1,"a",13),y.dc("click",function(){y.wc(a);var t=e.$implicit;return y.hc().onCountClicked(t)}),y.Ec(2),y.Ub(),y.Ub()}if(2&t){var n=e.$implicit;y.Eb(2),y.Fc(n.Count)}}function U(t,e){1&t&&y.Qb(0,"tr",14)}function k(t,e){1&t&&y.Qb(0,"tr",15)}var I,O=((I=function(){function e(a,n){t(this,e),this.odataService=a,this.router=n,this.displayedColumns=["tag","reftype","count"],this.data=[],this.resultsLength=0,this.isLoadingResults=!1}return a(e,[{key:"getTagReferenceTypeName",value:function(t){return Object(v.H)(t)}},{key:"isExpertMode",get:function(){return this.odataService.expertMode}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(d.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTagCounts()}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(p.a)([])})).subscribe(function(e){return t.data=e})}},{key:"onCountClicked",value:function(t){this.router.navigate(t.RefType===v.z.KnowledgeItem?["/tag/displayki",t.TagTerm]:t.RefType===v.z.ExerciseItem?["/tag/displayei",t.TagTerm]:["/tag/display",t.TagTerm])}}]),e}()).\u0275fac=function(t){return new(t||I)(y.Pb(w.b),y.Pb(l.b))},I.\u0275cmp=y.Jb({type:I,selectors:[["app-tag"]],viewQuery:function(t,e){var a;1&t&&(y.Jc(b.a,1),y.Jc(u.a,1)),2&t&&(y.tc(a=y.ec())&&(e.paginator=a.first),y.tc(a=y.ec())&&(e.sort=a.first))},decls:21,vars:8,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Vb(0,"mat-card"),y.Vb(1,"mat-card-header"),y.Vb(2,"mat-card-title"),y.Ec(3),y.ic(4,"transloco"),y.Ub(),y.Ub(),y.Vb(5,"mat-card-content"),y.Vb(6,"div",0),y.Vb(7,"div",1),y.Vb(8,"table",2),y.Tb(9,3),y.Dc(10,E,3,3,"th",4),y.Dc(11,R,2,1,"td",5),y.Sb(),y.Tb(12,6),y.Dc(13,x,3,3,"th",4),y.Dc(14,V,3,3,"td",5),y.Sb(),y.Tb(15,7),y.Dc(16,j,3,3,"th",4),y.Dc(17,S,3,1,"td",5),y.Sb(),y.Dc(18,U,1,0,"tr",8),y.Dc(19,k,1,0,"tr",9),y.Ub(),y.Ub(),y.Qb(20,"mat-paginator",10),y.Ub(),y.Ub(),y.Ub()),2&t&&(y.Eb(3),y.Fc(y.jc(4,6,"Tags")),y.Eb(5),y.nc("dataSource",e.data),y.Eb(10),y.nc("matHeaderRowDef",e.displayedColumns),y.Eb(1),y.nc("matRowDefColumns",e.displayedColumns),y.Eb(1),y.nc("length",e.resultsLength)("pageSize",30))},directives:[C.a,C.d,C.g,C.c,T.j,u.a,T.c,T.e,T.b,T.g,T.i,b.a,T.d,T.a,D.a,T.f,T.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),I),P=i("/t3+"),L=i("f0Cb"),M=i("Xa2L");function z(t,e){1&t&&y.Qb(0,"mat-progress-spinner")}function F(t,e){if(1&t&&(y.Vb(0,"div",15),y.Dc(1,z,1,0,"mat-progress-spinner",16),y.Ub()),2&t){var a=y.hc();y.Eb(1),y.nc("ngIf",a.isLoadingResults)}}function Q(t,e){1&t&&(y.Vb(0,"th",17),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Tag")))}function J(t,e){if(1&t&&(y.Vb(0,"td",18),y.Ec(1),y.Ub()),2&t){var a=e.$implicit;y.Eb(1),y.Fc(a.TagTerm)}}function _(t,e){1&t&&(y.Vb(0,"th",17),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t&&(y.Eb(1),y.Fc(y.jc(2,1,"Type")))}function H(t,e){if(1&t&&(y.Vb(0,"td",18),y.Ec(1),y.ic(2,"transloco"),y.Ub()),2&t){var a=e.$implicit,n=y.hc();y.Eb(1),y.Fc(y.jc(2,1,n.getTagReferenceTypeName(a.RefType)))}}function $(t,e){1&t&&(y.Vb(0,"th",17),y.Ec(1,"Ref. ID"),y.Ub())}function N(t,e){if(1&t){var a=y.Wb();y.Vb(0,"td",18),y.Vb(1,"a",19),y.dc("click",function(){y.wc(a);var t=e.$implicit;return y.hc().onRefIDClicked(t)}),y.Ec(2),y.Ub(),y.Ub()}if(2&t){var n=e.$implicit;y.Eb(2),y.Fc(n.RefID)}}function A(t,e){1&t&&y.Qb(0,"tr",20)}function K(t,e){1&t&&y.Qb(0,"tr",21)}var X,B,G,W=((X=function(){function e(a,n,i){t(this,e),this.odataService=a,this.activateRoute=n,this.router=i,this.displayedColumns=["tag","reftype","refid"],this.dataSource=[],this.currenttag="",this.resultsLength=0,this.isLoadingResults=!0,this.refType=void 0,this.getTagReferenceTypeName=v.H}return a(e,[{key:"ngOnInit",value:function(){var t=this;this.activateRoute.url.subscribe({next:function(e){e instanceof Array&&e.length>0&&("display"===e[0].path?(t.currenttag=e[1].path,t.refType=void 0):"displayki"===e[0].path?(t.currenttag=e[1].path,t.refType=v.z.KnowledgeItem):"displayei"===e[0].path&&(t.currenttag=e[1].path,t.refType=v.z.ExerciseItem))},error:function(t){console.error(t)}})}},{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator.pageIndex=0}),Object(f.a)(this.sort.sortChange,this.paginator.page).pipe(Object(d.a)({}),Object(m.a)(function(){return t.isLoadingResults=!0,t.odataService.getTags(t.currenttag,t.refType)}),Object(g.a)(function(e){return t.isLoadingResults=!1,t.resultsLength=e.totalCount,e.items}),Object(h.a)(function(){return t.isLoadingResults=!1,Object(p.a)([])})).subscribe(function(e){return t.dataSource=e})}},{key:"onRefIDClicked",value:function(t){t.RefType===v.z.ExerciseItem?this.router.navigate(["exercise-item/display",t.RefID]):t.RefType===v.z.KnowledgeItem&&this.router.navigate(["knowledge-item/display",t.RefID])}},{key:"onGoToPreview",value:function(){var t=[];this.dataSource.forEach(function(e){e.RefType&&e.RefID&&t.push({refType:e.RefType,refId:e.RefID})}),this.odataService.previewObjList=t,this.router.navigate(["preview"])}}]),e}()).\u0275fac=function(t){return new(t||X)(y.Pb(w.b),y.Pb(l.a),y.Pb(l.b))},X.\u0275cmp=y.Jb({type:X,selectors:[["app-tag-detail"]],viewQuery:function(t,e){var a;1&t&&(y.Jc(b.a,1),y.Jc(u.a,1)),2&t&&(y.tc(a=y.ec())&&(e.paginator=a.first),y.tc(a=y.ec())&&(e.sort=a.first))},decls:27,vars:13,consts:[[1,"toolbar-spacer"],[1,"example-button-row"],["mat-raised-button","",3,"click"],[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","tag"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reftype"],["matColumnDef","refid"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Vb(0,"mat-toolbar-row"),y.Vb(1,"span"),y.Ec(2),y.ic(3,"transloco"),y.Ub(),y.Qb(4,"span",0),y.Vb(5,"section"),y.Vb(6,"div",1),y.Vb(7,"button",2),y.dc("click",function(){return e.onGoToPreview()}),y.Ec(8),y.ic(9,"transloco"),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Qb(10,"mat-divider"),y.Vb(11,"div",3),y.Dc(12,F,2,1,"div",4),y.Vb(13,"div",5),y.Vb(14,"table",6),y.Tb(15,7),y.Dc(16,Q,3,3,"th",8),y.Dc(17,J,2,1,"td",9),y.Sb(),y.Tb(18,10),y.Dc(19,_,3,3,"th",8),y.Dc(20,H,3,3,"td",9),y.Sb(),y.Tb(21,11),y.Dc(22,$,2,0,"th",8),y.Dc(23,N,3,1,"td",9),y.Sb(),y.Dc(24,A,1,0,"tr",12),y.Dc(25,K,1,0,"tr",13),y.Ub(),y.Ub(),y.Qb(26,"mat-paginator",14),y.Ub()),2&t&&(y.Eb(2),y.Hc("",y.jc(3,9,"Tag"),": ",e.currenttag,""),y.Eb(6),y.Fc(y.jc(9,11,"Common.Preview")),y.Eb(4),y.nc("ngIf",e.isLoadingResults),y.Eb(2),y.nc("dataSource",e.dataSource),y.Eb(10),y.nc("matHeaderRowDef",e.displayedColumns),y.Eb(1),y.nc("matRowDefColumns",e.displayedColumns),y.Eb(1),y.nc("length",e.resultsLength)("pageSize",20))},directives:[P.c,D.b,L.a,c.m,T.j,u.a,T.c,T.e,T.b,T.g,T.i,b.a,M.a,T.d,T.a,D.a,T.f,T.h],pipes:[r.d],styles:[".control-full-width[_ngcontent-%COMP%]{width:100%}.example-button-row[_ngcontent-%COMP%]{display:table-cell}.example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),X),q=[{path:"",component:O},{path:"display/:content",component:W},{path:"displayki/:content",component:W},{path:"displayei/:content",component:W}],Y=((B=function e(){t(this,e)}).\u0275fac=function(t){return new(t||B)},B.\u0275mod=y.Nb({type:B}),B.\u0275inj=y.Mb({imports:[[l.e.forChild(q)],l.e]}),B),Z=i("lR5k"),tt=((G=function e(){t(this,e)}).\u0275fac=function(t){return new(t||G)},G.\u0275mod=y.Nb({type:G}),G.\u0275inj=y.Mb({imports:[[c.c,o.h,o.r,s.a,Y,Z.b.forChild(),r.c]]}),G)}}])}();