(function(){function _createForOfIteratorHelper(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=_superPropBase(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,i){e.exports=i("zUnb")},"3be6":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return e.filter(function(e){return void 0===t||e.group===t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"navItemFilter",type:e,pure:!0}),e}()},AytR:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={production:!0,version:"0.1.90",mockdata:!1,basehref:"/math/",idServerUrl:"https://www.alvachien.com/idserver",loginCallbackUrl:"https://www.alvachien.com/math/logincallback.html",logoutCallbackUrl:"https://www.alvachien.com/math",loginSlientRevewCallbackUrl:"https://www.alvachien.com/math/silentrenewcallback.html",apiurlRoot:"https://www.alvachien.com/quizapi"}},BETK:function BETK(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return QuizSection}),__webpack_require__.d(__webpack_exports__,"e",function(){return Quiz}),__webpack_require__.d(__webpack_exports__,"a",function(){return AdditionQuizItem}),__webpack_require__.d(__webpack_exports__,"g",function(){return SubtractionQuizItem}),__webpack_require__.d(__webpack_exports__,"d",function(){return MultiplicationQuizItem}),__webpack_require__.d(__webpack_exports__,"b",function(){return DivisionQuizItem}),__webpack_require__.d(__webpack_exports__,"c",function(){return MixedOperationQuizItem});var StorableObject=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"storeToString",value:function(){var e=this.storeToJsonObject();return JSON&&JSON.stringify(e)}},{key:"restoreFromString",value:function(e){var t=JSON.parse(e);this.restoreFromJsonObject(t),this.canCalcResult()&&this.calcResult()}},{key:"storeToJsonObject",value:function(){return{}}},{key:"restoreFromJsonObject",value:function(e){}},{key:"canCalcResult",value:function(){return!0}},{key:"calcResult",value:function(){}}]),e}(),QuizSection=function(){function e(t,i){_classCallCheck(this,e),this.itemCount=0,this.failedItemCount=0,this.timeSpent=0,this.isStarted=!1,this.sectionID=t,this.itemCount=i,this.isStarted=!1}return _createClass(e,[{key:"SectionID",get:function(){return this.sectionID}},{key:"ItemsCount",get:function(){return this.itemCount}},{key:"FailedItemsCount",get:function(){return this.failedItemCount}},{key:"IsStarted",get:function(){return this.isStarted}},{key:"TimeSpent",get:function(){return this.timeSpent},set:function(e){this.timeSpent=e}},{key:"Start",value:function(){this.timeStarted=new Date}},{key:"Complete",value:function(e){this.timeSpent=((new Date).getTime()-this.timeStarted.getTime())/1e3,this.isStarted=!1,this.failedItemCount=e||0}}]),e}(),Quiz=function(){function e(t){_classCallCheck(this,e),this.elderSections=[],this.curSectionID=0,this.quizID=t,this.curSection=null}return _createClass(e,[{key:"QuizID",get:function(){return this.quizID}},{key:"ElderSections",get:function(){return this.elderSections}},{key:"ActiveSection",get:function(){return this.curSection}},{key:"NextSectionID",get:function(){return this.curSectionID+1}},{key:"startNewSection",value:function(e){if(null!=this.curSection)throw"An active section not yet completed";if(e.SectionID<=this.curSectionID)throw"Invalid Section ID";this.curSectionID=e.SectionID,this.curSection=e,this.curSection.Start()}},{key:"completeActionSection",value:function(e){if(!this.curSection)throw"Active section not available";this.curSection.Complete(e),this.elderSections.push(this.curSection),this.curSection=null}}]),e}(),QuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._index=0,e}return _createClass(i,[{key:"QuizIndex",get:function(){return this._index},set:function(e){this._index=e}},{key:"IsCorrect",value:function(){return!!this.canCalcResult()}},{key:"getQuizFormat",value:function(){return""}},{key:"getCorrectFormula",value:function(){return""}},{key:"getInputtedForumla",value:function(){return""}},{key:"storeToJsonObject",value:function(){return _get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this)}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(i.prototype),"restoreFromJsonObject",this).call(this,e)}},{key:"canCalcResult",value:function(){return!0}},{key:"calcResult",value:function(){}}]),i}(StorableObject),PrimarySchoolMathQuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"IsCorrect",value:function(){return!!_get(_getPrototypeOf(i.prototype),"IsCorrect",this).call(this)}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(i.prototype),"getQuizFormat",this).call(this)}},{key:"getCorrectFormula",value:function(){return _get(_getPrototypeOf(i.prototype),"getCorrectFormula",this).call(this)}},{key:"getInputtedForumla",value:function(){return _get(_getPrototypeOf(i.prototype),"getInputtedForumla",this).call(this)}},{key:"storeToJsonObject",value:function(){return _get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this)}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(i.prototype),"restoreFromJsonObject",this).call(this,e)}},{key:"canCalcResult",value:function(){return!!_get(_getPrototypeOf(i.prototype),"canCalcResult",this).call(this)}},{key:"calcResult",value:function(){}}]),i}(QuizItem),PrimarySchoolMathFAOQuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this))._leftNumber=0,a._rightNumber=0,a._decimalPlaces=r||0,e&&(a._leftNumber=a._decimalPlaces>0?parseFloat(e.toFixed(a._decimalPlaces)):Math.round(e)),n&&(a._rightNumber=a._decimalPlaces>0?parseFloat(n.toFixed(a._decimalPlaces)):Math.round(n)),a.canCalcResult()&&a.calcResult(),a}return _createClass(i,[{key:"LeftNumber",get:function(){return this._leftNumber}},{key:"RightNumber",get:function(){return this._rightNumber}},{key:"decimalPlaces",get:function(){return this._decimalPlaces}},{key:"IsCorrect",value:function(){return!!_get(_getPrototypeOf(i.prototype),"IsCorrect",this).call(this)}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(i.prototype),"getQuizFormat",this).call(this)}},{key:"getCorrectFormula",value:function(){return _get(_getPrototypeOf(i.prototype),"getCorrectFormula",this).call(this)}},{key:"getInputtedForumla",value:function(){return _get(_getPrototypeOf(i.prototype),"getInputtedForumla",this).call(this)}},{key:"storeToJsonObject",value:function(){var e=_get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this);return e.leftNumber=this._leftNumber,e.rightNumber=this._rightNumber,e.decimalPlaces=this.decimalPlaces,e}},{key:"restoreFromJsonObject",value:function(e){e&&e.leftNumber&&(this._leftNumber=+e.leftNumber),e&&e.rightNumber&&(this._rightNumber=+e.rightNumber),this._decimalPlaces=e&&e.decimalPlaces?+e.decimalPlaces:0}},{key:"canCalcResult",value:function(){return!!_get(_getPrototypeOf(i.prototype),"canCalcResult",this).call(this)&&void 0!==this._leftNumber&&void 0!==this._rightNumber}},{key:"calcResult",value:function(){_get(_getPrototypeOf(i.prototype),"calcResult",this).call(this)}}]),i}(PrimarySchoolMathQuizItem),PrimarySchoolMathQuizSection=function(){function e(t,i){_classCallCheck(this,e),this._itemCount=0,this._itemFailed=0,this._startPoint=0,this._timeSpent=0,this._sectionNumber=t,this.ItemsCount=i}return _createClass(e,[{key:"SectionNumber",get:function(){return this._sectionNumber}},{key:"ItemsCount",get:function(){return this._itemCount},set:function(e){this._itemCount=e}},{key:"ItemsFailed",get:function(){return this._itemFailed},set:function(e){this._itemFailed=e}},{key:"TimeSpent",get:function(){return this._timeSpent}},{key:"SectionStart",value:function(){this._startPoint=(new Date).getTime()}},{key:"SectionComplete",value:function(){var e=(new Date).getTime();this._timeSpent=Math.round((e-this._startPoint)/1e3)}},{key:"getSummaryInfo",value:function(){var e="BATCH#"+this.SectionNumber.toString()+";";return e=e+" total items: "+this.ItemsCount.toString()+"; "+(this.ItemsFailed>0?" Failed : "+this.ItemsFailed.toString():""),e=e+=" Time spent: "+this.TimeSpent.toString()+" s"}}]),e}(),AdditionQuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,r)}return _createClass(i,[{key:"Result",get:function(){return this._result}},{key:"InputtedResult",get:function(){return this._inputtedResult},set:function(e){this._inputtedResult=e}},{key:"IsCorrect",value:function(){return!!_get(_getPrototypeOf(i.prototype),"IsCorrect",this).call(this)&&null!=this._inputtedResult&&this._inputtedResult===this._result}},{key:"getCorrectFormula",value:function(){return this.LeftNumber.toString()+" + "+this.RightNumber.toString()+" = "+this.Result.toString()}},{key:"getInputtedForumla",value:function(){return this.LeftNumber.toString()+" + "+this.RightNumber.toString()+" = "+(null!=this.InputtedResult?this.InputtedResult.toString():"")}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(i.prototype),"getQuizFormat",this).call(this)+this.LeftNumber.toString()+" + "+this.RightNumber.toString()+" = "}},{key:"storeToJsonObject",value:function(){return _get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this)}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(i.prototype),"restoreFromJsonObject",this).call(this,e)}},{key:"calcResult",value:function(){_get(_getPrototypeOf(i.prototype),"calcResult",this).call(this),this._result=this.LeftNumber+this.RightNumber,this._result=0===this._decimalPlaces?Math.round(this._result):parseFloat(this._result.toFixed(this._decimalPlaces))}}]),i}(PrimarySchoolMathFAOQuizItem),SubtractionQuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,r)}return _createClass(i,[{key:"Result",get:function(){return this._result}},{key:"InputtedResult",get:function(){return this._inputtedResult},set:function(e){this._inputtedResult=e}},{key:"IsCorrect",value:function(){return!!_get(_getPrototypeOf(i.prototype),"IsCorrect",this).call(this)&&null!=this._inputtedResult&&this._inputtedResult===this._result}},{key:"getCorrectFormula",value:function(){return this.LeftNumber.toString()+" - "+this.RightNumber.toString()+" = "+this.Result.toString()}},{key:"getInputtedForumla",value:function(){return this.LeftNumber.toString()+" - "+this.RightNumber.toString()+" = "+(null!=this.InputtedResult?this.InputtedResult.toString():"")}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(i.prototype),"getQuizFormat",this).call(this)+this.LeftNumber.toString()+" - "+this.RightNumber.toString()+" = "}},{key:"storeToJsonObject",value:function(){return _get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this)}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(i.prototype),"restoreFromJsonObject",this).call(this,e)}},{key:"calcResult",value:function(){_get(_getPrototypeOf(i.prototype),"calcResult",this).call(this),this._result=this.LeftNumber-this.RightNumber,this._result=0===this._decimalPlaces?Math.round(this._result):parseFloat(this._result.toFixed(this._decimalPlaces))}}]),i}(PrimarySchoolMathFAOQuizItem),MultiplicationQuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,r)}return _createClass(i,[{key:"Result",get:function(){return this._result}},{key:"InputtedResult",get:function(){return this._inputtedResult},set:function(e){this._inputtedResult=e}},{key:"IsCorrect",value:function(){return!!_get(_getPrototypeOf(i.prototype),"IsCorrect",this).call(this)&&null!=this._inputtedResult&&this._inputtedResult===this._result}},{key:"getCorrectFormula",value:function(){return this.LeftNumber.toString()+" \xd7 "+this.RightNumber.toString()+" = "+this.Result.toString()}},{key:"getInputtedForumla",value:function(){return this.LeftNumber.toString()+" \xd7 "+this.RightNumber.toString()+" = "+(null!=this.InputtedResult?this.InputtedResult.toString():"")}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(i.prototype),"getQuizFormat",this).call(this)+this.LeftNumber.toString()+" \xd7 "+this.RightNumber.toString()+" = "}},{key:"storeToJsonObject",value:function(){return _get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this)}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(i.prototype),"restoreFromJsonObject",this).call(this,e)}},{key:"calcResult",value:function(){_get(_getPrototypeOf(i.prototype),"calcResult",this).call(this),this._result=this.LeftNumber*this.RightNumber,this._result=0===this._decimalPlaces?Math.round(this._result):parseFloat(this._result.toFixed(this._decimalPlaces))}}]),i}(PrimarySchoolMathFAOQuizItem),DivisionQuizItem=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,r)}return _createClass(i,[{key:"Dividend",get:function(){return this.LeftNumber}},{key:"Divisor",get:function(){return this.RightNumber}},{key:"Quotient",get:function(){return this._quotient}},{key:"Remainder",get:function(){return this._remainder}},{key:"InputtedQuotient",get:function(){return this._inputtedQuotient},set:function(e){this._inputtedQuotient=e}},{key:"InputtedRemainder",get:function(){return this._inputtedRemainder},set:function(e){this._inputtedRemainder=e}},{key:"IsCorrect",value:function(){var e=_get(_getPrototypeOf(i.prototype),"IsCorrect",this).call(this);return e?null!=this._inputtedQuotient&&null!==this._inputtedRemainder&&null!==this._inputtedRemainder&&this._inputtedQuotient===this._quotient&&this._inputtedRemainder===this._remainder:e}},{key:"getCorrectFormula",value:function(){return this.LeftNumber.toString()+" \xf7 "+this.RightNumber.toString()+" = "+this.Quotient.toString()+(0===this.Remainder?"":"... "+this.Remainder.toString())}},{key:"getInputtedForumla",value:function(){return this.LeftNumber.toString()+" \xf7 "+this.RightNumber.toString()+" = "+(null!=this.InputtedQuotient?this.InputtedQuotient.toString():"")+(null!=this.InputtedRemainder?" ... "+this.InputtedRemainder.toString():"")}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(i.prototype),"getQuizFormat",this).call(this)+this.LeftNumber.toString()+" \xf7 "+this.RightNumber.toString()+" = "}},{key:"storeToJsonObject",value:function(){return _get(_getPrototypeOf(i.prototype),"storeToJsonObject",this).call(this)}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(i.prototype),"restoreFromJsonObject",this).call(this,e)}},{key:"canCalcResult",value:function(){return!!_get(_getPrototypeOf(i.prototype),"canCalcResult",this).call(this)&&0!==this._rightNumber}},{key:"calcResult",value:function(){_get(_getPrototypeOf(i.prototype),"calcResult",this).call(this),this._quotient=this.LeftNumber/this.RightNumber,this._remainder=this.LeftNumber%this.RightNumber,this._quotient=this._decimalPlaces>0?parseFloat(this._quotient.toFixed(this._decimalPlaces)):Math.floor(this._quotient)}}]),i}(PrimarySchoolMathFAOQuizItem),MixedOperationQuizItem=function(_PrimarySchoolMathQui2){_inherits(MixedOperationQuizItem,_PrimarySchoolMathQui2);var _super8=_createSuper(MixedOperationQuizItem);function MixedOperationQuizItem(e){var t;return _classCallCheck(this,MixedOperationQuizItem),t=_super8.call(this),e&&(t._formula=e),t.canCalcResult()&&t.calcResult(),t}return _createClass(MixedOperationQuizItem,[{key:"Formula",get:function(){return this._formula}},{key:"Result",get:function(){return this._result}},{key:"decimalPlace",get:function(){return this._decimalPlace},set:function(e){this._decimalPlace=e}},{key:"InputtedResult",get:function(){return this._inputtedResult},set:function(e){this._inputtedResult=e}},{key:"IsCorrect",value:function(){return!!_get(_getPrototypeOf(MixedOperationQuizItem.prototype),"IsCorrect",this).call(this)&&this._result===this._inputtedResult}},{key:"getCorrectFormula",value:function(){return this.getQuizFormat()+this.Result.toString()}},{key:"getInputtedForumla",value:function(){return this.getQuizFormat()+this.InputtedResult.toString()}},{key:"getQuizFormat",value:function(){return _get(_getPrototypeOf(MixedOperationQuizItem.prototype),"getQuizFormat",this).call(this)+this._formula.replace("*","\xd7").replace("/","\xf7")+" = "}},{key:"storeToJsonObject",value:function(){var e=_get(_getPrototypeOf(MixedOperationQuizItem.prototype),"storeToJsonObject",this).call(this);return e.forumla=this._formula,e}},{key:"restoreFromJsonObject",value:function(e){_get(_getPrototypeOf(MixedOperationQuizItem.prototype),"restoreFromJsonObject",this).call(this,e),e&&e.forumla&&(this._formula=e.formula)}},{key:"canCalcResult",value:function(){return!!_get(_getPrototypeOf(MixedOperationQuizItem.prototype),"canCalcResult",this).call(this)&&!(void 0===this._formula||this._formula.length<=0)}},{key:"calcResult",value:function calcResult(){_get(_getPrototypeOf(MixedOperationQuizItem.prototype),"calcResult",this).call(this),this._result=eval(this._formula),this._result=this._decimalPlace>0?parseFloat(this._result.toFixed(this._decimalPlace)):Math.floor(this._result)}}]),MixedOperationQuizItem}(PrimarySchoolMathQuizItem)},NUjs:function(e,t,i){"use strict";i.d(t,"c",function(){return n}),i.d(t,"e",function(){return r}),i.d(t,"f",function(){return a}),i.d(t,"a",function(){return s}),i.d(t,"b",function(){return o}),i.d(t,"d",function(){return u});var n=function(e){return e[e.Question=0]="Question",e[e.SingleChoice=1]="SingleChoice",e[e.MultipleChoice=2]="MultipleChoice",e[e.ShortAnswer=3]="ShortAnswer",e[e.EssayQuestions=4]="EssayQuestions",e}({}),r=function(e){var t="";switch(e){case n.SingleChoice:t="ExerciseItemType.SingleChoice";break;case n.MultipleChoice:t="ExerciseItemType.MultipleChoices";break;case n.ShortAnswer:t="ExerciseItemType.ShortAnswer";break;case n.ShortAnswer:t="ExerciseItemType.EssayQuestion";break;case n.Question:default:t="ExerciseItemType.Question"}return t},a=function(){var e=[];for(var t in n)Number.isNaN(+t)||e.push({value:+t,i18nterm:r(+t),displaystring:""});return e},s=function(){function e(){_classCallCheck(this,e),this._tags=[],this.ID=-1,this.Content="",this.ItemType=n.Question}return _createClass(e,[{key:"KnowledgeItemID",get:function(){return this._knowledgeItemID},set:function(e){this._knowledgeItemID=e}},{key:"CreatedAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"ModifiedAt",get:function(){return this._modifiedAt},set:function(e){this._modifiedAt=e}},{key:"Tags",get:function(){return this._tags},set:function(e){this._tags=e.slice()}},{key:"Answer",get:function(){return this._answer},set:function(e){this._answer=e}},{key:"parseData",value:function(e){var t=this;if(e&&e.ID&&(this.ID=+e.ID),e&&e.KnowledgeItemID&&(this.KnowledgeItemID=e.KnowledgeItemID),e&&e.ExerciseType&&(this.ItemType=isNaN(+e.ExerciseType)?n[e.ExerciseType]:+e.ExerciseType),e&&e.Content&&(this.Content=e.Content),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt)),e&&e.ModifiedAt&&(this.ModifiedAt=new Date(e.ModifiedAt)),e&&e.Answer&&(this.Answer=e.Answer.Content),e&&e.Tags){var i=e.Tags;this._tags=[],i.forEach(function(e){t._tags.push(e.TagTerm)})}}},{key:"generateString",value:function(e){var t={Content:this.Content,ExerciseType:n[this.ItemType]};return e&&(t.ID=this.ID),this.KnowledgeItemID&&(t.KnowledgeItemID=this.KnowledgeItemID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),this.ModifiedAt&&(t.ModifiedAt=this.ModifiedAt.toISOString().slice(0,10)),this.Answer&&(t.Answer={Content:this.Answer}),this.Tags&&(t.Tags=[],this.Tags.forEach(function(e){t.Tags.push({TagTerm:e})})),JSON&&JSON.stringify(t)}}]),e}(),o=function(){function e(){_classCallCheck(this,e),this.ID=-1,this.Content="",this.ItemType=n.Question,this.Tags=""}return _createClass(e,[{key:"parseData",value:function(e){e&&e.ID&&(this.ID=e.ID),e&&e.Content&&(this.Content=e.Content),e&&e.ExerciseType&&(this.ItemType=isNaN(+e.ExerciseType)?n[e.ExerciseType]:+e.ExerciseType),e&&e.Tags&&(this.Tags=e.Tags)}}]),e}(),u=function(){function e(){_classCallCheck(this,e),this.ID=-1,this.User="",this.RefID=-1,this.Score=0}return _createClass(e,[{key:"parseData",value:function(e){e&&e.ID&&(this.ID=e.ID),e&&e.User&&(this.User=e.User),e&&e.RefID&&(this.RefID=e.RefID),e&&e.Score&&(this.Score=e.Score),e&&e.TakenDate&&(this.TakenDate=new Date(e.TakenDate))}},{key:"writeJSONString",value:function(e){var t={User:this.User,RefID:this.RefID,Score:this.Score};return e&&(t.ID=this.ID),JSON&&JSON.stringify(t)}}]),e}()},RnhZ:function(e,t,i){var n={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=a,e.exports=r,r.id="RnhZ"},SNjr:function(e,t,i){"use strict";i.d(t,"f",function(){return n}),i.d(t,"a",function(){return r}),i.d(t,"c",function(){return a}),i.d(t,"d",function(){return s}),i.d(t,"b",function(){return o}),i.d(t,"e",function(){return u});var n="YYYY-MM-DD",r=function(e){return e[e.home=0]="home",e[e.ps_basic=1]="ps_basic",e[e.ps_extend=2]="ps_extend",e[e.games=3]="games",e[e.award=4]="award",e[e.report=5]="report",e[e.help=6]="help",e[e.knowledge=7]="knowledge",e[e.others=10]="others",e}({}),a=function(e){return e[e.Equal=1]="Equal",e[e.NotEqual=2]="NotEqual",e[e.Between=3]="Between",e[e.LargerThan=4]="LargerThan",e[e.LargerEqual=5]="LargerEqual",e[e.LessThan=6]="LessThan",e[e.LessEqual=7]="LessEqual",e[e.Like=8]="Like",e}({}),s=function(e){return e[e.number=1]="number",e[e.string=2]="string",e[e.date=3]="date",e[e.boolean=4]="boolean",e}({}),o=function e(){_classCallCheck(this,e),this.fieldName="",this.operator=a.Equal,this.valueType=s.string,this.value=[void 0,void 0]},u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getGeneralFilterOperatorDisplayStrings",value:function(){var t=[];for(var i in a)Number.isNaN(+i)||t.push({value:+i,i18nterm:e.getGeneralFilterOperatorDisplayString(+i),displaystring:""});return t}},{key:"getGeneralFilterOperatorDisplayString",value:function(e){switch(e){case a.Between:return"Sys.Operator.Between";case a.Equal:return"Sys.Operator.Equal";case a.LargerEqual:return"Sys.Operator.LargerEqual";case a.LargerThan:return"Sys.Operator.LargerThan";case a.LessEqual:return"Sys.Operator.LessEqual";case a.LessThan:return"Sys.Operator.LessThan";case a.NotEqual:return"Sys.Operator.NotEqual";case a.Like:return"Sys.Operator.Like";default:return""}}}]),e}()},VHTt:function(e,t,i){"use strict";i.d(t,"t",function(){return n}),i.d(t,"L",function(){return r}),i.d(t,"M",function(){return a}),i.d(t,"s",function(){return s}),i.d(t,"K",function(){return o.e}),i.d(t,"k",function(){return o.a}),i.d(t,"l",function(){return o.b}),i.d(t,"m",function(){return o.d}),i.d(t,"D",function(){return u}),i.d(t,"N",function(){return c}),i.d(t,"B",function(){return l}),i.d(t,"C",function(){return h}),i.d(t,"w",function(){return d}),i.d(t,"O",function(){return p.f}),i.d(t,"b",function(){return p.a}),i.d(t,"o",function(){return p.c}),i.d(t,"p",function(){return p.d}),i.d(t,"n",function(){return p.b}),i.d(t,"E",function(){return p.e}),i.d(t,"y",function(){return f.f}),i.d(t,"x",function(){return f.e}),i.d(t,"a",function(){return f.a}),i.d(t,"z",function(){return f.g}),i.d(t,"v",function(){return f.d}),i.d(t,"j",function(){return f.b}),i.d(t,"u",function(){return f.c}),i.d(t,"A",function(){return g}),i.d(t,"I",function(){return k}),i.d(t,"q",function(){return O}),i.d(t,"h",function(){return S.f}),i.d(t,"J",function(){return S.j}),i.d(t,"g",function(){return S.e}),i.d(t,"f",function(){return S.d}),i.d(t,"e",function(){return S.c}),i.d(t,"i",function(){return S.h}),i.d(t,"c",function(){return S.a}),i.d(t,"d",function(){return S.b}),i.d(t,"G",function(){return A}),i.d(t,"H",function(){return x}),i.d(t,"r",function(){return R}),i.d(t,"F",function(){return E});var n=function(e){return e[e.Concept=0]="Concept",e[e.Formula=1]="Formula",e}({}),r=function(e){var t="";switch(e){case n.Formula:t="KnowledgeItemCategory.Formula";break;case n.Concept:default:t="KnowledgeItemCategory.Concept"}return t},a=function(){var e=[];for(var t in n)Number.isNaN(+t)||e.push({value:+t,i18nterm:r(+t),displaystring:""});return e},s=function(){function e(){_classCallCheck(this,e),this._tags=[]}return _createClass(e,[{key:"ID",get:function(){return this._id},set:function(e){this._id=e}},{key:"Title",get:function(){return this._title},set:function(e){this._title=e}},{key:"Content",get:function(){return this._content},set:function(e){this._content=e}},{key:"ItemCategory",get:function(){return this._itemCtgy},set:function(e){this._itemCtgy=e}},{key:"Tags",get:function(){return this._tags},set:function(e){this._tags=e.slice()}},{key:"CreatedAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"ModifiedAt",get:function(){return this._modifiedAt},set:function(e){this._modifiedAt=e}},{key:"parseData",value:function(e){var t=this;if(e&&e.ID&&(this.ID=+e.ID),e&&e.Category&&(this.ItemCategory=isNaN(+e.Category)?n[e.Category]:+e.Category),e&&e.Title&&(this._title=e.Title),e&&e.Content&&(this.Content=e.Content),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt)),e&&e.ModifiedAt&&(this.ModifiedAt=new Date(e.ModifiedAt)),e&&e.Tags){var i=e.Tags;this._tags=[],i.forEach(function(e){t._tags.push(e.TagTerm)})}}},{key:"generateString",value:function(e){var t={Content:this._content,Title:this._title,Category:n[this.ItemCategory]};return e&&(t.ID=this.ID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString()),this.ModifiedAt&&(t.ModifiedAt=this.ModifiedAt.toISOString()),this.Tags&&(t.Tags=[],this.Tags.forEach(function(e){t.Tags.push({TagTerm:e})})),JSON&&JSON.stringify(t)}}]),e}(),o=i("NUjs"),u=function(e){return e[e.KnowledgeItem=1]="KnowledgeItem",e[e.ExerciseItem=2]="ExerciseItem",e}({}),c=function(e){var t="";switch(e){case u.ExerciseItem:t="ExerciseItem";break;default:t="KnowledgeItem"}return t},l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parseData",value:function(e){e&&e.TagTerm&&(this.TagTerm=e.TagTerm),e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?u[e.RefType]:+e.RefType),e&&e.RefID&&(this.RefID=e.RefID)}}]),e}(),h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parseData",value:function(e){e&&e.Tag&&(this.TagTerm=e.Tag),e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?u[e.RefType]:e.RefType),e&&e.Count&&(this.Count=e.Count)}}]),e}(),d=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parseData",value:function(e){e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?u[e.RefType]:+e.RefType),e&&e.Count&&(this.Count=e.Count)}}]),e}(),p=i("SNjr"),f=i("BETK"),g=9,m=function(){function e(){_classCallCheck(this,e),this._dataCells=[];for(var t=0;t<3;t++)this._dataCells.push(0)}return _createClass(e,[{key:"getCell",value:function(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataCells[e]}},{key:"setCell",value:function(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataCells[e]=t}},{key:"toString",value:function(){return this._dataCells.join(" ")}},{key:"print2Log",value:function(){console.log(this.toString())}}]),e}(),v=function(){function e(){_classCallCheck(this,e),this._dataRows=[];for(var t=0;t<3;t++){var i=new m;this._dataRows.push(i)}}return _createClass(e,[{key:"getRow",value:function(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e]}},{key:"setRow",value:function(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(null==t)throw new Error("Unit row is not assigned");this._dataRows[e]=t}},{key:"getCell",value:function(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e].getCell(t)}},{key:"setCell",value:function(e,t,i){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataRows[e].setCell(t,i)}},{key:"swapRows",value:function(t,i){if(t<0||t>=3||i<0||i>=3)throw new Error("index of Sudou Unit is 1 - 3");for(var n=new e,r=0;r<3;r++)for(var a=0;a<3;a++)n.setCell(r===t?i:r===i?t:r,a,this.getCell(r,a));return n}},{key:"swapColumns",value:function(t,i){if(t<0||t>=3||i<0||i>=3)throw new Error("index of Sudou Unit is 1 - 3");for(var n=new e,r=0;r<3;r++)for(var a=0;a<3;a++)n.setCell(r,a===t?i:a===i?t:a,this.getCell(r,a));return n}},{key:"scrollUp",value:function(){return this.swapRows(0,1).swapRows(1,2)}},{key:"scrollDown",value:function(){return this.swapRows(1,2).swapRows(0,1)}},{key:"scrollLeft",value:function(){return this.swapColumns(0,1).swapColumns(1,2)}},{key:"scrollRight",value:function(){return this.swapColumns(1,2).swapColumns(0,1)}},{key:"print2Log",value:function(){for(var e=0;e<3;e++)this._dataRows[e].print2Log()}}],[{key:"generateValidOne",value:function(){for(var t=new e,i=[],n=0;n<g;n++)i.push(0);for(var r=0;r<g;r++){var a=Math.round(Math.random()*(g-1)+1);if(0===i[a])i[a]=r+1;else{for(a=0;a<g;){if(0===i[a]){i[a]=r+1;break}a++}if(a>g)throw new Error("Failed to initialize a 3*3!")}}for(var s=0;s<g;s++)t.setCell(Math.floor(s/3),Math.floor(s%3),i[s]);return t}}]),e}(),b=function(){function e(){_classCallCheck(this,e),this._dataCells=[];for(var t=0;t<3;t++)this._dataCells.push(new v)}return _createClass(e,[{key:"getCell",value:function(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataCells[e]}},{key:"setCell",value:function(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataCells[e]=t}}]),e}(),y=function(){function e(){_classCallCheck(this,e),this._dataRows=[];for(var t=0;t<3;t++){var i=new b;this._dataRows.push(i)}}return _createClass(e,[{key:"getRow",value:function(e){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e]}},{key:"setRow",value:function(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(null==t)throw new Error("Unit row is not assigned");this._dataRows[e]=t}},{key:"getUnitCell",value:function(e,t){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");return this._dataRows[e].getCell(t)}},{key:"setUnitCell",value:function(e,t,i){if(e<0||e>=3)throw new Error("index of Sudou Unit is 1 - 3");if(t<0||t>=3)throw new Error("index of Sudou Unit is 1 - 3");this._dataRows[e].setCell(t,i)}},{key:"getDataCells",value:function(){for(var e=[],t=0;t<g;t++){for(var i=[],n=0;n<g;n++)i.push(0);e.push(i)}for(var r=0;r<3;r++)for(var a=0;a<3;a++)for(var s=this._dataRows[r].getCell(a),o=0;o<3;o++)for(var u=3*r+o,c=0;c<3;c++)e[u][3*a+c]=s.getCell(o,c);return e}},{key:"print2Log",value:function(){for(var e=[],t=0;t<g;t++)e.push("");for(var i=0;i<3;i++)for(var n=0;n<3;n++)for(var r=this._dataRows[i].getCell(n),a=0;a<3;a++)e[3*i+a]+=r.getRow(a).toString()+" ";for(var s=0;s<g;s++)console.log(e[s])}},{key:"print2String",value:function(){for(var e=[],t=0;t<g;t++)e.push("");for(var i=0;i<3;i++)for(var n=0;n<3;n++)for(var r=this._dataRows[i].getCell(n),a=0;a<3;a++)e[3*i+a]+=r.getRow(a).toString()+" ";return e.join(";")}}]),e}();function k(){var e=new y,t=v.generateValidOne(),i=t.scrollUp(),n=t.scrollDown(),r=t.scrollRight(),a=t.scrollLeft(),s=n.scrollRight(),o=n.scrollLeft(),u=i.scrollRight(),c=i.scrollLeft();return e.setUnitCell(0,0,s),e.setUnitCell(0,1,r),e.setUnitCell(0,2,u),e.setUnitCell(1,0,n),e.setUnitCell(1,1,t),e.setUnitCell(1,2,i),e.setUnitCell(2,0,o),e.setUnitCell(2,1,a),e.setUnitCell(2,2,c),e}var _=i("rCpU"),w=function e(){_classCallCheck(this,e),this.playerinput=void 0},C=function e(){_classCallCheck(this,e)},j=function(e){return e[e.row=0]="row",e[e.column=1]="column",e[e.slash=2]="slash",e[e.backslash=4]="backslash",e}({}),I=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(C),O=function(){function e(){_classCallCheck(this,e),this._playAnalysis=[],this._AIAnalysis=[],this._arSlashPos=[],this._arBackSlashPos=[],this._queuePositions=[],this._dimension=20,this._inited=!1,this._finished=!1}return _createClass(e,[{key:"Dimension",get:function(){return this._dimension},set:function(e){this._dimension=e}},{key:"Finished",get:function(){return this._finished}},{key:"AIAnalysisResult",get:function(){return this._AIAnalysis}},{key:"PlayerAnalysisResult",get:function(){return this._playAnalysis}},{key:"QueuePositions",get:function(){return this._queuePositions}},{key:"init",value:function(){if(this._dimension<=0||this._dimension>50)throw new Error("Invalid dimension");this._finished=!1,this.cells=new Array;for(var e=0;e<this._dimension;e++){for(var t=new Array,i=0;i<this._dimension;i++)t.push(new w);this.cells.push(t)}var n=new _.a(this._dimension,this._dimension);this._arSlashPos=n.getSlashOutputPos(),this._arBackSlashPos=n.getBackSlashOutputPos(),this._AIAnalysis=[],this._playAnalysis=[],this._queuePositions=[],this._inited=!0}},{key:"isCellHasValue",value:function(e,t){if(!this._inited)throw new Error("Not initialed");if(e<0||e>=this._dimension||t<0||t>=this._dimension)throw new Error("Invalid row or column");return void 0!==this.cells[e][t].playerinput}},{key:"setCellValue",value:function(e,t,i){if(!this._inited)throw new Error("Not initialed");if(this._finished)throw new Error("Already finished");if(e<0||e>=this._dimension||t<0||t>=this._dimension)throw new Error("Invalid row or column");this.cells[e][t].playerinput=i,this._queuePositions.push({row:e,column:t}),this.checkWinner(e,t,i)}},{key:"workoutNextCellAIPosition",value:function(){var e=this;if(this._finished)throw new Error("Game is over!");var t={row:0,column:0};if(this._queuePositions.length<=0)return t.row=Math.round(Math.random()*this._dimension/2),t.column=Math.round(Math.random()*this._dimension/2),t;if(1===this._queuePositions.length)return t.row=this._queuePositions[0].row,t.column=this._queuePositions[0].column+1<this._dimension?this._queuePositions[0].column+1:this._queuePositions[0].column-1,t;this.buildUpAIAnalyis();var i=-1;this._playAnalysis.forEach(function(t,n){-1!==i||!0===t.headsealed&&!0===t.tailsealed?e._playAnalysis[i].risklevel<t.risklevel&&(!0!==t.headsealed||!0!==t.tailsealed)&&(i=n):i=n});var n=-1;if(this._AIAnalysis.forEach(function(t,i){-1!==n||!0===t.headsealed&&!0===t.tailsealed?e._playAnalysis[n].risklevel<t.risklevel&&(!0!==t.headsealed||!0!==t.tailsealed)&&(n=i):n=i}),this._AIAnalysis[n].risklevel<this._playAnalysis[i].risklevel&&(4===this._playAnalysis[i].risklevel||3===this._playAnalysis[i].risklevel&&!this._playAnalysis[i].headsealed&&!this._playAnalysis[i].tailsealed)){if(this._playAnalysis[i].headsealed)switch(this._playAnalysis[i].direction){case j.row:t.row=this._playAnalysis[i].relid,t.column=this._playAnalysis[i].endidx+1;break;case j.column:t.row=this._playAnalysis[i].endidx+1,t.column=this._playAnalysis[i].relid;break;case j.slash:t.row=this._arSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].endidx+1].row,t.column=this._arSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].endidx+1].column;break;case j.backslash:t.row=this._arBackSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].endidx+1].row,t.column=this._arBackSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].endidx+1].column;break;default:throw new Error("Unsupported type!")}else switch(this._playAnalysis[i].direction){case j.row:t.row=this._playAnalysis[i].relid,t.column=this._playAnalysis[i].startidx-1;break;case j.column:t.row=this._playAnalysis[i].startidx-1,t.column=this._playAnalysis[i].relid;break;case j.slash:t.row=this._arSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].startidx-1].row,t.column=this._arSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].startidx-1].column;break;case j.backslash:t.row=this._arBackSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].startidx-1].row,t.column=this._arBackSlashPos[this._playAnalysis[i].relid][this._playAnalysis[i].startidx-1].column;break;default:throw new Error("Unsupported type!")}return t}if(this._AIAnalysis[n].headsealed)switch(this._AIAnalysis[n].direction){case j.row:t.row=this._AIAnalysis[n].relid,t.column=this._AIAnalysis[n].endidx+1;break;case j.column:t.row=this._AIAnalysis[n].endidx+1,t.column=this._AIAnalysis[n].relid;break;case j.slash:t.row=this._arSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].endidx+1].row,t.column=this._arSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].endidx+1].column;break;case j.backslash:t.row=this._arBackSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].endidx+1].row,t.column=this._arBackSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].endidx+1].column;break;default:throw new Error("Unsupported type!")}else switch(this._AIAnalysis[n].direction){case j.row:t.row=this._AIAnalysis[n].relid,t.column=this._AIAnalysis[n].startidx-1;break;case j.column:t.row=this._AIAnalysis[n].startidx-1,t.column=this._AIAnalysis[n].relid;break;case j.slash:t.row=this._arSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].startidx-1].row,t.column=this._arSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].startidx-1].column;break;case j.backslash:t.row=this._arBackSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].startidx-1].row,t.column=this._arBackSlashPos[this._AIAnalysis[n].relid][this._AIAnalysis[n].startidx-1].column;break;default:throw new Error("Unsupported type!")}return t}},{key:"buildUpAIAnalyis",value:function(){this._playAnalysis=[],this._AIAnalysis=[];for(var e=0;e<this._dimension;e++){var t,i=_createForOfIteratorHelper(this.buildUpAnalysisRow(this.cells[e]));try{for(i.s();!(t=i.n()).done;){var n=t.value;if(!0!==n.headsealed||!0!==n.tailsealed)if(!0===n.userinput){var r=new I;r.direction=j.row,r.relid=e,r.risklevel=n.endidx+1-n.startidx,r.startidx=n.startidx,r.endidx=n.endidx,r.headsealed=n.headsealed,r.tailsealed=n.tailsealed,r.risklevel=r.endidx+1-r.startidx,r.userinput=n.userinput,this._playAnalysis.push(r)}else if(!1===n.userinput){var a=new I;a.direction=j.row,a.relid=e,a.risklevel=n.endidx+1-n.startidx,a.startidx=n.startidx,a.endidx=n.endidx,a.headsealed=n.headsealed,a.tailsealed=n.tailsealed,a.risklevel=a.endidx+1-a.startidx,a.userinput=n.userinput,this._AIAnalysis.push(a)}}}catch(M){i.e(M)}finally{i.f()}}for(var s=0;s<this._dimension;s++){for(var o=[],u=0;u<this._dimension;u++)o.push(this.cells[u][s]);var c,l=_createForOfIteratorHelper(this.buildUpAnalysisRow(o));try{for(l.s();!(c=l.n()).done;){var h=c.value;if(!0!==h.headsealed||!0!==h.tailsealed)if(!0===h.userinput){var d=new I;d.direction=j.column,d.relid=s,d.risklevel=h.endidx+1-h.startidx,d.startidx=h.startidx,d.endidx=h.endidx,d.headsealed=h.headsealed,d.tailsealed=h.tailsealed,d.risklevel=d.endidx+1-d.startidx,d.userinput=h.userinput,this._playAnalysis.push(d)}else if(!1===h.userinput){var p=new I;p.direction=j.column,p.relid=s,p.risklevel=h.endidx+1-h.startidx,p.startidx=h.startidx,p.endidx=h.endidx,p.headsealed=h.headsealed,p.tailsealed=h.tailsealed,p.risklevel=p.endidx+1-p.startidx,p.userinput=h.userinput,this._AIAnalysis.push(p)}}}catch(M){l.e(M)}finally{l.f()}}for(var f=0;f<this._arSlashPos.length;f++){var g,m=[],v=_createForOfIteratorHelper(this._arSlashPos[f]);try{for(v.s();!(g=v.n()).done;){var b=g.value;m.push(this.cells[b.row][b.column])}}catch(M){v.e(M)}finally{v.f()}var y,k=_createForOfIteratorHelper(this.buildUpAnalysisRow(m));try{for(k.s();!(y=k.n()).done;){var _=y.value;if(!0!==_.headsealed||!0!==_.tailsealed)if(!0===_.userinput){var w=new I;w.direction=j.slash,w.relid=f,w.risklevel=_.endidx+1-_.startidx,w.startidx=_.startidx,w.endidx=_.endidx,w.headsealed=_.headsealed,w.tailsealed=_.tailsealed,w.risklevel=w.endidx+1-w.startidx,w.userinput=_.userinput,this._playAnalysis.push(w)}else if(!1===_.userinput){var C=new I;C.direction=j.slash,C.relid=f,C.risklevel=_.endidx+1-_.startidx,C.startidx=_.startidx,C.endidx=_.endidx,C.headsealed=_.headsealed,C.tailsealed=_.tailsealed,C.risklevel=C.endidx+1-C.startidx,C.userinput=_.userinput,this._AIAnalysis.push(C)}}}catch(M){k.e(M)}finally{k.f()}}for(var O=0;O<this._arBackSlashPos.length;O++){var S,A=[],x=_createForOfIteratorHelper(this._arBackSlashPos[O]);try{for(x.s();!(S=x.n()).done;){var T=S.value;A.push(this.cells[T.row][T.column])}}catch(M){x.e(M)}finally{x.f()}var D,R=_createForOfIteratorHelper(this.buildUpAnalysisRow(A));try{for(R.s();!(D=R.n()).done;){var E=D.value;if(!0===E.userinput){var F=new I;F.direction=j.backslash,F.relid=O,F.risklevel=E.endidx+1-E.startidx,F.startidx=E.startidx,F.endidx=E.endidx,F.headsealed=E.headsealed,F.tailsealed=E.tailsealed,F.risklevel=F.endidx+1-F.startidx,F.userinput=E.userinput,this._playAnalysis.push(F)}else if(!1===E.userinput){var U=new I;U.direction=j.backslash,U.relid=O,U.risklevel=E.endidx+1-E.startidx,U.startidx=E.startidx,U.endidx=E.endidx,U.headsealed=E.headsealed,U.tailsealed=E.tailsealed,U.risklevel=U.endidx+1-U.startidx,U.userinput=E.userinput,this._AIAnalysis.push(U)}}}catch(M){R.e(M)}finally{R.f()}}}},{key:"buildUpAnalysisRow",value:function(e){for(var t=-1,i=void 0,n=[],r=0;r<e.length;r++)if(!0===e[r].playerinput){if(-1===t)t=r,i=!0;else if(i!==e[r].playerinput){if(void 0!==i){var a=new C;a.startidx=t,a.endidx=r-1,a.userinput=i,0===t?a.headsealed=!0:void 0===e[t-1].playerinput?a.headsealed=!1:e[t-1].playerinput!==i&&(a.headsealed=!0),a.tailsealed=!0,n.push(a)}t=r,i=e[r].playerinput}}else if(!1===e[r].playerinput){if(-1===t)t=r,i=!1;else if(i!==e[r].playerinput){if(void 0!==i){var s=new C;s.startidx=t,s.endidx=r-1,s.userinput=i,0===t?s.headsealed=!0:void 0===e[t-1].playerinput?s.headsealed=!1:e[t-1].playerinput!==i&&(s.headsealed=!0),s.tailsealed=!0,n.push(s)}t=r,i=e[r].playerinput}}else if(void 0===e[r].playerinput)if(-1===t)t=r,i=void 0;else if(void 0===i);else{var o=new C;o.startidx=t,o.endidx=r-1,o.userinput=i,0===t||void 0!==e[t-1].playerinput?o.headsealed=!0:void 0===e[t-1].playerinput&&(o.headsealed=!1),o.tailsealed=!1,n.push(o),t=r,i=e[r].playerinput}if(void 0!==i){var u=new C;u.startidx=t,u.endidx=e.length-1,u.userinput=i,0===t?u.headsealed=!0:void 0!==i&&(u.headsealed=void 0!==e[t-1].playerinput),u.tailsealed=!0,n.push(u)}return n}},{key:"checkWinner",value:function(e,t,i){for(var n=0,r=0,a=0,s=0,o=0;o<this._dimension&&(this.cells[e][o].playerinput===i?n++:n=0,5!==n);o++);if(5!==n){for(var u=0;u<this._dimension&&(this.cells[u][t].playerinput===i?r++:r=0,5!==r);u++);if(5!==r){for(var c=e+t,l=0;l<this._dimension&&(c<l||c>=l+this._dimension||(this.cells[l][c-l].playerinput===i?a++:a=0,5!==a));l++);if(5!==a){var h=e-t;if(h<0){h=Math.abs(h);for(var d=0;d<this._dimension&&(d+h>=this._dimension||(this.cells[d][d+h].playerinput===i?s++:s=0,5!==s));d++);}else for(var p=h;p<this._dimension&&(this.cells[p][p-h].playerinput===i?s++:s=0,5!==s);p++);}}}5!==n&&5!==r&&5!==a&&5!==s||(this._finished=!0)}}]),e}(),S=i("tPNy"),A=function(){function e(){_classCallCheck(this,e),this.ID=-1,this.User="",this.Name="",this.Comment=void 0,this.Items=[]}return _createClass(e,[{key:"CreatedAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"ModifiedAt",get:function(){return this._modifiedAt},set:function(e){this._modifiedAt=e}},{key:"parseData",value:function(e){var t=this;e&&e.ID&&(this.ID=e.ID),e&&e.User&&(this.User=e.User),e&&e.Name&&(this.Name=e.Name),e&&e.Comment&&(this.Comment=e.Comment),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt)),e&&e.ModifiedAt&&(this.ModifiedAt=new Date(e.ModifiedAt)),this.Items=[],e&&e.Items&&e.Items.forEach(function(e){var i=new x;i.parseData(e),t.Items.push(i)})}},{key:"writeJSONString",value:function(e){var t={User:this.User,Name:this.Name};return e&&(t.ID=this.ID),this.Comment&&this.Comment.length>0&&(t.Comment=this.Comment),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),this.ModifiedAt&&(t.ModifiedAt=this.ModifiedAt.toISOString().slice(0,10)),this.Items&&this.Items.length>0&&(t.Items=[],this.Items.forEach(function(i){t.Items.push(i.writeJSONObject(e))})),JSON&&JSON.stringify(t)}}]),e}(),x=function(){function e(){_classCallCheck(this,e),this.ID=-1,this.RefType=u.ExerciseItem,this.RefID=-1}return _createClass(e,[{key:"CreatedAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"parseData",value:function(e){e&&e.ID&&(this.ID=e.ID),e&&e.RefType&&(this.RefType=isNaN(+e.RefType)?u[e.RefType]:+e.RefType),e&&e.RefID&&(this.RefID=e.RefID),e&&e.CreatedAt&&(this.CreatedAt=new Date(e.CreatedAt))}},{key:"writeJSONObject",value:function(e){var t={RefType:u[this.RefType],RefID:this.RefID};return e&&(t.ID=this.ID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),t}},{key:"writeJSONString",value:function(e){var t={RefType:u[this.RefType],RefID:this.RefID};return e&&(t.ID=this.ID),this.CreatedAt&&(t.CreatedAt=this.CreatedAt.toISOString().slice(0,10)),JSON&&JSON.stringify(t)}}]),e}(),T=i("wd/R"),D=i.n(T),R=function(){function e(){_classCallCheck(this,e),this.userID="",this.userName="",this.displayAs="",this.createdAt=D()(),this.lastLogonAt=D()(),this.awardUsers=[]}return _createClass(e,[{key:"createdAtString",get:function(){return this.createdAt.format(p.f)}},{key:"lastLogonAtString",get:function(){return this.lastLogonAt.format(p.f)}},{key:"parseData",value:function(e){var t=this;e&&e.UserID&&(this.userID=e.UserID),e&&e.UserName&&(this.userName=e.UserName),e&&e.DisplayAs&&(this.displayAs=e.DisplayAs),e&&e.CreatedAt&&(this.createdAt=D()(e.CreatedAt)),e&&e.LastLoginAt&&(this.lastLogonAt=D()(e.LastLoginAt)),e&&e.AwardUsers&&e.AwardUsers.forEach(function(e){var i=new S.g;i.parseData(e),t.awardUsers.push(i)})}}]),e}(),E=function(){function e(){_classCallCheck(this,e),this.currentUser=null,this.userName="",this.userId="",this.userMailbox="",this.accessToken="",this.isAuthorized=!1}return _createClass(e,[{key:"setContent",value:function(e){e?(this.currentUser=e,this.isAuthorized=!0,this.userName=e.profile.name,this.userId=e.profile.sub,this.userMailbox=e.profile.mail,this.accessToken=e.access_token):this.cleanContent()}},{key:"cleanContent",value:function(){this.currentUser=null,this.isAuthorized=!1,this.userName="",this.userId="",this.userMailbox="",this.accessToken=""}},{key:"getUserName",value:function(){return this.userName?this.userName:""}},{key:"getUserId",value:function(){return this.userId}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getUserMailbox",value:function(){return this.userMailbox}}]),e}()},jIBr:function(e,t,i){"use strict";i.d(t,"a",function(){return $});var n,r=i("u47x"),a=i("UXJo"),s=i("5+WD"),o=i("+rOU"),u=i("vxfF"),c=i("B/XX"),l=i("f6nW"),h=i("FvrZ"),d=i("/1cH"),p=i("TU8p"),f=i("2ChS"),g=i("bTqV"),m=i("jaxi"),v=i("Wp6s"),b=i("bSwM"),y=i("A5z7"),k=i("xHqg"),_=i("iadO"),w=i("0IaG"),C=i("f0Cb"),j=i("7EHt"),I=i("zkoq"),O=i("NFeN"),S=i("qFsG"),A=i("MutI"),x=i("STbY"),T=i("FKr1"),D=i("M9IT"),R=i("bv9b"),E=i("Xa2L"),F=i("QibW"),U=i("d3UM"),M=i("XhcP"),P=i("5RNC"),z=i("1jcm"),N=i("dNgK"),J=i("Dh3D"),L=i("+0xr"),V=i("wZkO"),Q=i("/t3+"),W=i("Qu3c"),B=i("8yBR"),H=i("YUcS"),K=i("1yaQ"),G=i("fXoL"),$=((n=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275mod=G.Ob({type:n}),n.\u0275inj=G.Nb({imports:[r.a,a.a,c.e,l.r,h.d,s.a,d.a,p.a,f.c,g.c,m.a,v.e,b.b,y.e,k.d,_.e,w.f,C.b,j.b,I.a,O.b,S.c,A.c,x.c,T.m,D.b,R.b,E.b,F.a,T.t,U.b,M.d,P.b,z.b,N.b,J.c,L.k,V.a,Q.b,W.b,B.a,o.f,u.d,H.a,K.a]}),n)},o0su:function(e,t,i){"use strict";i.d(t,"d",function(){return w}),i.d(t,"e",function(){return C}),i.d(t,"c",function(){return j}),i.d(t,"f",function(){return A}),i.d(t,"b",function(){return _}),i.d(t,"a",function(){return x});var n,r,a,s,o,u,c=i("tk/3"),l=i("z6cu"),h=i("LRne"),d=i("XNiG"),p=i("lJxs"),f=i("JIr8"),g=i("VHTt"),m=i("AytR"),v=i("fXoL"),b=i("3Rfw"),y=i("2Vo4"),k={authority:m.a.idServerUrl,client_id:"knowledgebuilder.js",redirect_uri:m.a.loginCallbackUrl,post_logout_redirect_uri:m.a.logoutCallbackUrl,response_type:"id_token token",scope:"openid profile api.knowledgebuilder",filterProtocolClaims:!0,loadUserInfo:!0},_=((s=function(){function e(){var t=this;_classCallCheck(this,e),this.authHeaders=null,this.authSubject=new y.a(new g.F),this.authContent=this.authSubject.asObservable(),this.userLoadededEvent=new v.o,this.mgr=new b.UserManager(k),this.mgr.getUser().then(function(e){e?(t.authSubject.value.setContent(e),t.userLoadededEvent.emit(e)):t.authSubject.value.cleanContent(),t.authSubject.next(t.authSubject.value)},function(e){}),this.mgr.events.addUserUnloaded(function(){t.authSubject.value.cleanContent(),t.authSubject.next(t.authSubject.value)}),this.mgr.events.addAccessTokenExpiring(function(){}),this.mgr.events.addAccessTokenExpired(function(){t.doLogin()})}return _createClass(e,[{key:"doLogin",value:function(){this.mgr&&this.mgr.signinRedirect().then(function(){}).catch(function(e){})}},{key:"doLogout",value:function(){this.mgr&&this.mgr.signoutRedirect().then(function(){}).catch(function(e){})}},{key:"clearState",value:function(){this.mgr.clearStaleState().then(function(){}).catch(function(e){})}},{key:"getUser",value:function(){var e=this;this.mgr.getUser().then(function(t){e.userLoadededEvent.emit(t)}).catch(function(e){})}},{key:"removeUser",value:function(){var e=this;this.mgr.removeUser().then(function(){e.userLoadededEvent.emit(void 0)}).catch(function(e){})}},{key:"startSigninMainWindow",value:function(){this.mgr.signinRedirect({data:"some data"}).then(function(){}).catch(function(e){})}},{key:"endSigninMainWindow",value:function(){this.mgr.signinRedirectCallback().then(function(e){}).catch(function(e){})}},{key:"startSignoutMainWindow",value:function(){this.mgr.signoutRedirect().then(function(e){setTimeout(function(){},5e3)}).catch(function(e){})}},{key:"endSignoutMainWindow",value:function(){this.mgr.signoutRedirectCallback().then(function(e){}).catch(function(e){})}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275prov=v.Mb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),w=((a=function(){function e(t,i){_classCallCheck(this,e),this.http=t,this.authService=i,this.apiUrl=m.a.apiurlRoot+"/",this.uploadUrl=m.a.apiurlRoot+"/api/ImageUpload",this.isMetadataLoaded=!1,this.metadataInfo="",this.mockedUserDetail=null,this.mockedKnowledgeItem=[],this.mockedExerciseItem=[],this.mockedUserCollection=[],this.bufferedKnowledgeItems=[],this.bufferedExerciseItems=[],this.bufferedUserCollection=[],this.bufferedAwardUser=[],this.bufferedAwardRuleGroup=[],this.currentUser=null,this.currentUserDetail=null,this.mockModeFailMsg="Cannot perform required opertion in mock mode",this.expertModeFailMsg="Cannot perform required opertion, need Login",this.contentType="Content-Type",this.appJson="application/json",this.strAccept="Accept"}return _createClass(e,[{key:"isLoggedin",get:function(){return null!==this.currentUser}},{key:"getMetadata",value:function(e){var t=this;if(!this.isMetadataLoaded||e){var i=new c.c;i=i.append(this.contentType,"application/xml,application/json").append(this.strAccept,"text/html,application/xhtml+xml,application/xml");var n=this.apiUrl+"$metadata";return m.a.mockdata&&(n=m.a.basehref+"assets/mockdata/metadata.xml"),this.http.get(n,{headers:i,responseType:"text"}).pipe(Object(p.a)(function(e){return t.isMetadataLoaded=!0,t.metadataInfo=e,t.metadataInfo}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}return Object(h.a)(this.metadataInfo)}},{key:"getUserDetail",value:function(){var e=this;if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);if(null!==this.currentUserDetail)return Object(h.a)(this.currentUserDetail);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=new c.d;return i=i.append("$expand","AwardUsers"),this.http.get(this.apiUrl+"InvitedUsers",{headers:t,params:i}).pipe(Object(p.a)(function(t){var i=t.value;return 1!==i.length&&Object(l.a)("Fatal error"),e.currentUserDetail=new g.r,e.currentUserDetail.parseData(i[0]),e.currentUserDetail}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getKnowledgeItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(m.a.mockdata&&this.mockedKnowledgeItem.length>0)return Object(h.a)({totalCount:this.mockedKnowledgeItem.length,items:this.mockedKnowledgeItem});if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var s=new c.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var o=new c.d;o=(o=(o=o.append("$top",t.toString())).append("$skip",i.toString())).append("$count","true"),n&&"createdat"===n&&(o=o.append("$orderby","CreatedAt "+r)),o=o.append("$select","ID,Category,Title,CreatedAt,ModifiedAt"),a&&(o=o.append("$filter",a));var u=this.apiUrl+"KnowledgeItems";return m.a.mockdata&&(u=m.a.basehref+"assets/mockdata/knowledge-items.json",o=new c.d),this.http.get(u,{headers:s,params:o}).pipe(Object(p.a)(function(t){var i=t,n=[];return i.value.forEach(function(e){var t=new g.s;t.parseData(e),n.push(t)}),m.a.mockdata&&(e.mockedKnowledgeItem=n.slice()),{totalCount:i["@odata.count"],items:n}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"readKnowledgeItem",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m.a.mockdata){var n=this.mockedKnowledgeItem.findIndex(function(t){return t.ID===e});return-1!==n?Object(h.a)(this.mockedKnowledgeItem[n]):Object(h.a)(new g.s)}if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var r=this.bufferedKnowledgeItems.findIndex(function(t){return t.ID===e});if(!i&&-1!==r)return Object(h.a)(this.bufferedKnowledgeItems[r]);var a=new c.c;a=a.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var s=new c.d;return s=(s=s.append("$select","ID,Category,Title,Content,CreatedAt,ModifiedAt")).append("$expand","Tags"),this.http.get("".concat(this.apiUrl,"KnowledgeItems(").concat(e,")"),{headers:a,params:s}).pipe(Object(p.a)(function(e){var i=e,n=new g.s;return n.parseData(i),-1===r?t.bufferedKnowledgeItems.push(n):t.bufferedKnowledgeItems[r]=n,n}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createKnowledgeItem",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n=e.generateString();return this.http.post(this.apiUrl+"KnowledgeItems",n,{headers:i}).pipe(Object(p.a)(function(i){var n=i,r=new g.s;return r.parseData(n),e.Tags.length>0&&(r.Tags=e.Tags),t.bufferedKnowledgeItems.push(r),r}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"changeKnowledgeItem",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n=e.generateString(!0);return this.http.put("".concat(this.apiUrl,"KnowledgeItems(").concat(e.ID,")"),n,{headers:i}).pipe(Object(p.a)(function(i){var n=t.bufferedKnowledgeItems.findIndex(function(t){return t.ID===e.ID});return-1===n?t.bufferedKnowledgeItems.push(e):t.bufferedKnowledgeItems[n]=e,e}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteKnowledgeItem",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;return i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"KnowledgeItems(").concat(e,")"),{headers:i}).pipe(Object(p.a)(function(i){var n=t.bufferedKnowledgeItems.findIndex(function(t){return t.ID===e});return-1!==n&&t.bufferedKnowledgeItems.splice(n,1),!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getExerciseItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(m.a.mockdata&&this.mockedExerciseItem.length>0)return Object(h.a)({totalCount:this.mockedExerciseItem.length,items:this.mockedExerciseItem});if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var s=new c.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var o=new c.d;o=(o=(o=o.append("$top",t.toString())).append("$skip",i.toString())).append("$count","true"),n&&"createdat"===n&&(o=o.append("$orderby","CreatedAt "+r)),o=o.append("$select","ID,KnowledgeItemID,ExerciseType,CreatedAt"),a&&(o=o.append("$filter",a)),o=o.append("$expand","Tags");var u=this.apiUrl+"ExerciseItems";return m.a.mockdata&&(u=m.a.basehref+"assets/mockdata/exercise-items.json",o=new c.d),this.http.get(u,{headers:s,params:o}).pipe(Object(p.a)(function(t){var i=t,n=[];return i.value.forEach(function(e){var t=new g.k;t.parseData(e),n.push(t)}),m.a.mockdata&&(e.mockedExerciseItem=n.slice()),{totalCount:i["@odata.count"],items:n}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createExerciseItem",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n=e.generateString();return this.http.post(this.apiUrl+"ExerciseItems",n,{headers:i}).pipe(Object(p.a)(function(i){var n=i,r=new g.k;return r.parseData(n),e.Tags.length>0&&(r.Tags=e.Tags.slice()),e.Answer&&(r.Answer=e.Answer),t.bufferedExerciseItems.push(r),r}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"changeExerciseItem",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n=e.generateString(!0);return this.http.put("".concat(this.apiUrl,"ExerciseItems(").concat(e.ID,")"),n,{headers:i}).pipe(Object(p.a)(function(i){var n=t.bufferedExerciseItems.findIndex(function(t){return t.ID===e.ID});return-1===n?t.bufferedExerciseItems.push(e):t.bufferedExerciseItems[n]=e,e}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"readExerciseItem",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m.a.mockdata){var n=this.mockedExerciseItem.findIndex(function(t){return t.ID===e});return-1!==n?Object(h.a)(this.mockedExerciseItem[n]):Object(h.a)(new g.k)}if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var r=this.bufferedExerciseItems.findIndex(function(t){return t.ID===e});if(!i&&-1!==r)return Object(h.a)(this.bufferedExerciseItems[r]);var a=new c.c;a=a.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var s=new c.d;return s=(s=s.append("$select","ID,KnowledgeItemID,ExerciseType,Content,CreatedAt,ModifiedAt")).append("$expand","Tags,Answer"),this.http.get("".concat(this.apiUrl,"ExerciseItems(").concat(e,")"),{headers:a,params:s}).pipe(Object(p.a)(function(e){var i=new g.k;return i.parseData(e),-1===r?t.bufferedExerciseItems.push(i):t.bufferedExerciseItems[r]=i,i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteExerciseItem",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;return i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"ExerciseItems(").concat(e,")"),{headers:i}).pipe(Object(p.a)(function(i){var n=t.bufferedExerciseItems.findIndex(function(t){return t.ID===e});return-1!==n&&t.bufferedExerciseItems.splice(n,1),!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"searchExerciseItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var n=new c.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var r=new c.d;r=(r=(r=(r=r.append("$top",e.toString())).append("$skip",t.toString())).append("$count","true")).append("$select","ID,KnowledgeItemID,ExerciseType,Tags"),i&&(r=r.append("$filter",i));var a=this.apiUrl+"ExerciseItemWithTagViews";return m.a.mockdata&&(a=m.a.basehref+"assets/mockdata/exercise-items.json",r=new c.d),this.http.get(a,{headers:n,params:r}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.l;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getAwardRules",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var n=new c.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var r=new c.d;return r=(r=(r=(r=r.append("$top",e.toString())).append("$skip",t.toString())).append("$count","true")).append("$select","ID,RuleType,TargetUser,Desp,ValidFrom,ValidTo,CountOfFactLow,CountOfFactHigh,DoneOfFact,TimeStart,TimeEnd,DaysFrom,DaysTo,Point"),i&&(r=r.append("$filter",i)),this.http.get(this.apiUrl+"AwardRules",{headers:n,params:r}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.e;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createAwardRule",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=e.writeJSONString(!0);return this.http.post(this.apiUrl+"AwardRules",i,{headers:t}).pipe(Object(p.a)(function(e){var t=e,i=new g.e;return i.parseData(t),i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteAwardRule",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"AwardRules(").concat(e,")"),{headers:t}).pipe(Object(p.a)(function(e){return!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getAwardRuleGroups",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var r=new c.c;r=r.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var a=new c.d;return a=(a=(a=(a=a.append("$top",t.toString())).append("$skip",i.toString())).append("$count","true")).append("$expand","Rules"),n&&(a=a.append("$filter",n)),this.http.get(this.apiUrl+"AwardRuleGroups",{headers:r,params:a}).pipe(Object(p.a)(function(t){var i=t,n=i.value;return e.bufferedAwardRuleGroup=[],n.forEach(function(t){var i=new g.g;i.parseData(t),e.bufferedAwardRuleGroup.push(i)}),{totalCount:i["@odata.count"],items:e.bufferedAwardRuleGroup}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"readAwardRuleGroup",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=this.bufferedAwardRuleGroup.findIndex(function(t){return t.id===e});if(-1!==i)return Object(h.a)(this.bufferedAwardRuleGroup[i]);var n=new c.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var r=new c.d;return r=(r=r.append("$expand","Rules")).append("$filter","ID eq "+e),this.http.get(this.apiUrl+"AwardRuleGroups",{headers:n,params:r}).pipe(Object(p.a)(function(e){var i=e.value,n=new g.g;return n.parseData(i),t.bufferedAwardRuleGroup.push(n),n}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createAwardRuleGroup",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=e.writeJSONString(!0);return this.http.post(this.apiUrl+"AwardRuleGroups",i,{headers:t}).pipe(Object(p.a)(function(e){var t=e,i=new g.g;return i.parseData(t),i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteAwardRuleGroup",value:function(e){var t=this;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;return i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"AwardRuleGroups(").concat(e,")"),{headers:i}).pipe(Object(p.a)(function(i){var n=t.bufferedAwardRuleGroup.findIndex(function(t){return t.id===e});return-1!==n&&t.bufferedAwardRuleGroup.splice(n,1),!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getDailyTrace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var n=new c.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var r=new c.d;return r=(r=(r=(r=r.append("$top",e.toString())).append("$skip",t.toString())).append("$count","true")).append("$select","RecordDate,TargetUser,SchoolWorkTime,GoToBedTime,HomeWorkCount,BodyExerciseCount,ErrorsCollection,HandWriting,CleanDesk,HouseKeepingCount,PoliteBehavior,Comment"),i&&(r=r.append("$filter",i)),this.http.get(this.apiUrl+"DailyTraces",{headers:n,params:r}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.i;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"simulatePoint",value:function(e){if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=new c.d,n=this.apiUrl+"DailyTraces/SimulatePoints",r={dt:e.writeJSONObject()};return this.http.post(n,r,{headers:t,params:i}).pipe(Object(p.a)(function(e){var t=[];return e.value.forEach(function(e){var i=new g.c;i.parseData(e),t.push(i)}),t}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createDailyTrace",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=e.writeJSONString();return this.http.post(this.apiUrl+"DailyTraces",i,{headers:t}).pipe(Object(p.a)(function(e){var t=e,i=new g.i;return i.parseData(t),i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteDailyTrace",value:function(e,t){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;return i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"DailyTraces(RecordDate=").concat(t.format(g.O),",TargetUser='").concat(e,"')"),{headers:i}).pipe(Object(p.a)(function(e){return!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getAwardPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var n=new c.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var r=new c.d;return r=(r=(r=(r=r.append("$top",e.toString())).append("$skip",t.toString())).append("$count","true")).append("$select","ID,RecordDate,TargetUser,MatchedRuleID,CountOfDay,Point,Comment"),i&&(r=r.append("$filter",i)),this.http.get(this.apiUrl+"AwardPoints",{headers:n,params:r}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.c;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createAwardPoint",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=e.writeJSONString(!0);return this.http.post(this.apiUrl+"AwardPoints",i,{headers:t}).pipe(Object(p.a)(function(e){var t=e,i=new g.c;return i.parseData(t),i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteAwardPoint",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"AwardPoints(").concat(e,")"),{headers:t}).pipe(Object(p.a)(function(e){return!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getAwardPointReports",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>3?arguments[3]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var n=new c.c;n=n.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var r=new c.d;return r=(r=(r=r.append("$top",e.toString())).append("$skip",t.toString())).append("$count","true"),i&&(r=r.append("$filter",i)),this.http.get(this.apiUrl+"AwardPointReports",{headers:n,params:r}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.d;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"uploadFiles",value:function(e){var t=this;if(!this.isLoggedin)throw this.expertModeFailMsg;var i={};return e.forEach(function(e){var n=new FormData;n.append("file",e,e.name);var r=new c.e("POST",t.uploadUrl,n),a=new d.a;t.http.request(r).subscribe(function(e){if(e instanceof c.f){var t=e.body[0];a.next({delete_type:t.delete_type,delete_url:"".concat(m.a.apiurlRoot).concat(t.delete_url),name:t.name,progress:1,size:t.size,thumbnail_url:"".concat(m.a.apiurlRoot).concat(t.thumbnail_url),type:t.type,url:"".concat(m.a.apiurlRoot).concat(t.url)}),a.complete()}}),i[e.name]={result:a.asObservable()}}),i}},{key:"getTagCounts",value:function(){if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var e=new c.c;e=e.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var t=new c.d;t=(t=t.append("$top","100")).append("$count","true");var i=this.apiUrl+"TagCounts";return m.a.mockdata&&(i=m.a.basehref+"assets/mockdata/tag-counts.json",t=new c.d),this.http.get(i,{headers:e,params:t}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.C;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getTags",value:function(e,t){if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n=new c.d;n=(n=n.append("$top","100")).append("$count","true");var r="TagTerm eq '".concat(e,"'");t===g.D.KnowledgeItem?r+=" and RefType eq 'KnowledgeItem'":t===g.D.ExerciseItem&&(r+=" and RefType eq 'ExerciseItem'"),n=n.append("$filter",r);var a=this.apiUrl+"Tags";return m.a.mockdata&&(a=m.a.basehref+"assets/mockdata/tags.json",n=new c.d),this.http.get(a,{headers:i,params:n}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.B;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getOverviewInfo",value:function(){if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var e=new c.c;e=e.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var t=this.apiUrl+"OverviewInfos";return m.a.mockdata&&(t=m.a.basehref+"assets/mockdata/overview-infos.json"),this.http.get(t,{headers:e}).pipe(Object(p.a)(function(e){var t=[];return e.value.forEach(function(e){var i=new g.w;i.parseData(e),t.push(i)}),t}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getUserCollections",value:function(){var e,t,i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>3?arguments[3]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var s=new c.c;s=s.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var o=new c.d;return o=(o=(o=(o=(o=o.append("$top",n.toString())).append("$skip",r.toString())).append("$count","true")).append("$expand","Items")).append("$filter",a?"".concat(a," and User eq '").concat(null===(e=this.currentUser)||void 0===e?void 0:e.getUserId(),"'"):"User eq '".concat(null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),"'")),this.http.get(this.apiUrl+"UserCollections",{headers:s,params:o}).pipe(Object(p.a)(function(e){var t=e,n=t.value;return i.bufferedUserCollection=[],n.forEach(function(e){var t=new g.G;t.parseData(e),i.bufferedUserCollection.push(t)}),{totalCount:t["@odata.count"],items:i.bufferedUserCollection}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createUserCollection",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=e.writeJSONString();return this.http.post(this.apiUrl+"UserCollections",i,{headers:t}).pipe(Object(p.a)(function(e){var t=e,i=new g.G;return i.parseData(t),i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"readUserCollection",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m.a.mockdata){var n=this.mockedUserCollection.findIndex(function(t){return t.ID===e});return-1!==n?Object(h.a)(this.mockedUserCollection[n]):Object(h.a)(new g.G)}if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var r=-1;if(!i&&-1!==(r=this.bufferedUserCollection.findIndex(function(t){return t.ID===e})))return Object(h.a)(this.bufferedUserCollection[r]);var a=new c.c;a=a.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var s=new c.d;return s=s.append("$expand","Items"),this.http.get("".concat(this.apiUrl,"UserCollections(").concat(e,")"),{headers:a,params:s}).pipe(Object(p.a)(function(e){var i=e,n=new g.G;return n.parseData(i),-1===r?t.bufferedUserCollection.push(n):t.bufferedUserCollection[r]=n,n}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"addExerciseItemToCollection",value:function(e){var t;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n={User:null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),UserCollectionItems:[]};e.forEach(function(e){n.UserCollectionItems.push(e.writeJSONObject(!0))});var r=new c.d;return this.http.post(this.apiUrl+"UserCollectionItems/AddItemToCollectionEx",n,{headers:i,params:r}).pipe(Object(p.a)(function(e){var t=[];return e.value.forEach(function(e){var i=new g.H;i.parseData(e),t.push(i)}),t}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"removeExerciseItemFromCollection",value:function(e){var t;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n={User:null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),ID:e.ID,RefID:e.RefID,RefType:g.D[e.RefType]},r=new c.d;return this.http.post(this.apiUrl+"UserCollectionItems/RemoveItemFromCollection",n,{headers:i,params:r}).pipe(Object(p.a)(function(e){return e.value}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteUserCollection",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"UserCollections(").concat(e,")"),{headers:t}).pipe(Object(p.a)(function(e){return!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getExerciseItemUserScores",value:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if(!this.isLoggedin)return Object(h.a)({totalCount:0,items:[]});var a=new c.c;a=a.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var s=new c.d;return s=(s=(s=(s=s.append("$top",i.toString())).append("$skip",n.toString())).append("$count","true")).append("$filter",r?"".concat(r," and User eq '").concat(null===(e=this.currentUser)||void 0===e?void 0:e.getUserId(),"'"):"User eq '".concat(null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),"'")),this.http.get(this.apiUrl+"ExerciseItemUserScores",{headers:a,params:s}).pipe(Object(p.a)(function(e){var t=e,i=[];return t.value.forEach(function(e){var t=new g.m;t.parseData(e),i.push(t)}),{totalCount:t["@odata.count"],items:i}}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"createExerciseItemUserScore",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var i=e.writeJSONString();return this.http.post(this.apiUrl+"ExerciseItemUserScores",i,{headers:t}).pipe(Object(p.a)(function(e){var t=e,i=new g.m;return i.parseData(t),i}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"deleteExerciseItemUserScore",value:function(e){if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var t=new c.c;return t=t.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken()),this.http.delete("".concat(this.apiUrl,"ExerciseItemUserScores(").concat(e,")"),{headers:t}).pipe(Object(p.a)(function(e){return!0}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}},{key:"getLastestExerciseItemUserScore",value:function(e){var t;if(m.a.mockdata)return Object(l.a)(this.mockModeFailMsg);if(!this.isLoggedin)return Object(l.a)(this.expertModeFailMsg);var i=new c.c;i=i.append(this.contentType,this.appJson).append(this.strAccept,this.appJson).append("Authorization","Bearer "+this.authService.authSubject.getValue().getAccessToken());var n={User:null===(t=this.currentUser)||void 0===t?void 0:t.getUserId(),RefID:e};return this.http.post(this.apiUrl+"ExerciseItemUserScores/LatestUserScore",n,{headers:i}).pipe(Object(p.a)(function(e){var t=e;if(t){var i=new g.m;return i.parseData(t),i}return null}),Object(f.a)(function(e){return Object(l.a)(e.statusText+"; "+e.error+"; "+e.message)}))}}]),e}()).\u0275fac=function(e){return new(e||a)(v.ac(c.a),v.ac(_))},a.\u0275prov=v.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),C=((r=function(){function e(){_classCallCheck(this,e),this.currentQuizID=0,this.elderQuizs=[],this.failedItems=[],this.currScore=0}return _createClass(e,[{key:"NextQuizID",get:function(){return this.currentQuizID+1}},{key:"ActiveQuiz",get:function(){return this.curQuiz}},{key:"ElderQuizs",get:function(){return this.elderQuizs}},{key:"FailedQuizItems",get:function(){return this.failedItems},set:function(e){this.failedItems=e}},{key:"CurrentScore",get:function(){return this.currScore},set:function(e){this.currScore=e}},{key:"startNewQuiz",value:function(e){if(this.curQuiz)throw new Error("Active Quiz not yet completed");return this.curQuiz=new g.x(e),this.currentQuizID=e,this.curQuiz}},{key:"completeActiveQuiz",value:function(){if(!this.curQuiz)throw new Error("Active Quiz not exist");if(this.curQuiz.ActiveSection)throw new Error("Active Quiz has active section");this.elderQuizs.push(this.curQuiz),this.curQuiz=void 0}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=v.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),j=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canDeactivate",value:function(e){return!e.canDeactivate||e.canDeactivate()}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275prov=v.Mb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),I=i("tyNb"),O=i("0IaG"),S=i("dNgK"),A=((u=function(){function e(t,i,n){_classCallCheck(this,e),this.router=t,this.dialog=i,this.snack=n,this.previewObjList=[]}return _createClass(e,[{key:"navigateExerciseItemListPage",value:function(){this.router.navigate(["exercise-item"])}},{key:"navigateExerciseItemCreatePage",value:function(){this.router.navigate(["exercise-item","create"])}},{key:"navigateExerciseItemDisplayPage",value:function(e){this.router.navigate(["exercise-item","display",e.toString()])}},{key:"navigateExerciseItemChangePage",value:function(e){this.router.navigate(["exercise-item","edit",e.toString()])}},{key:"navigateExerciseItemSearchPage",value:function(){this.router.navigate(["exercise-item","search"])}},{key:"navigatePreviewPage",value:function(e){this.previewObjList=e.slice(),this.router.navigate(["preview"])}},{key:"navigateKnowledgeItemListPage",value:function(){this.router.navigate(["knowledge-item"])}},{key:"navigateKnowledgeItemCreatePage",value:function(){this.router.navigate(["knowledge-item","create"])}},{key:"navigateKnowledgeItemDisplayPage",value:function(e){this.router.navigate(["knowledge-item","display",e.toString()])}},{key:"navigateKnowledgeItemChangePage",value:function(e){this.router.navigate(["knowledge-item","edit",e.toString()])}},{key:"navigateKnowledgeItemSearchPage",value:function(){this.router.navigate(["knowledge-item","search"])}},{key:"navigateUserCollectionListPage",value:function(){this.router.navigate(["user-collection"])}},{key:"navigateUserCollectionCreatePage",value:function(){this.router.navigate(["user-collection","create"])}},{key:"navigateUserCollectionChangePage",value:function(e){this.router.navigate(["user-collection","edit",e.toString()])}},{key:"navigateUserCollectionDisplayPage",value:function(e){this.router.navigate(["user-collection","display",e.toString()])}},{key:"navigateAwardRuleGenerationPage",value:function(){this.router.navigate(["award","rule-generation"])}},{key:"navigateAwardRuleGroupListPage",value:function(){this.router.navigate(["award","rules"])}},{key:"navigateAwardRuleGroupDisplayPage",value:function(e){this.router.navigate(["award","rule-group-display",e.toString()])}},{key:"showSnackInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;this.snack.open(e,void 0,{duration:t})}}]),e}()).\u0275fac=function(e){return new(e||u)(v.ac(I.b),v.ac(O.b),v.ac(S.a))},u.\u0275prov=v.Mb({token:u,factory:u.\u0275fac,providedIn:"root"}),u),x=((o=function(){function e(t){_classCallCheck(this,e),this.authService=t}return _createClass(e,[{key:"canActivate",value:function(e,t){return this.checkLogin(t.url)}},{key:"checkLogin",value:function(e){return!!this.authService.authSubject.getValue().isAuthorized||(this.authService.doLogin(),!1)}}]),e}()).\u0275fac=function(e){return new(e||o)(v.ac(_))},o.\u0275prov=v.Mb({token:o,factory:o.\u0275fac,providedIn:"root"}),o)},tPNy:function(e,t,i){"use strict";i.d(t,"f",function(){return s}),i.d(t,"i",function(){return o}),i.d(t,"j",function(){return u}),i.d(t,"e",function(){return c}),i.d(t,"d",function(){return l}),i.d(t,"c",function(){return h}),i.d(t,"h",function(){return d}),i.d(t,"a",function(){return p}),i.d(t,"b",function(){return f}),i.d(t,"g",function(){return g});var n=i("wd/R"),r=i.n(n),a=i("SNjr"),s=function(e){return e[e.GoToBedTime=1]="GoToBedTime",e[e.SchoolWorkTime=2]="SchoolWorkTime",e[e.HomeWorkCount=3]="HomeWorkCount",e[e.BodyExerciseCount=4]="BodyExerciseCount",e[e.ErrorCollectionHabit=5]="ErrorCollectionHabit",e[e.CleanDeakHabit=6]="CleanDeakHabit",e[e.HouseKeepingCount=7]="HouseKeepingCount",e[e.PoliteBehavior=8]="PoliteBehavior",e[e.HandWritingHabit=9]="HandWritingHabit",e}({}),o=function(e){var t="";switch(e){case s.GoToBedTime:t="Award.GoToBedTime";break;case s.SchoolWorkTime:t="Award.SchoolWorkTime";break;case s.HomeWorkCount:t="Award.HomeworkCount";break;case s.BodyExerciseCount:t="Award.BodyExerciseCount";break;case s.ErrorCollectionHabit:t="Award.ErrorsCollection";break;case s.CleanDeakHabit:t="Award.CleanDesk";break;case s.HouseKeepingCount:t="Award.HouseKeepingCount";break;case s.PoliteBehavior:t="Award.PoliteBehavior";break;case s.HandWritingHabit:t="Award.HandWriting";break;default:t=""}return t},u=function(){var e=[];for(var t in s)Number.isNaN(+t)||e.push({value:+t,i18nterm:o(+t),displaystring:""});return e},c=function(){function e(){_classCallCheck(this,e),this.id=-1,this.ruleType=s.GoToBedTime,this.targetUser="",this.desp="",this.validFrom=r()(),this.validTo=r()(),this.rules=[]}return _createClass(e,[{key:"isValid",value:function(){return!!this.targetUser&&!!this.desp}},{key:"parseData",value:function(e){var t=this;e&&e.ID&&(this.id=+e.ID),e&&e.RuleType&&(this.ruleType=isNaN(+e.RuleType)?s[e.RuleType]:+e.RuleType),e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.Desp&&(this.desp=e.Desp),e&&e.ValidFrom&&(this.validFrom=r()(e.ValidFrom)),e&&e.ValidTo&&(this.validTo=r()(e.ValidTo)),this.rules=[],e&&e.Rules&&e.Rules.forEach(function(e){var i=new l;i.parseData(e),t.rules.push(i)})}},{key:"writeJSONObject",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return e||(t.ID=this.id),t.RuleType=s[this.ruleType],t.TargetUser=this.targetUser,t.Desp=this.desp,t.ValidFrom=this.validFrom.format(a.f),t.ValidTo=this.validTo.format(a.f),this.rules&&this.rules.length>0&&(t.Rules=[],this.rules.forEach(function(i){t.Rules.push(i.writeJSONObject(e))})),t}},{key:"writeJSONString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return JSON&&JSON.stringify(this.writeJSONObject(e))}}]),e}(),l=function(){function e(){_classCallCheck(this,e),this.id=-1,this.groupID=-1,this.point=0}return _createClass(e,[{key:"countString",get:function(){return"".concat(this.countOfFactLow," - ").concat(this.countOfFactHigh)}},{key:"doneString",get:function(){return""+this.doneOfFact}},{key:"timeString",get:function(){return"".concat(this.timeStart," - ").concat(this.timeEnd)}},{key:"dayString",get:function(){return"".concat(this.daysFrom," - ").concat(this.daysTo)}},{key:"isValid",value:function(e){switch(e){case s.GoToBedTime:case s.SchoolWorkTime:if(void 0===this.timeStart||void 0===this.timeEnd||this.timeStart>this.timeEnd)return!1;break;case s.HomeWorkCount:case s.BodyExerciseCount:case s.HouseKeepingCount:case s.PoliteBehavior:if(void 0===this.countOfFactLow)return!1;if(void 0===this.countOfFactHigh)return!1;if(this.countOfFactLow>this.countOfFactHigh)return!1;break;case s.ErrorCollectionHabit:case s.CleanDeakHabit:if(void 0===this.doneOfFact)return!1;break;default:return!1}return!0}},{key:"parseData",value:function(e){e&&e.ID&&(this.id=+e.ID),e&&e.GroupID&&(this.groupID=+e.GroupID),e&&e.CountOfFactLow&&(this.countOfFactLow=e.CountOfFactLow),e&&e.CountOfFactHigh&&(this.countOfFactHigh=e.CountOfFactHigh),e&&e.DoneOfFact&&(this.doneOfFact=e.DoneOfFact),e&&e.TimeStart&&(this.timeStart=e.TimeStart),e&&e.TimeEnd&&(this.timeEnd=e.TimeEnd),e&&e.DaysFrom&&(this.daysFrom=e.DaysFrom),e&&e.DaysTo&&(this.daysTo=e.DaysTo),e&&e.Point&&(this.point=e.Point)}},{key:"writeJSONObject",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return e||(t.ID=this.id,t.GroupID=this.groupID),null!=this.countOfFactLow&&(t.CountOfFactLow=this.countOfFactLow),null!=this.countOfFactHigh&&(t.CountOfFactHigh=this.countOfFactHigh),null!=this.doneOfFact&&(t.DoneOfFact=this.doneOfFact),null!=this.timeStart&&(t.TimeStart=this.timeStart),null!=this.timeEnd&&(t.TimeEnd=this.timeEnd),this.daysFrom&&(t.DaysFrom=this.daysFrom),this.daysTo&&(t.DaysTo=this.daysTo),t.Point=this.point,t}},{key:"writeJSONString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return JSON&&JSON.stringify(this.writeJSONObject(e))}}]),e}(),h=function(){function e(){_classCallCheck(this,e),this.id=-1,this.ruleType=s.GoToBedTime,this.targetUser="",this.desp="",this.validFrom=r()(),this.validTo=r()(),this.point=0}return _createClass(e,[{key:"copyFrom",value:function(e){this.ruleType=e.ruleType,this.targetUser=e.targetUser,this.desp=e.desp,this.validFrom=r()(e.validFrom.format(a.f)),this.validTo=r()(e.validTo.format(a.f)),this.countOfFactLow=e.countOfFactLow,this.countOfFactHigh=e.countOfFactHigh,this.doneOfFact=e.doneOfFact,this.timeStart=e.timeStart,this.timeEnd=e.timeEnd,this.daysFrom=e.daysFrom,this.daysTo=e.daysTo,this.point=e.point}},{key:"parseData",value:function(e){}},{key:"writeJSONObject",value:function(){return{}}},{key:"writeJSONString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return JSON&&JSON.stringify(this.writeJSONObject(e))}}]),e}(),d=function(){function e(){_classCallCheck(this,e),this.targetUser="",this.recordDate=r()(),this.schoolWorkTime=null,this.goToBedTime=null,this.homeWorkCount=null,this.bodyExerciseCount=null,this.errorsCollection=null,this.handWriting=null,this.cleanDesk=null,this.houseKeepingCount=null,this.politeBehavior=null,this.comment=""}return _createClass(e,[{key:"getRecordDateDisplayString",value:function(){return this.recordDate.format(a.f)}},{key:"isValid",value:function(){return!!this.targetUser&&(null!==this.schoolWorkTime||null!==this.goToBedTime||null!==this.homeWorkCount||null!==this.bodyExerciseCount||null!==this.errorsCollection||null!==this.handWriting||null!==this.cleanDesk||null!==this.houseKeepingCount||null!==this.politeBehavior)}},{key:"parseData",value:function(e){e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.RecordDate&&(this.recordDate=r()(e.RecordDate)),e&&null!=e.GoToBedTime&&(this.goToBedTime=e.GoToBedTime),e&&null!=e.SchoolWorkTime&&(this.schoolWorkTime=e.SchoolWorkTime),e&&null!=e.HomeWorkCount&&(this.homeWorkCount=e.HomeWorkCount),e&&null!=e.BodyExerciseCount&&(this.bodyExerciseCount=e.BodyExerciseCount),e&&null!=e.ErrorsCollection&&(this.errorsCollection=e.ErrorsCollection),e&&null!=e.HandWriting&&(this.handWriting=e.HandWriting),e&&null!=e.CleanDesk&&(this.cleanDesk=e.CleanDesk),e&&null!=e.HouseKeepingCount&&(this.houseKeepingCount=+e.HouseKeepingCount),e&&null!=e.PoliteBehavior&&(this.politeBehavior=e.PoliteBehavior),e&&e.Comment&&(this.comment=e.Comment)}},{key:"writeJSONObject",value:function(){var e={};return e.TargetUser=this.targetUser,e.RecordDate=this.recordDate.format(a.f),null!==this.goToBedTime&&(e.GoToBedTime=this.goToBedTime),null!==this.schoolWorkTime&&(e.SchoolWorkTime=this.schoolWorkTime),null!==this.homeWorkCount&&(e.HomeWorkCount=this.homeWorkCount),null!==this.bodyExerciseCount&&(e.BodyExerciseCount=this.bodyExerciseCount),null!==this.errorsCollection&&(e.ErrorsCollection=this.errorsCollection),null!==this.handWriting&&(e.HandWriting=this.handWriting),null!==this.cleanDesk&&(e.CleanDesk=this.cleanDesk),null!==this.houseKeepingCount&&(e.HouseKeepingCount=this.houseKeepingCount),null!==this.politeBehavior&&(e.PoliteBehavior=this.politeBehavior),this.comment&&(e.Comment=this.comment),e}},{key:"writeJSONString",value:function(){return JSON&&JSON.stringify(this.writeJSONObject())}}]),e}(),p=function(){function e(){_classCallCheck(this,e),this.id=1,this.targetUser="",this.recordDate=r()(),this.point=0,this.comment=""}return _createClass(e,[{key:"getRecordDateDisplayString",value:function(){return this.recordDate.format(a.f)}},{key:"isValid",value:function(){return!!this.targetUser&&0!==this.point}},{key:"parseData",value:function(e){e&&e.ID&&(this.id=e.ID),e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.RecordDate&&(this.recordDate=r()(e.RecordDate)),e&&e.MatchedRuleID&&(this.matchedRuleID=e.MatchedRuleID),e&&e.CountOfDay&&(this.countOfDay=e.CountOfDay),e&&e.Point&&(this.point=e.Point),e&&e.Comment&&(this.comment=e.Comment)}},{key:"writeJSONObject",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return e||(t.ID=this.id),t.TargetUser=this.targetUser,t.RecordDate=this.recordDate.format(a.f),t.Point=this.point,t.Comment=this.comment,t}},{key:"writeJSONString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return JSON&&JSON.stringify(this.writeJSONObject(e))}}]),e}(),f=function(){function e(){_classCallCheck(this,e),this.targetUser="",this.recordDate=r()(),this.point=0,this.aggPoint=0}return _createClass(e,[{key:"getRecordDateDisplayString",value:function(){return this.recordDate.format(a.f)}},{key:"parseData",value:function(e){e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.RecordDate&&(this.recordDate=r()(e.RecordDate)),e&&e.Point&&(this.point=+e.Point),e&&e.AggPoint&&(this.aggPoint=+e.AggPoint)}}]),e}(),g=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments)).userName="",e.displayAs="",e}return _createClass(i,[{key:"parseData",value:function(e){_get(_getPrototypeOf(i.prototype),"parseData",this).call(this,e),e&&e.UserName&&(this.userName=e.UserName),e&&e.DisplayAs&&(this.displayAs=e.DisplayAs)}}]),i}(function(){function e(){_classCallCheck(this,e),this.targetUser="",this.supervisor=""}return _createClass(e,[{key:"parseData",value:function(e){e&&e.TargetUser&&(this.targetUser=e.TargetUser),e&&e.Supervisor&&(this.supervisor=e.Supervisor)}}]),e}())},zUnb:function(e,t,i){"use strict";i.r(t);var n,r=i("fXoL"),a=i("AytR"),s=i("jhN1"),o=i("tk/3"),u=i("ofXK"),c=i("3Pt+"),l=i("tyNb"),h=i("o0su"),d=[{path:"",pathMatch:"full",redirectTo:"/welcome"},{path:"welcome",loadChildren:function(){return i.e(19).then(i.bind(null,"TtBp")).then(function(e){return e.WelcomeModule})}},{path:"knowledge-item",canActivate:[h.a],loadChildren:function(){return Promise.all([i.e(0),i.e(13)]).then(i.bind(null,"U+IK")).then(function(e){return e.KnowledgeItemsModule})}},{path:"exercise-item",canActivate:[h.a],loadChildren:function(){return Promise.all([i.e(0),i.e(11)]).then(i.bind(null,"V7M2")).then(function(e){return e.ExerciseItemsModule})}},{path:"tag",loadChildren:function(){return i.e(17).then(i.bind(null,"Bbvb")).then(function(e){return e.TagModule})}},{path:"user-collection",canActivate:[h.a],loadChildren:function(){return Promise.all([i.e(0),i.e(18)]).then(i.bind(null,"RVRs")).then(function(e){return e.UserCollectionModule})}},{path:"help",loadChildren:function(){return i.e(12).then(i.bind(null,"6RTz")).then(function(e){return e.HelpModule})}},{path:"primary-school-math",loadChildren:function(){return i.e(8).then(i.bind(null,"GtZ7")).then(function(e){return e.PrimarySchoolMathModule})}},{path:"puzzle-games",loadChildren:function(){return i.e(9).then(i.bind(null,"1Ans")).then(function(e){return e.PuzzleGameModule})}},{path:"quiz-summary",loadChildren:function(){return i.e(16).then(i.bind(null,"TYNk")).then(function(e){return e.QuizSummaryModule})}},{path:"award",canActivate:[h.a],loadChildren:function(){return Promise.all([i.e(0),i.e(10)]).then(i.bind(null,"82/d")).then(function(e){return e.AwardModule})}},{path:"preview",loadChildren:function(){return i.e(15).then(i.bind(null,"caho")).then(function(e){return e.PreviewModule})}},{path:"**",loadChildren:function(){return i.e(14).then(i.bind(null,"jSwP")).then(function(e){return e.NotFoundModule})}}],p=((n=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.Ob({type:n}),n.\u0275inj=r.Nb({imports:[[l.e.forRoot(d)],l.e]}),n),f=i("VHTt"),g=i("0MNC"),m=i("QPBi"),v=i("FKr1"),b=i("0IaG"),y=i("/t3+"),k=i("bTqV"),_=i("NFeN"),w=i("Qu3c"),C=i("STbY"),j=i("XhcP"),I=i("7EHt"),O=i("MutI"),S=i("3be6"),A=i("kmnG"),x=i("qFsG"),T=i("+0xr");function D(e,t){1&e&&(r.Wb(0,"h1",19),r.Fc(1,"KB"),r.Vb())}function R(e,t){1&e&&(r.Wb(0,"h1",19),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e&&(r.Eb(1),r.Gc(r.kc(2,1,"KnowledgeBuilder")))}function E(e,t){1&e&&(r.Wb(0,"mat-icon"),r.Fc(1,"check"),r.Vb())}function F(e,t){if(1&e){var i=r.Xb();r.Wb(0,"button",20),r.ec("click",function(){r.xc(i);var e=t.$implicit;return r.ic().switchLanguage(e.value)}),r.Ec(1,E,2,0,"mat-icon",11),r.Fc(2),r.jc(3,"transloco"),r.Vb()}if(2&e){var n=t.$implicit,a=r.ic();r.Eb(1),r.oc("ngIf",a.selectedLanguage===n.value),r.Eb(1),r.Hc(" ",r.kc(3,2,n.displayas)," ")}}function U(e,t){if(1&e&&(r.Wb(0,"span"),r.Fc(1),r.Vb()),2&e){var i=r.ic();r.Eb(1),r.Gc(i.versionInfo)}}var M=function(e){return[e]};function P(e,t){if(1&e&&(r.Wb(0,"a",21),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e){var i=t.$implicit;r.oc("routerLink",r.sc(4,M,i.route)),r.Eb(1),r.Hc(" ",r.kc(2,2,i.name)," ")}}function z(e,t){if(1&e&&(r.Wb(0,"a",21),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e){var i=t.$implicit;r.oc("routerLink",r.sc(4,M,i.route)),r.Eb(1),r.Hc(" ",r.kc(2,2,i.name)," ")}}function N(e,t){if(1&e&&(r.Wb(0,"a",21),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e){var i=t.$implicit;r.oc("routerLink",r.sc(4,M,i.route)),r.Eb(1),r.Hc(" ",r.kc(2,2,i.name)," ")}}function J(e,t){if(1&e&&(r.Wb(0,"a",21),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e){var i=t.$implicit;r.oc("routerLink",r.sc(4,M,i.route)),r.Eb(1),r.Hc(" ",r.kc(2,2,i.name)," ")}}function L(e,t){if(1&e&&(r.Wb(0,"a",21),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e){var i=t.$implicit;r.oc("routerLink",r.sc(4,M,i.route)),r.Eb(1),r.Hc(" ",r.kc(2,2,i.name)," ")}}function V(e,t){if(1&e&&(r.Wb(0,"a",21),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e){var i=t.$implicit;r.oc("routerLink",r.sc(4,M,i.route)),r.Eb(1),r.Hc(" ",r.kc(2,2,i.name)," ")}}function Q(e,t){1&e&&(r.Wb(0,"th",18),r.Fc(1,"ID"),r.Vb())}function W(e,t){if(1&e&&(r.Wb(0,"td",19),r.Fc(1),r.Vb()),2&e){var i=t.$implicit;r.Eb(1),r.Hc(" ",i.targetUser," ")}}function B(e,t){1&e&&(r.Wb(0,"th",18),r.Fc(1),r.jc(2,"transloco"),r.Vb()),2&e&&(r.Eb(1),r.Gc(r.kc(2,1,"Common.Name")))}function H(e,t){if(1&e&&(r.Wb(0,"td",19),r.Fc(1),r.Vb()),2&e){var i=t.$implicit;r.Eb(1),r.Hc(" ",i.userName," ")}}function K(e,t){1&e&&(r.Wb(0,"th",18),r.Fc(1,"DISPLAY AS"),r.Vb())}function G(e,t){if(1&e&&(r.Wb(0,"td",19),r.Fc(1),r.Vb()),2&e){var i=t.$implicit;r.Eb(1),r.Hc(" ",i.displayAs," ")}}function $(e,t){1&e&&r.Rb(0,"tr",20)}function q(e,t){1&e&&r.Rb(0,"tr",21)}var Y,X,Z,ee,te=((X=function(){function e(t,i,n,r,a,s,o,u,c){var l=this;_classCallCheck(this,e),this.translocoService=n,this.dateAdapter=r,this.dialog=a,this.oDataSrv=s,this.authSrv=o,this.zone=u,this.uiUtilSrv=c,this.title="Knowledge Builder",this.navItems=[],this.availableLanguages=[{displayas:"Languages.en",value:"en"},{displayas:"Languages.zh",value:"zh"}],this.selectedLanguage="zh",this.mobileQuery=i.matchMedia("(max-width: 600px)"),this._mobileQueryListener=function(){return t.detectChanges()},this.mobileQuery.addEventListener("change",this._mobileQueryListener),this.navItems=[{name:"WelcomePage",route:"/welcome",group:f.b.home},{name:"MathExercise.AdditionExercises",route:"/primary-school-math/add-ex",group:f.b.ps_basic},{name:"MathExercise.SubtractionExercises",route:"/primary-school-math/sub-ex",group:f.b.ps_basic},{name:"MathExercise.MultiplicationExercises",route:"/primary-school-math/multi-ex",group:f.b.ps_basic},{name:"MathExercise.DivisionExercises",route:"/primary-school-math/div-ex",group:f.b.ps_basic},{name:"MathExercise.MixedOperations",route:"/primary-school-math/mixed-op",group:f.b.ps_basic},{name:"Quiz.PrintableQuizGenerator",route:"/primary-school-math/printable-quiz",group:f.b.ps_basic},{name:"KnowledgeItem",route:"/knowledge-item",group:f.b.knowledge},{name:"ExerciseItem",route:"/exercise-item",group:f.b.knowledge},{name:"Tags",route:"/tag",group:f.b.knowledge},{name:"UserCollections",route:"/user-collection",group:f.b.knowledge},{name:"PracticeHistories",route:"/exercise-item/score",group:f.b.knowledge},{name:"PuzzleGames.Calculate24",route:"/puzzle-games/cal24",group:f.b.games},{name:"PuzzleGames.Sudou",route:"/puzzle-games/sudou",group:f.b.games},{name:"PuzzleGames.TypingTutor",route:"puzzle-games/typegame",group:f.b.games},{name:"PuzzleGames.Gobang",route:"puzzle-games/gobang",group:f.b.games},{name:"Award.Overview",route:"/award",group:f.b.award},{name:"Award.Rules",route:"/award/rules",group:f.b.award},{name:"Award.DailyTrace",route:"/award/dailytrace",group:f.b.award},{name:"Help.About",route:"/help/about",group:f.b.help},{name:"Help.Credits",route:"/help/credits",group:f.b.help}],this.authSrv.authContent.subscribe(function(e){l.zone.run(function(){e&&e.isAuthorized&&(l.oDataSrv.currentUser=e,l.oDataSrv.getUserDetail().subscribe())})})}return _createClass(e,[{key:"switchLanguage",value:function(e){this.selectedLanguage=e,"en"===e?(this.translocoService.setActiveLang("en"),this.dateAdapter.setLocale("en")):(this.translocoService.setActiveLang("zh"),this.dateAdapter.setLocale("zh"))}},{key:"ngOnDestroy",value:function(){this.mobileQuery.removeEventListener("change",this._mobileQueryListener)}},{key:"openCodeRepo",value:function(){window.open("https://github.com/alvachien/knowledgebuilder","_blank")}},{key:"versionInfo",get:function(){return a.a.version}},{key:"onUserInfo",value:function(){var e=this;this.oDataSrv.isLoggedin?this.oDataSrv.getUserDetail().subscribe({next:function(t){e.dialog.open(ie,{width:"600px",closeOnNavigation:!1}).afterClosed().subscribe()},error:function(t){e.uiUtilSrv.showSnackInfo(t)}}):this.authSrv.doLogin()}}]),e}()).\u0275fac=function(e){return new(e||X)(r.Qb(r.h),r.Qb(g.c),r.Qb(m.e),r.Qb(v.c),r.Qb(b.b),r.Qb(h.d),r.Qb(h.b),r.Qb(r.B),r.Qb(h.f))},X.\u0275cmp=r.Kb({type:X,selectors:[["app-root"]],decls:92,vars:62,consts:[[1,"example-container"],["color","primary",1,"example-toolbar"],["mat-icon-button","",3,"click"],["class","example-app-name",4,"ngIf"],[1,"toolbar-spacer"],["mat-icon-button","","mat-button","",3,"matTooltip","matMenuTriggerFor"],["overlapTrigger","false","xPosition","after","yPosition","below"],["matMenuLanguage","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"matTooltip","click"],["aria-hidden","false","aria-label","Code Repo"],[4,"ngIf"],[1,"example-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport"],["snav",""],["hideToggle","false"],["color","primary"],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],[1,"example-app-name"],["mat-menu-item","",3,"click"],["mat-list-item","",3,"routerLink"]],template:function(e,t){if(1&e){var i=r.Xb();r.Wb(0,"div",0),r.Wb(1,"mat-toolbar",1),r.Wb(2,"button",2),r.ec("click",function(){return r.xc(i),r.vc(25).toggle()}),r.Wb(3,"mat-icon"),r.Fc(4,"menu"),r.Vb(),r.Vb(),r.Ec(5,D,2,0,"h1",3),r.Ec(6,R,3,3,"h1",3),r.Rb(7,"span",4),r.Wb(8,"button",5),r.jc(9,"transloco"),r.Wb(10,"mat-icon"),r.Fc(11,"language"),r.Vb(),r.Vb(),r.Wb(12,"mat-menu",6,7),r.Ec(14,F,4,4,"button",8),r.Vb(),r.Wb(15,"button",9),r.ec("click",function(){return t.onUserInfo()}),r.jc(16,"transloco"),r.Wb(17,"mat-icon"),r.Fc(18,"account_box"),r.Vb(),r.Vb(),r.Wb(19,"button",2),r.ec("click",function(){return t.openCodeRepo()}),r.Wb(20,"mat-icon",10),r.Fc(21,"code"),r.Vb(),r.Vb(),r.Ec(22,U,2,1,"span",11),r.Vb(),r.Wb(23,"mat-sidenav-container",12),r.Wb(24,"mat-sidenav",13,14),r.Wb(26,"mat-expansion-panel",15),r.Wb(27,"mat-expansion-panel-header"),r.Wb(28,"mat-panel-title"),r.Wb(29,"mat-icon",16),r.Fc(30,"home"),r.Vb(),r.Fc(31),r.jc(32,"transloco"),r.Vb(),r.Vb(),r.Wb(33,"mat-nav-list"),r.Ec(34,P,3,6,"a",17),r.jc(35,"navItemFilter"),r.Vb(),r.Vb(),r.Wb(36,"mat-expansion-panel",15),r.Wb(37,"mat-expansion-panel-header"),r.Wb(38,"mat-panel-title"),r.Wb(39,"mat-icon",16),r.Fc(40,"school"),r.Vb(),r.Fc(41),r.jc(42,"transloco"),r.Vb(),r.Vb(),r.Wb(43,"mat-nav-list"),r.Ec(44,z,3,6,"a",17),r.jc(45,"navItemFilter"),r.Vb(),r.Vb(),r.Wb(46,"mat-expansion-panel",15),r.Wb(47,"mat-expansion-panel-header"),r.Wb(48,"mat-panel-title"),r.Wb(49,"mat-icon",16),r.Fc(50,"library_books"),r.Vb(),r.Fc(51),r.jc(52,"transloco"),r.Vb(),r.Vb(),r.Wb(53,"mat-nav-list"),r.Ec(54,N,3,6,"a",17),r.jc(55,"navItemFilter"),r.Vb(),r.Vb(),r.Wb(56,"mat-expansion-panel",15),r.Wb(57,"mat-expansion-panel-header"),r.Wb(58,"mat-panel-title"),r.Wb(59,"mat-icon",16),r.Fc(60,"snooze"),r.Vb(),r.Fc(61),r.jc(62,"transloco"),r.Vb(),r.Vb(),r.Wb(63,"mat-nav-list"),r.Ec(64,J,3,6,"a",17),r.jc(65,"navItemFilter"),r.Vb(),r.Vb(),r.Wb(66,"mat-expansion-panel",15),r.Wb(67,"mat-expansion-panel-header"),r.Wb(68,"mat-panel-title"),r.Wb(69,"mat-icon",16),r.Fc(70,"card_membership"),r.Vb(),r.Fc(71),r.jc(72,"transloco"),r.Vb(),r.Vb(),r.Wb(73,"mat-nav-list"),r.Ec(74,L,3,6,"a",17),r.jc(75,"navItemFilter"),r.Vb(),r.Vb(),r.Wb(76,"mat-expansion-panel",15),r.Wb(77,"mat-expansion-panel-header"),r.Wb(78,"mat-panel-title"),r.Wb(79,"mat-icon",16),r.Fc(80,"help_outline"),r.Vb(),r.Fc(81),r.jc(82,"transloco"),r.Vb(),r.Vb(),r.Wb(83,"mat-nav-list"),r.Ec(84,V,3,6,"a",17),r.jc(85,"navItemFilter"),r.Vb(),r.Vb(),r.Wb(86,"mat-nav-list"),r.Wb(87,"a",18),r.ec("click",function(){return r.xc(i),r.vc(25).close()}),r.Fc(88),r.jc(89,"transloco"),r.Vb(),r.Vb(),r.Vb(),r.Wb(90,"mat-sidenav-content"),r.Rb(91,"router-outlet"),r.Vb(),r.Vb(),r.Vb()}if(2&e){var n=r.vc(13);r.Ib("example-is-mobile",t.mobileQuery.matches),r.Eb(5),r.oc("ngIf",t.mobileQuery.matches),r.Eb(1),r.oc("ngIf",!t.mobileQuery.matches),r.Eb(2),r.pc("matTooltip",r.kc(9,26,"Language")),r.oc("matMenuTriggerFor",n),r.Eb(6),r.oc("ngForOf",t.availableLanguages),r.Eb(1),r.pc("matTooltip",r.kc(16,28,"Common.Logon")),r.Eb(7),r.oc("ngIf",!t.mobileQuery.matches),r.Eb(1),r.Bc("margin-top",t.mobileQuery.matches?56:0,"px"),r.Eb(1),r.oc("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),r.Eb(7),r.Hc(" ",r.kc(32,30,"WelcomePage")," "),r.Eb(3),r.oc("ngForOf",r.lc(35,32,t.navItems,0)),r.Eb(7),r.Hc("",r.kc(42,35,"MathExercise.PrimarySchoolBasicMath")," "),r.Eb(3),r.oc("ngForOf",r.lc(45,37,t.navItems,1)),r.Eb(7),r.Hc("",r.kc(52,40,"KnowledgeAndExercise")," "),r.Eb(3),r.oc("ngForOf",r.lc(55,42,t.navItems,7)),r.Eb(7),r.Hc("",r.kc(62,45,"PuzzleGames.PuzzleGames")," "),r.Eb(3),r.oc("ngForOf",r.lc(65,47,t.navItems,3)),r.Eb(7),r.Hc("",r.kc(72,50,"Award.HabitBuilder")," "),r.Eb(3),r.oc("ngForOf",r.lc(75,52,t.navItems,4)),r.Eb(7),r.Hc("",r.kc(82,55,"Help.About")," "),r.Eb(3),r.oc("ngForOf",r.lc(85,57,t.navItems,6)),r.Eb(4),r.Gc(r.kc(89,60,"Common.Close"))}},directives:[y.a,k.b,_.a,u.m,w.a,C.d,C.a,u.l,j.b,j.a,I.c,I.e,I.f,O.e,O.b,j.c,l.f,C.b,l.d],pipes:[m.d,S.a],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.mat-sidenav[_ngcontent-%COMP%]{min-width:200px}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.example-is-mobile[_ngcontent-%COMP%]   .example-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}"]}),X),ie=((Y=function e(t,i){_classCallCheck(this,e),this.dialogRef=t,this.oDataSrv=i,this.displayedColumns=["userid","username","displayas"]}).\u0275fac=function(e){return new(e||Y)(r.Qb(b.g),r.Qb(h.d))},Y.\u0275cmp=r.Kb({type:Y,selectors:[["app-current-user-dlg"]],decls:45,vars:26,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","usrid",3,"ngModel","ngModelChange"],["matInput","","disabled","","name","usrname",3,"ngModel"],["matInput","","disabled","","name","displayas",3,"ngModel"],["matInput","","disabled","","name","createdat",3,"ngModel"],["matInput","","disabled","","name","lastlogon",3,"ngModel"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","userid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","displayas"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(r.Wb(0,"h1",0),r.Fc(1),r.jc(2,"transloco"),r.Vb(),r.Wb(3,"div",1),r.Wb(4,"form"),r.Wb(5,"mat-form-field",2),r.Wb(6,"mat-label"),r.Fc(7),r.jc(8,"transloco"),r.Vb(),r.Wb(9,"input",3),r.ec("ngModelChange",function(e){return t.oDataSrv.currentUserDetail.userID=e}),r.Vb(),r.Vb(),r.Wb(10,"mat-form-field",2),r.Wb(11,"mat-label"),r.Fc(12),r.jc(13,"transloco"),r.Vb(),r.Rb(14,"input",4),r.Vb(),r.Wb(15,"mat-form-field",2),r.Wb(16,"mat-label"),r.Fc(17),r.jc(18,"transloco"),r.Vb(),r.Rb(19,"input",5),r.Vb(),r.Wb(20,"mat-form-field",2),r.Wb(21,"mat-label"),r.Fc(22),r.jc(23,"transloco"),r.Vb(),r.Rb(24,"input",6),r.Vb(),r.Wb(25,"mat-form-field",2),r.Wb(26,"mat-label"),r.Fc(27),r.jc(28,"transloco"),r.Vb(),r.Rb(29,"input",7),r.Vb(),r.Vb(),r.Wb(30,"table",8),r.Ub(31,9),r.Ec(32,Q,2,0,"th",10),r.Ec(33,W,2,1,"td",11),r.Tb(),r.Ub(34,12),r.Ec(35,B,3,3,"th",10),r.Ec(36,H,2,1,"td",11),r.Tb(),r.Ub(37,13),r.Ec(38,K,2,0,"th",10),r.Ec(39,G,2,1,"td",11),r.Tb(),r.Ec(40,$,1,0,"tr",14),r.Ec(41,q,1,0,"tr",15),r.Vb(),r.Vb(),r.Wb(42,"div",16),r.Wb(43,"button",17),r.Fc(44,"OK"),r.Vb(),r.Vb()),2&e&&(r.Eb(1),r.Gc(r.kc(2,14,"Common.CurrentUser")),r.Eb(6),r.Gc(r.kc(8,16,"Common.ID")),r.Eb(2),r.oc("ngModel",t.oDataSrv.currentUserDetail.userID),r.Eb(3),r.Gc(r.kc(13,18,"Common.Name")),r.Eb(2),r.oc("ngModel",t.oDataSrv.currentUserDetail.userName),r.Eb(3),r.Gc(r.kc(18,20,"Common.DisplayAs")),r.Eb(2),r.oc("ngModel",t.oDataSrv.currentUserDetail.displayAs),r.Eb(3),r.Gc(r.kc(23,22,"CreatedAt")),r.Eb(2),r.oc("ngModel",t.oDataSrv.currentUserDetail.createdAtString),r.Eb(3),r.Gc(r.kc(28,24,"CreatedAt")),r.Eb(2),r.oc("ngModel",t.oDataSrv.currentUserDetail.lastLogonAtString),r.Eb(1),r.oc("dataSource",t.oDataSrv.currentUserDetail.awardUsers),r.Eb(10),r.oc("matHeaderRowDef",t.displayedColumns),r.Eb(1),r.oc("matRowDefColumns",t.displayedColumns))},directives:[b.h,b.e,c.v,c.o,c.p,A.c,A.g,x.b,c.c,c.n,c.q,T.j,T.c,T.e,T.b,T.g,T.i,b.c,k.b,b.d,T.d,T.a,T.f,T.h],pipes:[m.d],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}"]}),Y),ne=i("R1ws"),re=i("jIBr"),ae=i("0LvA"),se=i("lR5k"),oe={provide:m.b,useClass:(Z=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getTranslation",value:function(e){return this.http.get("".concat(a.a.basehref,"assets/i18n/").concat(e,".json"))}}]),e}(),Z.\u0275fac=function(e){return new(e||Z)(r.ac(o.a))},Z.\u0275prov=r.Mb({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z)},ue=((ee=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ee)},ee.\u0275mod=r.Ob({type:ee,bootstrap:[te]}),ee.\u0275inj=r.Nb({providers:[h.d,h.f,h.e,h.b,h.a,{provide:m.a,useValue:Object(m.f)({availableLangs:["en","zh"],defaultLang:"zh",reRenderOnLangChange:!0,prodMode:a.a.production})},oe],imports:[[u.c,c.i,c.s,s.a,p,ne.b,o.b,m.c,ae.b,se.b.forRoot({loader:o.a,markedOptions:{provide:se.c,useValue:{gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}),re.a]]}),ee);a.a.production&&Object(r.V)(),s.c().bootstrapModule(ue).catch(function(e){return console.error(e)})},zn8P:function(e,t){function i(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,1,6]]])})();