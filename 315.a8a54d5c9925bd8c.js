"use strict";(self.webpackChunkknowledgebuilder=self.webpackChunkknowledgebuilder||[]).push([[315],{6315:(Ct,V,c)=>{c.r(V),c.d(V,{ExerciseItemsModule:()=>w});var p=c(6895),m=c(4006),j=c(5471),C=c(1525),le=c(6127),ce=c(5146),$=c(9132),e=c(4650),Z=c(8739),E=c(6308),F=c(6451),b=c(9646),Q=c(8675),Y=c(3900),z=c(8746),R=c(4004),G=c(262),s=c(2701),N=c(663),u=c(5938),f=c(4859),M=c(4144),h=c(9549),B=c(6338);const se=["colls"];function me(i,o){if(1&i&&(e.TgZ(0,"mat-list-option",9),e._uU(1),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.Q6J("disabled",n.isItemExistedInColl(t))("value",t.ID),e.xp6(1),e.hij(" ",t.Name," ")}}class S{constructor(o,t){this.dialogRef=o,this.data=t}ngAfterViewInit(){this.colls.selectionChange.subscribe({next:()=>{this.data.collids=[],this.colls.selectedOptions.selected.forEach(o=>{this.data.collids.push(+o.value)})},error:()=>{}})}onNoClick(){this.dialogRef.close()}isItemExistedInColl(o){return-1!==o.Items.findIndex(t=>t.RefID===this.data.excitemid&&t.RefType===s.ik.ExerciseItem)}}S.\u0275fac=function(o){return new(o||S)(e.Y36(u.so),e.Y36(u.WI))},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-exercise-item-addcoll-dlg"]],viewQuery:function(o,t){if(1&o&&e.Gf(se,5),2&o){let n;e.iGM(n=e.CRH())&&(t.colls=n.first)}},decls:21,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","excitemid",3,"ngModel","ngModelChange"],["colls",""],[3,"disabled","value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"disabled","mat-dialog-close"],[3,"disabled","value"]],template:function(o,t){1&o&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"transloco"),e.qZA(),e.TgZ(3,"div",1)(4,"div")(5,"mat-form-field",2)(6,"mat-label"),e._uU(7,"ID"),e.qZA(),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(l){return t.data.excitemid=l}),e.qZA()(),e.TgZ(9,"mat-label"),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e.TgZ(12,"mat-selection-list",null,4),e.YNc(14,me,2,3,"mat-list-option",5),e.qZA()()(),e.TgZ(15,"div",6)(16,"button",7),e.NdJ("click",function(){return t.onNoClick()}),e._uU(17),e.ALo(18,"transloco"),e.qZA(),e.TgZ(19,"button",8),e._uU(20,"OK"),e.qZA()()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,7,"AddToCollection")),e.xp6(7),e.Q6J("ngModel",t.data.excitemid),e.xp6(2),e.Oqu(e.lcZ(11,9,"UserCollection")),e.xp6(4),e.Q6J("ngForOf",t.data.availableColls),e.xp6(3),e.Oqu(e.lcZ(18,11,"Common.NoThanks")),e.xp6(2),e.Q6J("disabled",t.data.collids.length<=0)("mat-dialog-close",t.data))},dependencies:[p.sg,m.Fj,m.JJ,m.On,f.lW,u.ZT,u.uh,u.xY,u.H8,M.Nt,h.KE,h.hX,B.Ub,B.vS,C.Ot],encapsulation:2});class y{constructor(o,t){this.dialogRef=o,this.data=t}onNoClick(){this.dialogRef.close()}get isOKDisabled(){return null==this.data.score||isNaN(+this.data.score)}}y.\u0275fac=function(o){return new(o||y)(e.Y36(u.so),e.Y36(u.WI))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-exercise-item-newscore-dlg"]],decls:24,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill",1,"control-full-width"],["matInput","","disabled","","name","excitemid",3,"ngModel","ngModelChange"],["matInput","","disabled","","name","date",3,"ngModel","ngModelChange"],["matInput","","type","number","name","score",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(o,t){1&o&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"transloco"),e.qZA(),e.TgZ(3,"div",1)(4,"form")(5,"mat-form-field",2)(6,"mat-label"),e._uU(7,"ID"),e.qZA(),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(l){return t.data.excitemid=l}),e.qZA()(),e.TgZ(9,"mat-form-field",2)(10,"mat-label"),e._uU(11,"Date"),e.qZA(),e.TgZ(12,"input",4),e.NdJ("ngModelChange",function(l){return t.data.pracDate=l}),e.qZA()(),e.TgZ(13,"mat-form-field",2)(14,"mat-label"),e._uU(15),e.ALo(16,"transloco"),e.qZA(),e.TgZ(17,"input",5),e.NdJ("ngModelChange",function(l){return t.data.score=l}),e.qZA()()()(),e.TgZ(18,"div",6)(19,"button",7),e.NdJ("click",function(){return t.onNoClick()}),e._uU(20),e.ALo(21,"transloco"),e.qZA(),e.TgZ(22,"button",8),e._uU(23,"OK"),e.qZA()()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,8,"NewPractice")),e.xp6(7),e.Q6J("ngModel",t.data.excitemid),e.xp6(4),e.Q6J("ngModel",t.data.pracDate),e.xp6(3),e.Oqu(e.lcZ(16,10,"Quiz.Score")),e.xp6(2),e.Q6J("ngModel",t.data.score),e.xp6(3),e.Oqu(e.lcZ(21,12,"Common.NoThanks")),e.xp6(2),e.Q6J("disabled",t.isOKDisabled)("mat-dialog-close",t.data))},dependencies:[m._Y,m.Fj,m.wV,m.JJ,m.JL,m.On,m.F,f.lW,u.ZT,u.uh,u.xY,u.H8,M.Nt,h.KE,h.hX,C.Ot],encapsulation:2});var x=c(410),J=c(7392),d=c(3626),O=c(3683),W=c(266);function de(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1,"#"),e.qZA())}function pe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",21)(1,"div"),e._uU(2),e.TgZ(3,"button",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onDisplayItem(r.ID))}),e.ALo(4,"transloco"),e.TgZ(5,"mat-icon"),e._uU(6,"launch"),e.qZA()(),e.TgZ(7,"button",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onChangeItem(r.ID))}),e.ALo(8,"transloco"),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA()(),e.TgZ(11,"button",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onAddToCollection(r.ID))}),e.ALo(12,"transloco"),e.TgZ(13,"mat-icon"),e._uU(14,"add_to_queue"),e.qZA()(),e.TgZ(15,"button",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onNewPractice(r.ID))}),e.ALo(16,"transloco"),e.TgZ(17,"mat-icon"),e._uU(18,"ballot"),e.qZA()(),e.TgZ(19,"button",24),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onDeleteItem(r.ID))}),e.ALo(20,"transloco"),e.TgZ(21,"mat-icon"),e._uU(22,"remove_circle"),e.qZA()()()()}if(2&i){const t=o.$implicit;e.xp6(2),e.hij(" ",t.ID," "),e.xp6(1),e.s9C("matTooltip",e.lcZ(4,6,"Common.Display")),e.xp6(4),e.s9C("matTooltip",e.lcZ(8,8,"Common.Change")),e.xp6(4),e.s9C("matTooltip",e.lcZ(12,10,"AddToCollection")),e.xp6(4),e.s9C("matTooltip",e.lcZ(16,12,"NewPractice")),e.xp6(4),e.s9C("matTooltip",e.lcZ(20,14,"Common.Delete"))}}function ue(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Type")))}function ge(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.getExerciseItemTypeName(t.ItemType)))}}function he(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Tag")))}function _e(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.Tags.toString())}}function fe(i,o){1&i&&(e.TgZ(0,"th",20),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"KnowledgeItem")))}function xe(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.KnowledgeItemID)}}function Ce(i,o){1&i&&(e.TgZ(0,"th",25),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CreatedAt")))}function Te(i,o){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function Ze(i,o){1&i&&e._UZ(0,"tr",26)}function ve(i,o){1&i&&e._UZ(0,"tr",27)}class D{constructor(o,t,n,l){this.odataService=o,this.dialog=t,this.uiUtilSrv=n,this.authService=l,this.displayedColumns=["id","itemtype","tags","knowledgeitem","createdat"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new e.vpe}getExerciseItemTypeName(o){return(0,N.of)(o)}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,F.T)(this.sort.sortChange,this.paginator.page,this.refreshEvent).pipe((0,Q.O)({}),(0,Y.w)(()=>{this.isLoadingResults=!0;const o=this.paginator.pageSize;return this.odataService.getExerciseItems(o,o*this.paginator.pageIndex,this.sort.active,this.sort.direction)}),(0,z.x)(()=>this.isLoadingResults=!1),(0,R.U)(o=>(this.resultsLength=o.totalCount,o.items)),(0,G.K)(()=>(0,b.of)([]))).subscribe({next:o=>this.dataSource=o,error:o=>this.uiUtilSrv.showSnackInfo(o)})}onGoToPreview(){const o=[];this.dataSource.forEach(t=>{o.push({refType:s.ik.ExerciseItem,refId:t.ID})}),this.uiUtilSrv.navigatePreviewPage(o)}onGoToSearch(){this.uiUtilSrv.navigateExerciseItemSearchPage()}onDeleteItem(o){this.odataService.deleteExerciseItem(o).subscribe({next:()=>{this.onRefreshList()},error:t=>{this.uiUtilSrv.showSnackInfo(t)}})}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}onDisplayItem(o){this.uiUtilSrv.navigateExerciseItemDisplayPage(o)}onChangeItem(o){this.uiUtilSrv.navigateExerciseItemChangePage(o)}onAddToCollection(o){this.odataService.getUserCollections().subscribe({next:t=>{const n=t.items;this.dialog.open(S,{width:"600px",closeOnNavigation:!1,data:{excitemid:o,availableColls:n,collids:[]}}).afterClosed().subscribe(r=>{const a=[];r.collids.forEach(K=>{const re=n.findIndex(A=>A.ID===+K);if(-1!==re){const A=new s.ly;A.ID=n[re].ID,A.RefID=o,A.RefType=s.ik.ExerciseItem,a.push(A)}}),a.length>0&&this.odataService.addExerciseItemToCollection(a).subscribe({next:()=>{this.uiUtilSrv.showSnackInfo("DONE")},error:K=>{this.uiUtilSrv.showSnackInfo(K)}})})},error:t=>{this.uiUtilSrv.showSnackInfo(t)}})}onNewPractice(o){this.dialog.open(y,{width:"600px",closeOnNavigation:!1,data:{excitemid:o,pracDate:(new Date).toDateString(),score:void 0}}).afterClosed().subscribe(n=>{const l=new N.oh;l.RefID=o,l.Score=n.score,l.TakenDate=new Date,l.User=this.authService.currentUserId,this.odataService.createExerciseItemUserScore(l).subscribe({next:()=>{this.uiUtilSrv.showSnackInfo("DONE")},error:r=>{this.uiUtilSrv.showSnackInfo(r)}})})}}D.\u0275fac=function(o){return new(o||D)(e.Y36(x.CB),e.Y36(u.uw),e.Y36(x.dM),e.Y36(x.e8))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-exercise-items"]],viewQuery:function(o,t){if(1&o&&(e.Gf(Z.NW,5),e.Gf(E.YE,5)),2&o){let n;e.iGM(n=e.CRH())&&(t.paginator=n.first),e.iGM(n=e.CRH())&&(t.sort=n.first)}},decls:48,vars:25,consts:[[1,"toolbar-spacer"],["mat-icon-button","","color","primary","routerLink","create",3,"matTooltip"],["mat-icon-button","","color","accent",2,"margin-left","12px",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent","routerLink","score",2,"margin-left","12px",3,"matTooltip"],["mat-icon-button","","color","accent",3,"disabled","matTooltip","click"],["mat-icon-button","","color","accent",2,"margin-left","12px",3,"matTooltip","click"],[1,"example-container","mat-elevation-z8"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemtype"],["matColumnDef","tags"],["matColumnDef","knowledgeitem"],["matColumnDef","createdat"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-icon-button","","color","accent",3,"matTooltip","click"],["mat-icon-button","","color","warn",3,"matTooltip","click"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(o,t){1&o&&(e.TgZ(0,"mat-toolbar-row")(1,"span")(2,"h1"),e._uU(3),e.ALo(4,"transloco"),e.qZA()(),e._UZ(5,"span",0),e.TgZ(6,"section")(7,"button",1),e.ALo(8,"transloco"),e.TgZ(9,"mat-icon"),e._uU(10,"add_circle"),e.qZA()(),e.TgZ(11,"button",2),e.NdJ("click",function(){return t.onGoToSearch()}),e.ALo(12,"transloco"),e.TgZ(13,"mat-icon"),e._uU(14,"search"),e.qZA()(),e.TgZ(15,"button",3),e.ALo(16,"transloco"),e.TgZ(17,"mat-icon"),e._uU(18,"recent_actors"),e.qZA()(),e.TgZ(19,"button",4),e.NdJ("click",function(){return t.onGoToPreview()}),e.ALo(20,"transloco"),e.TgZ(21,"mat-icon"),e._uU(22,"slideshow"),e.qZA()(),e.TgZ(23,"button",5),e.NdJ("click",function(){return t.onRefreshList()}),e.ALo(24,"transloco"),e.TgZ(25,"mat-icon"),e._uU(26,"refresh"),e.qZA()()()(),e.TgZ(27,"div",6)(28,"div",7)(29,"table",8),e.NdJ("matSortChange",function(){return t.resetPaging()}),e.ynx(30,9),e.YNc(31,de,2,0,"th",10),e.YNc(32,pe,23,16,"td",11),e.BQk(),e.ynx(33,12),e.YNc(34,ue,3,3,"th",10),e.YNc(35,ge,3,3,"td",11),e.BQk(),e.ynx(36,13),e.YNc(37,he,3,3,"th",10),e.YNc(38,_e,2,1,"td",11),e.BQk(),e.ynx(39,14),e.YNc(40,fe,3,3,"th",10),e.YNc(41,xe,2,1,"td",11),e.BQk(),e.ynx(42,15),e.YNc(43,Ce,3,3,"th",16),e.YNc(44,Te,3,4,"td",11),e.BQk(),e.YNc(45,Ze,1,0,"tr",17),e.YNc(46,ve,1,0,"tr",18),e.qZA()(),e._UZ(47,"mat-paginator",19),e.qZA()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,13,"ExerciseItem")),e.xp6(4),e.s9C("matTooltip",e.lcZ(8,15,"Common.Create")),e.xp6(4),e.s9C("matTooltip",e.lcZ(12,17,"Common.Search")),e.Q6J("disabled",t.dataSource.length<=0),e.xp6(4),e.s9C("matTooltip",e.lcZ(16,19,"PracticeHistories")),e.xp6(4),e.s9C("matTooltip",e.lcZ(20,21,"Common.Preview")),e.Q6J("disabled",t.dataSource.length<=0),e.xp6(4),e.s9C("matTooltip",e.lcZ(24,23,"Common.Refresh")),e.xp6(6),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("length",t.resultsLength)("pageSize",20))},dependencies:[f.RK,J.Hw,Z.NW,E.YE,E.nU,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,O.rD,W.gM,$.rH,p.uU,C.Ot],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:300px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]});var Ie=c(4707),X=c(9521),_=c(3778),ee=c(9909),P=c(3238),g=c(3546),L=c(7331),U=c(7084),H=c(4385),te=c(4156);function we(i,o){if(1&i&&(e.TgZ(0,"mat-option",22),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.i18nterm))}}function Ae(i,o){1&i&&(e.TgZ(0,"mat-icon",25),e._uU(1,"cancel"),e.qZA())}function Ee(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip-row",23),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removeTag(r))}),e._uU(1),e.YNc(2,Ae,2,0,"mat-icon",24),e.qZA()}if(2&i){const t=o.$implicit,n=e.oxw();e.Q6J("removable",n.isEditable),e.xp6(1),e.hij(" ",t," "),e.xp6(1),e.Q6J("ngIf",n.isEditable)}}function be(i,o){if(1&i&&(e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6),e.ALo(7,"transloco"),e.TgZ(8,"mat-icon"),e._uU(9,"info"),e.qZA()()(),e.TgZ(10,"div",26)(11,"div",27)(12,"mat-form-field",4)(13,"mat-label"),e._uU(14),e.ALo(15,"transloco"),e.qZA(),e._UZ(16,"input",28),e.ALo(17,"transloco"),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",27)(20,"mat-form-field",4)(21,"mat-label"),e._uU(22),e.ALo(23,"transloco"),e.qZA(),e._UZ(24,"input",28),e.ALo(25,"transloco"),e.ALo(26,"date"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"Administrative")),e.xp6(3),e.Oqu(e.lcZ(7,10,"AdministrativeInfo")),e.xp6(8),e.Oqu(e.lcZ(15,12,"CreatedAt")),e.xp6(2),e.s9C("placeholder",e.lcZ(17,14,"CreatedAt")),e.Q6J("ngModel",e.xi3(18,16,t.itemObject.CreatedAt,"yyyy-M-d HH:mm:ss")),e.xp6(6),e.Oqu(e.lcZ(23,19,"ModifiedAt")),e.xp6(2),e.s9C("placeholder",e.lcZ(25,21,"ModifiedAt")),e.Q6J("ngModel",e.xi3(26,23,t.itemObject.ModifiedAt,"yyyy-M-d HH:mm:ss"))}}function Ne(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-toolbar")(1,"h3"),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e._UZ(4,"div",18),e.TgZ(5,"button",19),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.openUploadDialog())}),e._uU(6,"Upload"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Content")))}function Me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"nu-monaco-editor",29),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw();return e.KtG(r.content=l)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("options",t.editorOptions)("ngModel",t.content)}}function Se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"nu-monaco-editor",29),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw();return e.KtG(r.answerContent=l)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("options",t.editorOptions)("ngModel",t.answerContent)}}class T{get isDisplayMode(){return this.uiMode===_.sk.Display}get isCreateMode(){return this.uiMode===_.sk.Create}get isUpdateMode(){return this.uiMode===_.sk.Update}get isEditable(){return this.uiMode===_.sk.Create||this.uiMode===_.sk.Update}constructor(o,t,n,l){this.dialog=o,this.activateRoute=t,this.uiUtilSrv=n,this.odataService=l,this.routerID=-1,this.uiMode=_.sk.Create,this.currentMode="",this.editorOptions={theme:"vs-dark",roundedSelection:!0},this.content="New Exercise Item",this.answerContent="",this.mathOptions={displayMode:!0,throwOnError:!1,errorColor:"#cc0000"},this.selectable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[X.K5,X.OC],this.tags=[],this.arExerciseTypes=[],this.arExerciseTypes=(0,N.BF)(),this.itemFormGroup=new m.nJ({idControl:new m.p4({value:null,disabled:!0}),typeControl:new m.p4({value:N.Ue.Question}),knowledgeControl:new m.p4,tagControl:new m.p4})}ngOnInit(){this.destroyed$=new Ie.t(1),this.activateRoute.url.subscribe({next:o=>{o instanceof Array&&o.length>0&&("create"===o[0].path?(this.routerID=-1,this.uiMode=_.sk.Create,this.currentMode="Common.Create"):"edit"===o[0].path?(this.routerID=+o[1].path,this.uiMode=_.sk.Update,this.currentMode="Common.Change"):"display"===o[0].path&&(this.routerID=+o[1].path,this.uiMode=_.sk.Display,this.currentMode="Common.Display")),-1!==this.routerID&&this.odataService.readExerciseItem(this.routerID,this.uiMode===_.sk.Update).subscribe({next:t=>{this.onSetItemData(t),this.itemObject=t},error:t=>{console.error(t)}})},error:o=>{this.uiUtilSrv.showSnackInfo(o)}})}ngOnDestroy(){this.destroyed$&&(this.destroyed$.complete(),this.destroyed$=void 0)}onOK(){if(this.isCreateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.error(this.itemFormGroup.errors));this.itemObject=new N.ce,this.itemObject.ItemType=this.itemFormGroup.get("typeControl")?.value,this.itemObject.Content=this.content,this.itemObject.Tags=this.tags,this.itemObject.Answer=this.answerContent,this.odataService.createExerciseItem(this.itemObject).subscribe({next:o=>{this.uiUtilSrv.navigateExerciseItemDisplayPage(o.ID)},error:o=>{this.uiUtilSrv.showSnackInfo(o)}})}else if(this.isUpdateMode){if(!this.itemFormGroup.valid)return void(this.itemFormGroup.errors&&console.log(this.itemFormGroup.errors));this.itemObject&&(this.itemObject.ItemType=this.itemFormGroup.get("typeControl")?.value,this.itemObject.Content=this.content,this.itemObject.Tags=this.tags,this.itemObject.Answer=this.answerContent,this.odataService.changeExerciseItem(this.itemObject).subscribe({next:o=>{this.uiUtilSrv.navigateExerciseItemDisplayPage(o.ID)},error:o=>{this.uiUtilSrv.showSnackInfo(o)}}))}}openUploadDialog(){this.dialog.open(ee.J,{width:"50%",height:"50%"}).afterClosed().subscribe({next:t=>{console.log(t),t.forEach(n=>{this.content+=`\n![Img](${n.url})\n          `})}})}openAnswerUploadDialog(){this.dialog.open(ee.J,{width:"50%",height:"50%"}).afterClosed().subscribe({next:t=>{console.log(t),t.forEach(n=>{this.answerContent+=`\n  ![Img](${n.url})\n            `})}})}addTag(o){const t=o.input,n=o.value;(n||"").trim()&&this.tags.push(n.trim()),t&&(t.value="")}removeTag(o){const t=this.tags.indexOf(o);t>=0&&this.tags.splice(t,1)}onSetItemData(o){this.itemFormGroup.get("idControl")?.setValue(o.ID),this.itemFormGroup.get("idControl")?.disable(),this.itemFormGroup.get("typeControl")?.setValue(+o.ItemType),this.content=o.Content,o.Answer&&(this.answerContent=o.Answer),this.tags=o.Tags,this.isDisplayMode?this.itemFormGroup.disable():this.itemFormGroup.markAsPristine()}onReturnToList(){this.uiUtilSrv.navigateExerciseItemListPage()}onCreateNewOne(){this.uiUtilSrv.navigateExerciseItemCreatePage()}}T.\u0275fac=function(o){return new(o||T)(e.Y36(u.uw),e.Y36($.gz),e.Y36(x.dM),e.Y36(x.CB))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-exercise-item-detail"]],decls:72,vars:49,consts:[["appearance","outlined"],["multi","",1,"exerciseitem-headers-align"],["expanded",""],[1,"exerciseitem-form",3,"formGroup"],["appearance","fill",1,"control-full-width"],["matInput","","type","text","placeholder","ID","formControlName","idControl"],["required","","formControlName","typeControl"],[3,"value",4,"ngFor","ngForOf"],["formControlName","tagControl"],["chipList",""],[3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","New tag...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["matInput","","type","text","placeholder","Knowledge ID","formControlName","knowledgeControl"],[4,"ngIf"],[1,"control-full-width","row",2,"height","500px"],["class","col-lg-6 col-sm-12",4,"ngIf"],[1,"col-lg-6","col-sm-12",2,"height","100%","overflow-y","scroll"],["katex","",3,"data","katexOptions"],[1,"toolbar-spacer"],["mat-raised-button","",3,"click"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"],[3,"value"],[3,"removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"control-full-width","row"],[1,"col-lg-6","col-sm-12"],["matInput","","type","text","disabled","",3,"placeholder","ngModel"],[2,"height","100%",3,"options","ngModel","ngModelChange"]],template:function(o,t){if(1&o&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"transloco"),e.qZA()(),e.TgZ(8,"mat-card-content")(9,"mat-accordion",1)(10,"mat-expansion-panel",2)(11,"mat-expansion-panel-header")(12,"mat-panel-title"),e._uU(13),e.ALo(14,"transloco"),e.qZA(),e.TgZ(15,"mat-panel-description"),e._uU(16),e.ALo(17,"transloco"),e.TgZ(18,"mat-icon"),e._uU(19,"public"),e.qZA()()(),e.TgZ(20,"form",3)(21,"mat-form-field",4)(22,"mat-label"),e._uU(23,"#"),e.qZA(),e._UZ(24,"input",5),e.qZA(),e.TgZ(25,"mat-form-field",4)(26,"mat-label"),e._uU(27),e.ALo(28,"transloco"),e.qZA(),e.TgZ(29,"mat-select",6),e.YNc(30,we,3,4,"mat-option",7),e.qZA()(),e.TgZ(31,"mat-form-field",4)(32,"mat-label"),e._uU(33),e.ALo(34,"transloco"),e.qZA(),e.TgZ(35,"mat-chip-grid",8,9),e.YNc(37,Ee,3,3,"mat-chip-row",10),e.TgZ(38,"input",11),e.NdJ("matChipInputTokenEnd",function(l){return t.addTag(l)}),e.qZA()()(),e.TgZ(39,"mat-form-field",4)(40,"mat-label"),e._uU(41),e.ALo(42,"transloco"),e.qZA(),e._UZ(43,"input",12),e.qZA()()(),e.YNc(44,be,27,26,"mat-expansion-panel",13),e.qZA(),e.YNc(45,Ne,7,3,"mat-toolbar",13),e.TgZ(46,"div",14),e.YNc(47,Me,2,2,"div",15),e.TgZ(48,"div",16),e._UZ(49,"markdown",17),e.qZA()(),e.TgZ(50,"mat-toolbar")(51,"h3"),e._uU(52),e.ALo(53,"transloco"),e.qZA(),e._UZ(54,"div",18),e.TgZ(55,"button",19),e.NdJ("click",function(){return t.openAnswerUploadDialog()}),e.TgZ(56,"mat-icon"),e._uU(57,"file_upload"),e.qZA()()(),e.TgZ(58,"div",14),e.YNc(59,Se,2,2,"div",15),e.TgZ(60,"div",16),e._UZ(61,"markdown",17),e.qZA()()(),e.TgZ(62,"mat-card-actions")(63,"button",20),e.NdJ("click",function(){return t.onOK()}),e._uU(64),e.ALo(65,"transloco"),e.qZA(),e.TgZ(66,"button",21),e.NdJ("click",function(){return t.onReturnToList()}),e._uU(67),e.ALo(68,"transloco"),e.qZA(),e.TgZ(69,"button",20),e.NdJ("click",function(){return t.onCreateNewOne()}),e._uU(70),e.ALo(71,"transloco"),e.qZA()()()),2&o){const n=e.MAs(36);e.xp6(3),e.Oqu(e.lcZ(4,27,"ExerciseItem")),e.xp6(3),e.Oqu(e.lcZ(7,29,t.currentMode)),e.xp6(7),e.Oqu(e.lcZ(14,31,"Header")),e.xp6(3),e.Oqu(e.lcZ(17,33,"HeaderInfo")),e.xp6(4),e.Q6J("formGroup",t.itemFormGroup),e.xp6(7),e.Oqu(e.lcZ(28,35,"Type")),e.xp6(3),e.Q6J("ngForOf",t.arExerciseTypes),e.xp6(3),e.Oqu(e.lcZ(34,37,"Tags")),e.xp6(4),e.Q6J("ngForOf",t.tags),e.xp6(1),e.Q6J("matChipInputFor",n)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),e.xp6(3),e.Oqu(e.lcZ(42,39,"KnowledgeItem")),e.xp6(3),e.Q6J("ngIf",!t.isCreateMode&&t.itemObject),e.xp6(1),e.Q6J("ngIf",t.isCreateMode),e.xp6(2),e.Q6J("ngIf",!t.isDisplayMode),e.xp6(2),e.Q6J("data",t.content)("katexOptions",t.mathOptions),e.xp6(3),e.Oqu(e.lcZ(53,41,"Answer")),e.xp6(7),e.Q6J("ngIf",!t.isDisplayMode),e.xp6(2),e.Q6J("data",t.answerContent)("katexOptions",t.mathOptions),e.xp6(2),e.Q6J("disabled",!(t.isEditable&&t.itemFormGroup.valid)),e.xp6(1),e.Oqu(e.lcZ(65,43,"Save")),e.xp6(3),e.Oqu(e.lcZ(68,45,"Common.ReturnToList")),e.xp6(2),e.Q6J("disabled",!t.isDisplayMode),e.xp6(1),e.Oqu(e.lcZ(71,47,"Common.CreateAnotherOne"))}},dependencies:[p.sg,p.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.On,m.sg,m.u,P.ey,f.lW,g.a8,g.hq,g.dn,g.dk,g.$j,g.n5,L.RA,L.oH,L.qH,L.z3,U.pp,U.ib,U.yz,U.yK,U.u4,J.Hw,M.Nt,h.KE,h.hX,H.gD,O.Ye,te.eV,j.lF,p.uU,C.Ot],styles:[".exerciseitem-form[_ngcontent-%COMP%]{margin:8px;min-width:150px;max-width:500px;width:100%}.mat-mdc-card-actions[_ngcontent-%COMP%]{margin-top:10px}.exerciseitem-action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.exerciseitem-headers-align[_ngcontent-%COMP%]{margin:8px}.exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.exerciseitem-headers-align[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}"]});var oe=c(1135),ie=c(6709),v=c(9602),ye=c(4850),ne=c(7467);function Oe(i,o){if(1&i&&(e.TgZ(0,"mat-option",26),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.displayas)," ")}}function De(i,o){if(1&i&&(e.TgZ(0,"mat-option",26),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.i18nterm)," ")}}function Ue(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",27),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[0])}}function ke(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",28),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[1]=l)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[1])}}function qe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",29),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[0])}}function $e(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",30),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.ALo(2,"transloco"),e.qZA(),e._UZ(3,"mat-datepicker-toggle",31)(4,"mat-datepicker",null,32),e.qZA()}if(2&i){const t=e.MAs(5),n=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,4,"Value")),e.Q6J("ngModel",n.value[0])("matDatepicker",t),e.xp6(2),e.Q6J("for",t)}}function Je(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"input",30),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[1]=l)}),e.ALo(2,"transloco"),e.qZA(),e._UZ(3,"mat-datepicker-toggle",31)(4,"mat-datepicker",null,33),e.qZA()}if(2&i){const t=e.MAs(5),n=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,4,"Value")),e.Q6J("ngModel",n.value[1])("matDatepicker",t),e.xp6(2),e.Q6J("for",t)}}function Le(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"mat-checkbox",35),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.value[0])}}function Fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"mat-form-field")(2,"mat-select",19),e.NdJ("ngModelChange",function(l){const a=e.CHM(t).$implicit;return e.KtG(a.fieldName=l)})("selectionChange",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onFieldSelectionChanged(r))}),e.ALo(3,"transloco"),e.YNc(4,Oe,3,4,"mat-option",20),e.qZA()(),e.TgZ(5,"mat-form-field")(6,"mat-select",21),e.NdJ("ngModelChange",function(l){const a=e.CHM(t).$implicit;return e.KtG(a.operator=l)}),e.ALo(7,"transloco"),e.YNc(8,De,3,4,"mat-option",20),e.ALo(9,"operatorFilter"),e.qZA()(),e.YNc(10,Ue,3,4,"mat-form-field",22),e.YNc(11,ke,3,4,"mat-form-field",22),e.YNc(12,qe,3,4,"mat-form-field",22),e.YNc(13,$e,6,6,"mat-form-field",22),e.YNc(14,Je,6,6,"mat-form-field",22),e.YNc(15,Le,2,1,"div",23),e.TgZ(16,"button",24),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onAddFilter())}),e.TgZ(17,"mat-icon"),e._uU(18,"add"),e.qZA()(),e.TgZ(19,"button",25),e.NdJ("click",function(){const r=e.CHM(t).index,a=e.oxw();return e.KtG(a.onRemoveFilter(r))}),e.TgZ(20,"mat-icon"),e._uU(21,"close"),e.qZA()()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,12,"Field")),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.Q6J("ngForOf",n.allFields),e.xp6(2),e.s9C("placeholder",e.lcZ(7,14,"Operator")),e.Q6J("ngModel",t.operator),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,16,n.allOperators,t.valueType)),e.xp6(2),e.Q6J("ngIf",1===t.valueType),e.xp6(1),e.Q6J("ngIf",1===t.valueType),e.xp6(1),e.Q6J("ngIf",2===t.valueType),e.xp6(1),e.Q6J("ngIf",3===t.valueType),e.xp6(1),e.Q6J("ngIf",3===t.valueType),e.xp6(1),e.Q6J("ngIf",4===t.valueType)}}function Qe(i,o){1&i&&(e.TgZ(0,"th",36),e._uU(1,"#"),e.qZA())}function Ye(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",37)(1,"div"),e._uU(2),e.TgZ(3,"a",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onDisplayItem(r.ID))}),e._uU(4),e.ALo(5,"transloco"),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(2),e.hij(" ",t.ID," "),e.xp6(2),e.Oqu(e.lcZ(5,2,"Common.Display"))}}function Re(i,o){1&i&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Type")))}function Ge(i,o){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.getExerciseItemTypeName(t.ItemType)))}}function Pe(i,o){1&i&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Tag")))}function He(i,o){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.Tags.toString())}}function Ke(i,o){1&i&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"KnowledgeItem")))}function Ve(i,o){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.KnowledgeItemID)}}function je(i,o){1&i&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CreatedAt")))}function ze(i,o){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.CreatedAt,"yyyy-M-d HH:mm:ss"))}}function Be(i,o){1&i&&e._UZ(0,"tr",39)}function We(i,o){1&i&&e._UZ(0,"tr",40)}class k{constructor(o,t){this.odataService=o,this.uiUtilSrv=t,this.filters=[],this.allOperators=[],this.allFields=[],this.filterEditable=!0,this.pageSize=20,this.pageSizeOptions=[20,40,60,100],this.isLoadingResults=!1,this.resultsLength=0,this.subjFilters=new oe.X([]),this.displayedColumns=["id","itemtype","tags","knowledgeitem","createdat"],this.dataSource=[],this.resultsLength=0,this.allOperators=s.c.getGeneralFilterOperatorDisplayStrings(),this.allFields=[{displayas:"Content",value:"Content",valueType:2},{displayas:"Tag",value:"Tags",valueType:2},{displayas:"Type",value:"ExerciseType",valueType:2}]}ngOnInit(){this.onAddFilter()}ngAfterViewInit(){this.subjFilters.subscribe(()=>this.paginator.pageIndex=0),(0,F.T)(this.subjFilters,this.paginator.page).pipe((0,Q.O)({}),(0,Y.w)(()=>{if(this.subjFilters.value.length<=0)return(0,b.of)([]);this.isLoadingResults=!0;const o=this.prepareFilters(this.subjFilters.value),t=this.paginator.pageSize;return this.odataService.searchExerciseItems(t,t*this.paginator.pageIndex,o)}),(0,z.x)(()=>this.isLoadingResults=!1),(0,R.U)(o=>(this.resultsLength=o.totalCount?o.totalCount:0,o.items)),(0,G.K)(()=>(0,b.of)(void 0))).subscribe({next:o=>{this.dataSource=o||[],0===this.dataSource.length&&this.uiUtilSrv.showSnackInfo("No record found")},error:o=>this.uiUtilSrv.showSnackInfo(o)})}getExerciseItemTypeName(o){return(0,s.of)(o)}onAddFilter(){this.filters.push(new s.T$)}onRemoveFilter(o){this.filters.splice(o,1),0===this.filters.length&&this.onAddFilter()}onFieldSelectionChanged(o){this.allFields.forEach(t=>{t.value===o.fieldName&&(o.valueType=t.valueType)})}prepareFilters(o){let t="";o.sort((l,r)=>l.fieldName.localeCompare(r.fieldName));let n=o.map(l=>l.fieldName);return n=Array.from(new Set(n)),n.forEach(l=>{let r="";o.forEach(a=>{a.fieldName===l&&("Content"===a.fieldName||"Tags"===a.fieldName)&&(a.operator===s.Nu.Equal?r=r?`${r} or ${a.fieldName} eq '${a.lowValue}'`:`${a.fieldName} eq '${a.lowValue}'`:a.operator===s.Nu.Like&&(r=r?`${r} or contains(${a.fieldName},'${a.lowValue}')`:`contains(${a.fieldName},'${a.lowValue}')`))}),t=t?`${t} and ${r}`:`${r}`}),t}onSearch(){const o=[];this.filters.forEach(t=>{const n={};switch(n.valueType=+t.valueType,t.valueType){case s._g.boolean:case s._g.date:case s._g.number:break;case s._g.string:n.fieldName=t.fieldName,n.operator=+t.operator,n.lowValue=t.value[0],n.highValue=t.operator===s.Nu.Between?t.value[1]:""}o.push(n)}),this.subjFilters.next(o)}onDisplayItem(o){this.uiUtilSrv.navigateExerciseItemDisplayPage(o)}onGoToPreview(){const o=[];this.dataSource.forEach(t=>{o.push({refType:s.ik.ExerciseItem,refId:t.ID})}),this.uiUtilSrv.navigatePreviewPage(o)}}k.\u0275fac=function(o){return new(o||k)(e.Y36(x.CB),e.Y36(x.dM))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-exercise-item-search"]],viewQuery:function(o,t){if(1&o&&e.Gf(Z.NW,7),2&o){let n;e.iGM(n=e.CRH())&&(t.paginator=n.first)}},decls:44,vars:19,consts:[["appearance","outlined"],["class","control-full-width",4,"ngFor","ngForOf"],[1,"control-full-width"],["mat-button","","aria-label","Search",3,"click"],[1,"table-container","mat-elevation-z8"],["color","primary"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemtype"],["matColumnDef","tags"],["matColumnDef","knowledgeitem"],["matColumnDef","createdat"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"placeholder","ngModel","ngModelChange"],[4,"ngIf"],["class","typechkbox",4,"ngIf"],["mat-icon-button","","aria-label","Add",3,"click"],["mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"],["matInput","","type","number","name","lvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","number","name","hvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","text","name","lvalue_2",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"ngModel","matDatepicker","placeholder","ngModelChange"],["matSuffix","",3,"for"],["lvpicker",""],["hvpicker",""],[1,"typechkbox"],[3,"ngModel","ngModelChange"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,t){1&o&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.ALo(7,"transloco"),e.qZA()(),e.TgZ(8,"mat-card-content")(9,"div"),e.YNc(10,Fe,22,19,"div",1),e.TgZ(11,"div",2)(12,"button",3),e.NdJ("click",function(){return t.onSearch()}),e.TgZ(13,"mat-icon"),e._uU(14,"search"),e.qZA(),e._uU(15),e.ALo(16,"transloco"),e.qZA()()(),e._UZ(17,"mat-divider"),e.TgZ(18,"div",4)(19,"mat-toolbar",5)(20,"mat-toolbar-row")(21,"button",6),e.NdJ("click",function(){return t.onGoToPreview()}),e._uU(22),e.ALo(23,"transloco"),e.qZA()()(),e.TgZ(24,"div",7)(25,"table",8),e.ynx(26,9),e.YNc(27,Qe,2,0,"th",10),e.YNc(28,Ye,6,4,"td",11),e.BQk(),e.ynx(29,12),e.YNc(30,Re,3,3,"th",10),e.YNc(31,Ge,3,3,"td",11),e.BQk(),e.ynx(32,13),e.YNc(33,Pe,3,3,"th",10),e.YNc(34,He,2,1,"td",11),e.BQk(),e.ynx(35,14),e.YNc(36,Ke,3,3,"th",10),e.YNc(37,Ve,2,1,"td",11),e.BQk(),e.ynx(38,15),e.YNc(39,je,3,3,"th",10),e.YNc(40,ze,3,4,"td",11),e.BQk(),e.YNc(41,Be,1,0,"tr",16),e.YNc(42,We,1,0,"tr",17),e.qZA()(),e._UZ(43,"mat-paginator",18),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,11,"ExerciseItem")),e.xp6(3),e.Oqu(e.lcZ(7,13,"Common.Search")),e.xp6(4),e.Q6J("ngForOf",t.filters),e.xp6(5),e.hij(" ",e.lcZ(16,15,"Common.Search")," "),e.xp6(6),e.Q6J("disabled",t.resultsLength<=0),e.xp6(1),e.Oqu(e.lcZ(23,17,"Common.Preview")),e.xp6(3),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("length",t.resultsLength)("pageSize",10))},dependencies:[p.sg,p.O5,m.Fj,m.wV,m.JJ,m.On,P.ey,f.zs,f.lW,f.RK,g.a8,g.dn,g.dk,g.$j,g.n5,ie.oG,v.Mq,v.hl,v.nW,ye.d,J.Hw,M.Nt,h.KE,h.R9,Z.NW,H.gD,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,O.Ye,O.rD,p.uU,C.Ot,ne.M],styles:[".table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;margin-top:16px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.data-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}"]});var Xe=c(5439),ae=c.n(Xe);function et(i,o){if(1&i&&(e.TgZ(0,"mat-option",32),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.displayas))}}function tt(i,o){if(1&i&&(e.TgZ(0,"mat-option",32),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(e.lcZ(2,2,t.i18nterm))}}function ot(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-form-field",34)(2,"input",35),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.ALo(3,"transloco"),e.qZA()(),e.TgZ(4,"mat-form-field",34)(5,"input",36),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[1]=l)}),e.ALo(6,"transloco"),e.qZA()()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("placeholder",e.lcZ(3,4,"Value")),e.Q6J("ngModel",t.value[0]),e.xp6(3),e.s9C("placeholder",e.lcZ(6,6,"Value")),e.Q6J("ngModel",t.value[1])}}function it(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-form-field",34)(2,"input",37),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.ALo(3,"transloco"),e.qZA(),e._UZ(4,"mat-datepicker-toggle",38)(5,"mat-datepicker",null,39),e.qZA(),e.TgZ(7,"mat-form-field",34)(8,"input",37),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[1]=l)}),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"mat-datepicker-toggle",38)(11,"mat-datepicker",null,40),e.qZA()()}if(2&i){const t=e.MAs(6),n=e.MAs(12),l=e.oxw().$implicit;e.xp6(2),e.s9C("placeholder",e.lcZ(3,8,"Value")),e.Q6J("ngModel",l.value[0])("matDatepicker",t),e.xp6(2),e.Q6J("for",t),e.xp6(4),e.s9C("placeholder",e.lcZ(9,10,"Value")),e.Q6J("ngModel",l.value[1])("matDatepicker",n),e.xp6(2),e.Q6J("for",n)}}function nt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"mat-checkbox",41),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.value[0])}}function at(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"input",42),e.NdJ("ngModelChange",function(l){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.value[0]=l)}),e.ALo(2,"transloco"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"Value")),e.Q6J("ngModel",t.value[0])}}function rt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"mat-form-field",21)(2,"mat-select",22),e.NdJ("ngModelChange",function(l){const a=e.CHM(t).$implicit;return e.KtG(a.fieldName=l)})("selectionChange",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onFieldSelectionChanged(r))}),e.ALo(3,"transloco"),e.YNc(4,et,3,4,"mat-option",23),e.qZA()(),e.TgZ(5,"mat-form-field",24)(6,"mat-select",25),e.NdJ("ngModelChange",function(l){const a=e.CHM(t).$implicit;return e.KtG(a.operator=l)}),e.ALo(7,"transloco"),e.YNc(8,tt,3,4,"mat-option",23),e.ALo(9,"operatorFilter"),e.qZA()(),e.TgZ(10,"div",26),e.YNc(11,ot,7,8,"div",27),e.YNc(12,it,13,12,"div",27),e.YNc(13,nt,2,1,"div",27),e.YNc(14,at,3,4,"div",28),e.qZA(),e.TgZ(15,"div",29)(16,"button",30),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onAddFilter())}),e.TgZ(17,"mat-icon"),e._uU(18,"add"),e.qZA()(),e.TgZ(19,"button",31),e.NdJ("click",function(){const r=e.CHM(t).index,a=e.oxw();return e.KtG(a.onRemoveFilter(r))}),e.TgZ(20,"mat-icon"),e._uU(21,"close"),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,10,"Field")),e.Q6J("ngModel",t.fieldName),e.xp6(2),e.Q6J("ngForOf",n.allFields),e.xp6(2),e.s9C("placeholder",e.lcZ(7,12,"Operator")),e.Q6J("ngModel",t.operator),e.xp6(2),e.Q6J("ngForOf",e.xi3(9,14,n.allOperators,t.valueType)),e.xp6(2),e.Q6J("ngSwitch",t.valueType),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",3),e.xp6(1),e.Q6J("ngSwitchCase",4)}}function lt(i,o){1&i&&(e.TgZ(0,"th",43),e._uU(1,"#"),e.qZA())}function ct(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",44),e._uU(1),e.TgZ(2,"button",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onDeleteItem(r.ID))}),e.ALo(3,"transloco"),e.TgZ(4,"mat-icon"),e._uU(5,"remove_circle"),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",t.ID," "),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,2,"Common.Delete"))}}function st(i,o){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ExerciseItem")))}function mt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",44),e._uU(1),e.TgZ(2,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onDisplayExerciseItem(r.RefID))}),e.ALo(3,"transloco"),e.TgZ(4,"mat-icon"),e._uU(5,"launch"),e.qZA()(),e.TgZ(6,"button",47),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onChangeExerciseItem(r.RefID))}),e.ALo(7,"transloco"),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA()()()}if(2&i){const t=o.$implicit;e.xp6(1),e.hij(" ",t.RefID," "),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"Common.Display")),e.xp6(4),e.s9C("matTooltip",e.lcZ(7,5,"Common.Change"))}}function dt(i,o){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Quiz.Date")))}function pt(i,o){if(1&i&&(e.TgZ(0,"td",44),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.TakenDate,"yyyy-M-d"))}}function ut(i,o){1&i&&(e.TgZ(0,"th",43),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Quiz.Score")))}function gt(i,o){if(1&i&&(e.TgZ(0,"td",44)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(1),e.Tol(t.Score>=60?"success-score":"fail-score"),e.xp6(1),e.Oqu(t.Score)}}function ht(i,o){1&i&&e._UZ(0,"tr",48)}function _t(i,o){1&i&&e._UZ(0,"tr",49)}class q{constructor(o,t){this.odataService=o,this.uiUtilSrv=t,this.filters=[],this.allOperators=[],this.allFields=[],this.filterEditable=!0,this.displayedColumns=["id","refid","takendate","score"],this.dataSource=[],this.resultsLength=0,this.isLoadingResults=!0,this.refreshEvent=new e.vpe,this.subjFilters=new oe.X([]),this.allOperators=s.c.getGeneralFilterOperatorDisplayStrings(),this.allFields=[{displayas:"Content",value:"Content",valueType:2},{displayas:"Quiz.Date",value:"TakenDate",valueType:3},{displayas:"Quiz.Score",value:"Score",valueType:1},{displayas:"ExerciseItem",value:"RefID",valueType:1}]}ngOnInit(){this.onAddFilter()}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,F.T)(this.sort.sortChange,this.paginator.page,this.refreshEvent,this.subjFilters).pipe((0,Q.O)({}),(0,Y.w)(()=>{if(this.subjFilters.value.length<=0)return(0,b.of)([]);this.isLoadingResults=!0;const o=this.prepareFilters(this.subjFilters.value),t=this.paginator.pageSize;return this.odataService.getExerciseItemUserScores(t,t*this.paginator.pageIndex,o)}),(0,R.U)(o=>(this.isLoadingResults=!1,this.resultsLength=o.totalCount?o.totalCount:0,o.items)),(0,G.K)(()=>(this.isLoadingResults=!1,(0,b.of)([])))).subscribe(o=>this.dataSource=o||[])}onAddFilter(){this.filters.push(new s.T$)}onRemoveFilter(o){this.filters.splice(o,1),0===this.filters.length&&this.onAddFilter()}onFieldSelectionChanged(o){this.allFields.forEach(t=>{t.value===o.fieldName&&(o.valueType=t.valueType)})}prepareFilters(o){let t="";o.sort((l,r)=>l.fieldName.localeCompare(r.fieldName));let n=o.map(l=>l.fieldName);return n=Array.from(new Set(n)),n.forEach(l=>{let r="";o.forEach(a=>{a.fieldName===l&&("Content"===a.fieldName?a.operator===s.Nu.Equal?r=r?`${r} or ${a.fieldName} eq '${a.lowValue}'`:`${a.fieldName} eq '${a.lowValue}'`:a.operator===s.Nu.Like&&(r=r?`${r} or contains(${a.fieldName},'${a.lowValue}')`:`contains(${a.fieldName},'${a.lowValue}')`):"Score"===a.fieldName||"RefID"===a.fieldName?a.operator===s.Nu.Equal?r=r?`${r} or ${a.fieldName} eq ${a.lowValue}`:`${a.fieldName} eq ${a.lowValue}`:a.operator===s.Nu.LargerEqual?r=r?`${r} or ${a.fieldName} ge ${a.lowValue}`:`${a.fieldName} ge ${a.lowValue}`:a.operator===s.Nu.LargerThan?r=r?`${r} or ${a.fieldName} gt ${a.lowValue}`:`${a.fieldName} gt ${a.lowValue}`:a.operator===s.Nu.LessEqual?r=r?`${r} or ${a.fieldName} le ${a.lowValue}`:`${a.fieldName} le ${a.lowValue}`:a.operator===s.Nu.LessThan?r=r?`${r} or ${a.fieldName} lt ${a.lowValue}`:`${a.fieldName} lt ${a.lowValue}`:a.operator===s.Nu.NotEqual&&(r=r?`${r} or ${a.fieldName} ne ${a.lowValue}`:`${a.fieldName} ne ${a.lowValue}`):"TakenDate"===a.fieldName&&(a.operator===s.Nu.Equal?r=r?`${r} or date(${a.fieldName}) eq ${a.lowValue}`:`date(${a.fieldName}) eq ${a.lowValue}`:a.operator===s.Nu.LargerEqual?r=r?`${r} or date(${a.fieldName}) ge ${a.lowValue}`:`date(${a.fieldName}) ge ${a.lowValue}`:a.operator===s.Nu.LargerThan?r=r?`${r} or date(${a.fieldName}) gt ${a.lowValue}`:`date(${a.fieldName}) gt ${a.lowValue}`:a.operator===s.Nu.LessEqual?r=r?`${r} or date(${a.fieldName}) le ${a.lowValue}`:`date(${a.fieldName}) le ${a.lowValue}`:a.operator===s.Nu.LessThan?r=r?`${r} or date(${a.fieldName}) lt ${a.lowValue}`:`date(${a.fieldName}) lt ${a.lowValue}`:a.operator===s.Nu.NotEqual&&(r=r?`${r} or date(${a.fieldName}) ne ${a.lowValue}`:`date(${a.fieldName}) ne ${a.lowValue}`)))}),t=t?`${t} and ${r}`:`${r}`}),t}onSearch(){const o=[];this.filters.forEach(t=>{const n={};switch(n.valueType=+t.valueType,t.valueType){case s._g.boolean:break;case s._g.date:n.fieldName=t.fieldName,n.operator=+t.operator,n.lowValue=ae()(t.value[0]).format("YYYY-MM-DD"),n.highValue=t.operator===s.Nu.Between?ae()(t.value[1]).format("YYYY-MM-DD"):"";break;case s._g.number:n.fieldName=t.fieldName,n.operator=+t.operator,n.lowValue=+t.value[0],n.highValue=t.operator===s.Nu.Between?+t.value[1]:"";break;case s._g.string:n.fieldName=t.fieldName,n.operator=+t.operator,n.lowValue=t.value[0],n.highValue=t.operator===s.Nu.Between?t.value[1]:""}o.push(n)}),this.subjFilters.next(o)}onGoToExerciseItems(){this.uiUtilSrv.navigateExerciseItemListPage()}onDisplayExerciseItem(o){this.uiUtilSrv.navigateExerciseItemDisplayPage(o)}onChangeExerciseItem(o){this.uiUtilSrv.navigateKnowledgeItemChangePage(o)}onDeleteItem(o){this.odataService.deleteExerciseItemUserScore(o).subscribe({next:()=>{this.uiUtilSrv.showSnackInfo("DONE"),this.onRefreshList()},error:t=>{this.uiUtilSrv.showSnackInfo(t)}})}onGoToPreview(){const o=[];this.dataSource.forEach(t=>{o.push({refType:s.ik.ExerciseItem,refId:t.RefID})}),this.uiUtilSrv.navigatePreviewPage(o)}onRefreshList(){this.refreshEvent.emit()}resetPaging(){this.paginator.pageIndex=0}}q.\u0275fac=function(o){return new(o||q)(e.Y36(x.CB),e.Y36(x.dM))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-exercise-item-score"]],viewQuery:function(o,t){if(1&o&&(e.Gf(Z.NW,5),e.Gf(E.YE,5)),2&o){let n;e.iGM(n=e.CRH())&&(t.paginator=n.first),e.iGM(n=e.CRH())&&(t.sort=n.first)}},decls:47,vars:25,consts:[[1,"toolbar-spacer"],["mat-raised-button","",3,"matTooltip","click"],[2,"margin","8px"],["class","control-full-width row gx-5",4,"ngFor","ngForOf"],[1,"control-full-width"],["mat-button","","aria-label","Search","color","primary",3,"click"],["mat-button","","color","accent",3,"disabled","matTooltip","click"],["mat-button","","color","accent",3,"matTooltip","click"],[1,"exerciseitem-score-container","mat-elevation-z8"],[1,"table-container"],["mat-table","","matSort","",1,"example-table",3,"dataSource","matSortChange"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","refid"],["matColumnDef","takendate"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"control-full-width","row","gx-5"],[1,"col-4"],[3,"placeholder","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],[3,"placeholder","ngModel","ngModelChange"],[1,"col-4","gx-5",3,"ngSwitch"],["class","row",4,"ngSwitchCase"],["class","row",4,"ngSwitchDefault"],[1,"col-2","row"],["mat-button","","aria-label","Add",1,"col-6",3,"click"],["mat-button","","aria-label","Clear",1,"col-6",3,"click"],[3,"value"],[1,"row"],[1,"col-6"],["matInput","","type","number","name","lvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","","type","number","name","hvalue_1",3,"placeholder","ngModel","ngModelChange"],["matInput","",3,"ngModel","matDatepicker","placeholder","ngModelChange"],["matSuffix","",3,"for"],["lvpicker",""],["hvpicker",""],[3,"ngModel","ngModelChange"],["matInput","","name","lvalue_2",3,"placeholder","ngModel","ngModelChange"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"matTooltip","click"],["mat-icon-button","","color","primary",3,"matTooltip","click"],["mat-icon-button","","color","accent",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""]],template:function(o,t){1&o&&(e.TgZ(0,"mat-toolbar-row")(1,"span")(2,"h1"),e._uU(3),e.ALo(4,"transloco"),e.qZA()(),e._UZ(5,"span",0),e.TgZ(6,"section")(7,"button",1),e.NdJ("click",function(){return t.onGoToExerciseItems()}),e.ALo(8,"transloco"),e._uU(9),e.ALo(10,"transloco"),e.qZA()()(),e.TgZ(11,"div",2),e.YNc(12,rt,22,17,"div",3),e.TgZ(13,"div",4)(14,"button",5),e.NdJ("click",function(){return t.onSearch()}),e.TgZ(15,"mat-icon"),e._uU(16,"search"),e.qZA(),e._uU(17),e.ALo(18,"transloco"),e.qZA()()(),e.TgZ(19,"mat-toolbar-row")(20,"section")(21,"button",6),e.NdJ("click",function(){return t.onGoToPreview()}),e.ALo(22,"transloco"),e.TgZ(23,"mat-icon"),e._uU(24,"slideshow"),e.qZA()(),e.TgZ(25,"button",7),e.NdJ("click",function(){return t.onRefreshList()}),e.ALo(26,"transloco"),e.TgZ(27,"mat-icon"),e._uU(28,"refresh"),e.qZA()()()(),e.TgZ(29,"div",8)(30,"div",9)(31,"table",10),e.NdJ("matSortChange",function(){return t.resetPaging()}),e.ynx(32,11),e.YNc(33,lt,2,0,"th",12),e.YNc(34,ct,6,4,"td",13),e.BQk(),e.ynx(35,14),e.YNc(36,st,3,3,"th",12),e.YNc(37,mt,10,7,"td",13),e.BQk(),e.ynx(38,15),e.YNc(39,dt,3,3,"th",12),e.YNc(40,pt,3,4,"td",13),e.BQk(),e.ynx(41,16),e.YNc(42,ut,3,3,"th",12),e.YNc(43,gt,3,3,"td",13),e.BQk(),e.YNc(44,ht,1,0,"tr",17),e.YNc(45,_t,1,0,"tr",18),e.qZA()(),e._UZ(46,"mat-paginator",19),e.qZA()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,13,"PracticeHistories")),e.xp6(4),e.s9C("matTooltip",e.lcZ(8,15,"ExerciseItem")),e.xp6(2),e.Oqu(e.lcZ(10,17,"ExerciseItem")),e.xp6(3),e.Q6J("ngForOf",t.filters),e.xp6(5),e.hij(" ",e.lcZ(18,19,"Common.Search")," "),e.xp6(4),e.s9C("matTooltip",e.lcZ(22,21,"Common.Preview")),e.Q6J("disabled",t.dataSource.length<=0),e.xp6(4),e.s9C("matTooltip",e.lcZ(26,23,"Common.Refresh")),e.xp6(6),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("length",t.resultsLength)("pageSize",20))},dependencies:[p.sg,p.RF,p.n9,p.ED,m.Fj,m.wV,m.JJ,m.On,P.ey,f.lW,f.RK,ie.oG,v.Mq,v.hl,v.nW,J.Hw,M.Nt,h.KE,h.R9,Z.NW,H.gD,E.YE,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,O.rD,W.gM,p.uU,C.Ot,ne.M],styles:[".exerciseitem-score-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.table-container[_ngcontent-%COMP%]{position:relative;min-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%;height:100%}.mat-column-id[_ngcontent-%COMP%]{max-width:300px;width:250px}.mat-column-itemtype[_ngcontent-%COMP%]{max-width:120px;width:120px}.mat-column-tags[_ngcontent-%COMP%]{max-width:250px;width:150px}.mat-column-created[_ngcontent-%COMP%]{max-width:120px;width:120px}.success-score[_ngcontent-%COMP%]{color:green;font-size:16px}.fail-score[_ngcontent-%COMP%]{color:red;font-size:16px}"]});const ft=[{path:"",component:D},{path:"create",component:T},{path:"display/:id",component:T},{path:"edit/:id",component:T},{path:"search",component:k},{path:"score",component:q}];class I{}I.\u0275fac=function(o){return new(o||I)},I.\u0275mod=e.oAB({type:I}),I.\u0275inj=e.cJS({imports:[$.Bz.forChild(ft),$.Bz]});var xt=c(558);class w{}w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[p.ez,m.u5,m.UX,le.U,ce.l,te.ob,j.JP.forChild(),I,C.y4,xt.D]})}}]);